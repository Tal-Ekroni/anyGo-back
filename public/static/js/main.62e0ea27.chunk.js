(this["webpackJsonpmy-first-cli-proj"]=this["webpackJsonpmy-first-cli-proj"]||[]).push([[0],{430:function(e){e.exports=JSON.parse('[{"_id":"1321fd32s456","name":"BCN Villa Olimpica Beach","assetType":"Entire duplex","uniqueStay":true,"imgUrls":["https://res.cloudinary.com/dkbfdybze/image/upload/v1632992546/final%20sprint/idobarc1_pyxuat.jpg","https://res.cloudinary.com/dkbfdybze/image/upload/v1632992546/final%20sprint/idobarc2_ulxp8r.jpg","https://res.cloudinary.com/dkbfdybze/image/upload/v1632992546/final%20sprint/idobarc3_xnmjoj.jpg","https://res.cloudinary.com/dkbfdybze/image/upload/v1632992546/final%20sprint/idobarc4_esietv.jpg","https://res.cloudinary.com/dkbfdybze/image/upload/v1632992546/final%20sprint/idobarc5_igehcm.jpg"],"price":175,"summary":"The apartment Villa Olimpica beach is located on the 5th floor of a building with elevator.The living room with warm colors consists of a comfortable sofa in front of a flat-screen TV. You will also have table with 7 chairs, where you will be able to get together for a sunny breakfast or surfing on the internet with the high speed WIFI connection.","capacity":5,"amenities":["TV","Wifi","Kitchen","Smoking allowed","Pets allowed","Cooking basics"],"host":{"_id":"51399391","fullname":"Davit Pok","imgUrl":"https://a0.muscache.com/im/pictures/fab79f25-2e10-4f0f-9711-663cb69dc7d8.jpg?aki_policy=profile_small"},"loc":{"country":"Spain","countryCode":"ES","address":"Barcelona, Spain","lat":41.40279407651066,"lng":2.204288073227125},"reviews":[{"by":{"fullname":"Jaime","_id":"2314sd3a1d32a","imgUrl":"https://a0.muscache.com/im/pictures/fab79f25-2e10-4f0f-9711-663cb69dc7d8.jpg?aki_policy=profile_small"},"createdAt":"23/8/21","txt":"Highly recommend Lana\'s apartment. Very clean, smartly decorated and conveniently located in a nice quiet neighborhood.","id":"1348DF6798","cleanliness":"5","communication":"5","checkIn":"4","accuracy":"4","location":"4","value":"4"},{"createdAt":"28/07/19","txt":"Alain and Lana\u2019s place is in the most perfect location: close to the metro and just a few blocks from the beach/nightlife. The beds were comfy and the WiFi was fast, which we appreciated. There is also an amazing restaurant on the corner across the street","id":"1348645gdf64","by":{"fullname":"Tara","_id":"2314sd3dssda1d32a","imgUrl":"https://a0.muscache.com/im/pictures/fab79f25-2e10-4f0f-9711-663cb69dc7d8.jpg?aki_policy=profile_small"},"cleanliness":"4","communication":"5","checkIn":"3","accuracy":"4","location":"5","value":"4"},{"by":{"fullname":"Jennifer","_id":"23d23dssda1d32a","imgUrl":"https://a0.muscache.com/im/pictures/fab79f25-2e10-4f0f-9711-663cb69dc7d8.jpg?aki_policy=profile_small"},"createdAt":"03/03/19","txt":"A great place for a quiet get away. Alain and Lana were very easy to work with and helped out a lot with giving us local recommendations. A little far from touristy things but would be great in the summer as you are very close to the beach. Overall, a great place and a fun time!","id":"13486798","cleanliness":"3","communication":"2","checkIn":"5","accuracy":"4","location":"5","value":"4"},{"createdAt":"02/07/20","txt":"We were a group of five which worked well, but the three people who had to sleep on the second floor complained about the heat and hot air. But then again they\xb4re three guys and it\xb4s summer.","id":"1546511144","by":{"fullname":"Betino","_id":"23d23ds70652a","imgUrl":"https://a0.muscache.com/im/pictures/fab79f25-2e10-4f0f-9711-663cb69dc7d8.jpg?aki_policy=profile_small"},"cleanliness":"3","communication":"4","checkIn":"5","accuracy":"3","location":"5","value":"3"},{"createdAt":"15/02/20","txt":"The canoe was our favourite part and we took a little adventure around the lake. In the evening we sat outside and could hear black grouse in the forest.","id":"1564987231","by":{"fullname":"Anita Green","_id":"23d23ds7065dsf2a","imgUrl":"https://a0.muscache.com/im/pictures/fab79f25-2e10-4f0f-9711-663cb69dc7d8.jpg?aki_policy=profile_small"},"cleanliness":"3","communication":"3","checkIn":"4","accuracy":"4","location":"5","value":"3"},{"by":{"fullname":"Loribeth","_id":"23d23ds7064","imgUrl":"https://a0.muscache.com/im/pictures/fab79f25-2e10-4f0f-9711-663cb69dc7d8.jpg?aki_policy=profile_small"},"name":"Loribeth","createdAt":"23/10/20","txt":"Our group almost didn\'t book here due to the single bathroom and we were a group of 6 ladies on a mother /daughter trip. That would have been a huge mistake. I am so glad we decided to give it a try. This place is AMAZING!! ","id":"4561302","cleanliness":"4","communication":"2","checkIn":"5","accuracy":"4","location":"3","value":"4"}],"bookedDates":[]},{"_id":"123459645352K","name":"Great Room in the heart of New York! ","assetType":"Entire duplex","uniqueStay":true,"imgUrls":["https://res.cloudinary.com/dkbfdybze/image/upload/v1632992546/final%20sprint/idony1_ipvoev.jpg","https://res.cloudinary.com/dkbfdybze/image/upload/v1632992547/final%20sprint/idony2_tuhw07.jpg","https://res.cloudinary.com/dkbfdybze/image/upload/v1632992547/final%20sprint/idony3_fuvpw1.jpg","https://res.cloudinary.com/dkbfdybze/image/upload/v1632992547/final%20sprint/idony4_nrhwcd.jpg","https://res.cloudinary.com/dkbfdybze/image/upload/v1632992547/final%20sprint/idony5_auqfhx.jpg"],"price":300,"summary":"! You will be in a great neighborhood with plenty of shops, restaurants, grocery stores, and dance floors.Situated In Hells Kitchen, my apartment has easy access to Penn Station, Times Square, and the mythical Empire State Building!","capacity":2,"amenities":["TV","Wifi","Kitchen","Pets allowed","Cooking basics"],"host":{"_id":"51399393","fullname":"Lily Duarte","imgUrl":"https://a0.muscache.com/im/pictures/fab79f25-2e10-4f0f-9711-663cb69dc7d8.jpg?aki_policy=profile_small"},"loc":{"country":"United States","countryCode":"PT","address":"New York, United States","lat":40.78743999752874,"lng":-73.97596},"reviews":[{"by":{"fullname":"Christina","_id":"23d23dsf7064","imgUrl":"https://a0.muscache.com/im/pictures/fab79f25-2e10-4f0f-9711-663cb69dc7d8.jpg?aki_policy=profile_small"},"name":"Christina","createdAt":"23/10/20","txt":"Absolutely love the location! You\u2019re only a few blocks away from Times Square and also continently near a subway entrance. The restroom was really nice and seemed like it had just been renovated or kept very clean. The living room sofa is extremely uncomfortable BUT there is an air mattress to make up for that. I highly recommend sleeping on the air mattress NOT SOFA if you have a larger party that needs 3 beds. Both bedrooms were great, clean and spacious. ","id":"1348674568","cleanliness":"5","communication":"4","checkIn":"4","accuracy":"3","location":"4","value":"2"},{"by":{"fullname":"Pat","_id":"23d23dsf7qwqw","imgUrl":"https://a0.muscache.com/im/pictures/fab79f25-2e10-4f0f-9711-663cb69dc7d8.jpg?aki_policy=profile_small"},"createdAt":"20/07/19","txt":"A very spacious and well furnished spot in the city! The location is stellar. Would definitely stay again","id":"13486412564","cleanliness":"4","communication":"5","checkIn":"4","accuracy":"4","location":"5","value":"5"},{"by":{"fullname":"Bruce","_id":"23l3dsf7qwqw","imgUrl":"https://a0.muscache.com/im/pictures/fab79f25-2e10-4f0f-9711-663cb69dc7d8.jpg?aki_policy=profile_small"},"createdAt":"03/05/20","txt":"LOCATION, LOCATION, LOCATION. Very clean, very comfortable. All amenities and more that you need for a short stay. Only downside was the A/C. It was hot and very humid on our weekend stay. If the A/C was working correctly yhen we would not have had any negative comments whatsoever.","id":"134gffd86798","cleanliness":"4","communication":"4","checkIn":"5","accuracy":"4","location":"5","value":"5"},{"by":{"fullname":"Anne","_id":"23l3dsfsa7qwqw","imgUrl":"https://a0.muscache.com/im/pictures/fab79f25-2e10-4f0f-9711-663cb69dc7d8.jpg?aki_policy=profile_small"},"createdAt":"02/11/20","txt":"Great location - easy walking to Times Square, Central Park, Broadway, and more. The apartment is clean, adorable, and fit 4 adults very well. Check-in and check-out were seamless. Definitely recommend!","id":"1546511144fds","cleanliness":"3","communication":"4","checkIn":"5","accuracy":"4","location":"5","value":"3"},{"by":{"fullname":"Jonathan","_id":"23l3pllsa7qwqw","imgUrl":"https://a0.muscache.com/im/pictures/fab79f25-2e10-4f0f-9711-663cb69dc7d8.jpg?aki_policy=profile_small"},"createdAt":"15/07/21","txt":"In summary, our stay at this place was fairly good. It was accessible, comfortable, and the apartment represented accurately within the AirBnB platform. You and your group will have privacy and we weren\'t concerned about noise coming into or out of the apartment.","id":"1564987fds231","cleanliness":"3","communication":"3","checkIn":"5","accuracy":"4","location":"5","value":"3"},{"by":{"fullname":"Riley","_id":"23l3pll7qwqw","imgUrl":"https://a0.muscache.com/im/pictures/fab79f25-2e10-4f0f-9711-663cb69dc7d8.jpg?aki_policy=profile_small"},"createdAt":"23/10/20","txt":"Location was great and place was nice. One of the beds is super hard and has a weird sink hole in it but other than that, we enjoyed our stay.","id":"4561302","cleanliness":"4","communication":"3","checkIn":"5","accuracy":"5","location":"4","value":"4"}],"bookedDates":[]},{"_id":"1234596gdf45352K","name":"Canal house - Heart of Amsterdam ","assetType":"Entire loft","uniqueStay":true,"imgUrls":["https://res.cloudinary.com/dkbfdybze/image/upload/v1632992545/final%20sprint/idoamster1_pvgo5y.jpg","https://res.cloudinary.com/dkbfdybze/image/upload/v1632992545/final%20sprint/idoamster2_ztbgzc.jpg","https://res.cloudinary.com/dkbfdybze/image/upload/v1632992545/final%20sprint/idoamster3_dfii3r.jpg","https://res.cloudinary.com/dkbfdybze/image/upload/v1632992545/final%20sprint/idoamster4_aagtiz.jpg","https://res.cloudinary.com/dkbfdybze/image/upload/v1632992545/final%20sprint/idoamster1_pvgo5y.jpg"],"price":215,"summary":"! You will be in a great neighborhood with plenty of shops, restaurants, grocery stores, and dance floors.Situated In Hells Kitchen, my apartment has easy access to Penn Station, Times Square, and the mythical Empire State Building!","capacity":4,"amenities":["Free parking on premises","Hot tub","TV","Wifi","Kitchen","Pets allowed","Cooking basics"],"host":{"_id":"u102","fullname":"Houston Anderson","imgUrl":" "},"loc":{"country":"Netherlands","countryCode":"NT","address":"Amsterdam, Noord Holland, Netherlands","lat":52.370894938271775,"lng":4.884357915791814},"reviews":[{"by":{"fullname":"Caroline","_id":"l3pll7cvqwqw","imgUrl":"https://a0.muscache.com/im/pictures/fab79f25-2e10-4f0f-9711-663cb69dc7d8.jpg?aki_policy=profile_small"},"createdAt":"23/10/20","txt":"Absolutely love the location! You\u2019re only a few blocks away from Times Square and also continently near a subway entrance. The restroom was really nice and seemed like it had just been renovated or kept very clean. The living room sofa is extremely uncomfortable BUT there is an air mattress to make up for that. I highly recommend sleeping on the air mattress NOT SOFA if you have a larger party that needs 3 beds. Both bedrooms were great, clean and spacious. ","id":"1348674568","cleanliness":"5","communication":"4","checkIn":"4","accuracy":"3","location":"4","value":"2"},{"by":{"fullname":"Pat","_id":"2l3pll7cvqwqw","imgUrl":"https://a0.muscache.com/im/pictures/fab79f25-2e10-4f0f-9711-663cb69dc7d8.jpg?aki_policy=profile_small"},"createdAt":"20/09/21","txt":"My husband and I had an amazing stay here! Take and Eline were very accommodating and helpful. The apartment is clean, comfortable, and spacious with an amazing canal view. We would definitely stay again!","id":"1348641256fdsdfs4","cleanliness":"4","communication":"5","checkIn":"5","accuracy":"5","location":"4","value":"5"},{"by":{"fullname":"Per Andreas","_id":"23l3pll7cvqwqw","imgUrl":"https://a0.muscache.com/im/pictures/fab79f25-2e10-4f0f-9711-663cb69dc7d8.jpg?aki_policy=profile_small"},"createdAt":"03/09/20","txt":"This was a great place to stay, walking ditstance to the city and train station. The hosts was helpfull and eady to communicate with. The view over the canal was great, i really do recomend this for an authentic experience","id":"134gffd86gfd798","cleanliness":"4","communication":"3","checkIn":"3","accuracy":"4","location":"5","value":"4"},{"by":{"fullname":"Clarice","_id":"23l123al7cvqwqw","imgUrl":"https://a0.muscache.com/im/pictures/fab79f25-2e10-4f0f-9711-663cb69dc7d8.jpg?aki_policy=profile_small"},"createdAt":"02/11/20","txt":"Beautiful space, great location wonderful hosts. Highly recommended","id":"154651114sda4fds","cleanliness":"3","communication":"4","checkIn":"5","accuracy":"4","location":"5","value":"3"},{"by":{"fullname":"Kat","_id":"2gf3poil7cvqwqw","imgUrl":"https://a0.muscache.com/im/pictures/fab79f25-2e10-4f0f-9711-663cb69dc7d8.jpg?aki_policy=profile_small"},"createdAt":"15/07/21","txt":"Take & Eline have the most perfect apartment to stay at on a quiet historic street in Amsterdam. Would stay here again in a heartbeat.","id":"1sadd7fds231","cleanliness":"5","communication":"4","checkIn":"4","accuracy":"4","location":"5","value":"5"},{"by":{"fullname":"Jason","_id":"23l3dsapoil7cvqwqw","imgUrl":"https://a0.muscache.com/im/pictures/fab79f25-2e10-4f0f-9711-663cb69dc7d8.jpg?aki_policy=profile_small"},"createdAt":"16/04/20","txt":"My husband and I stayed here for the first week of our honeymoon and it could not have been more perfect. Take is extremely kind and respectful, and gave us great recommendations for non-tourist heavy areas which we appreciated. The location is PERFECT! We were right in the middle of everything, and the view of the canal from the windows is gorgeous! We spent so much time walking around the beautiful city and it felt like coming home when we returned to the apartment. We will definitely be returning!!","id":"4561das302","cleanliness":"4","communication":"4","checkIn":"5","accuracy":"5","location":"4","value":"5"}],"bookedDates":[]},{"_id":"1000643546","name":"Fantastic duplex","assetType":"Entire duplex","uniqueStay":true,"imgUrls":["https://res.cloudinary.com/dkbfdybze/image/upload/v1632992547/final%20sprint/paris-1_fncmzb.jpg","https://res.cloudinary.com/dkbfdybze/image/upload/v1632992547/final%20sprint/paris-2_cxc9qx.jpg","https://res.cloudinary.com/dkbfdybze/image/upload/v1632992547/final%20sprint/paris-3_gc9g6w.jpg","https://res.cloudinary.com/dkbfdybze/image/upload/v1632992547/final%20sprint/paris-4_izliov.jpg","https://res.cloudinary.com/dkbfdybze/image/upload/v1632992547/final%20sprint/paris-5_ulypyg.jpg"],"price":75,"summary":"Fantastic duplex apartment with three bedrooms, located in the center of Paris,France","capacity":6,"amenities":["TV","Wifi","Kitchen","Smoking allowed","Pets allowed","Cooking basics"],"host":{"_id":"51399191","fullname":"Joe james","imgUrl":"https://a0.muscache.com/im/pictures/fab79f25-2e10-4f0f-9711-663cb69dc7d8.jpg?aki_policy=profile_small"},"loc":{"country":"France","countryCode":"FR","address":"Paris,France","lat":48.88457718058372,"lng":2.3755325806193097},"reviews":[{"id":"idlior1","txt":"Amazing\xa0appatment\xa0right\xa0in\xa0the\xa0center\xa0of\xa0the\xa0city!","cleanliness":5,"communication":3,"checkIn":4,"accuracy":5,"location":5,"value":4,"by":{"_id":"u101","fullname":"Roei parker","imgUrl":"/img/img2.jpg"}},{"id":"idlior2","txt":"Had no troubles talking with the owner, and there was alot of resturants in the area","cleanliness":4,"communication":5,"checkIn":4,"accuracy":4,"location":5,"value":5,"by":{"_id":"u103","fullname":"David lewis","imgUrl":"/img/img2.jpg"}},{"id":"idlior3","txt":"Amazing duplex and amazing location !","cleanliness":4,"communication":5,"checkIn":5,"accuracy":5,"location":4,"value":5,"by":{"_id":"u104","fullname":"Jimmy yon","imgUrl":"/img/img2.jpg"}},{"id":"idlior4","txt":"love paris very much and the appartment was incredible","cleanliness":5,"communication":3,"checkIn":4,"accuracy":5,"location":4,"value":5,"by":{"_id":"u105","fullname":"Ron jameson","imgUrl":"/img/img2.jpg"}}],"bookedDates":[],"likedByUserIds":["u101","u102"]},{"_id":"1000643576","name":"Condo in paris","assetType":"Entire duplex","uniqueStay":false,"imgUrls":["https://res.cloudinary.com/dkbfdybze/image/upload/v1632992547/final%20sprint/paris-6_ufjhv2.jpg","https://res.cloudinary.com/dkbfdybze/image/upload/v1632992547/final%20sprint/paris-7_ctf3z6.jpg","https://res.cloudinary.com/dkbfdybze/image/upload/v1632992548/final%20sprint/paris-8_i2odrl.jpg","https://res.cloudinary.com/dkbfdybze/image/upload/v1632992548/final%20sprint/paris-9_r8q2rf.jpg","https://res.cloudinary.com/dkbfdybze/image/upload/v1632992548/final%20sprint/paris-10_tiywh5.jpg"],"price":50,"summary":"Hello my name is Davit and this is my condo,located in center paris","capacity":10,"amenities":["TV","Wifi","Kitchen","Smoking allowed","Pets allowed","Cooking basics"],"host":{"_id":"51399691","fullname":"Davit Pok","imgUrl":"https://a0.muscache.com/im/pictures/fab79f25-2e10-4f0f-9711-663cb69dc7d8.jpg?aki_policy=profile_small"},"loc":{"country":"France","countryCode":"FR","address":"Paris,France","lat":48.873287831198844,"lng":2.366606189692121},"reviews":[{"id":"idlior5","txt":"Very nice place and very easy to get to and from to travel around","cleanliness":4,"communication":3,"checkIn":4,"accuracy":4,"location":5,"value":4,"by":{"_id":"u105","fullname":"Johans burg","imgUrl":"/img/img2.jpg"}},{"id":"idlior6","txt":"The appartment itself is pretty nice and the neighbors were very friendly","cleanliness":5,"communication":5,"checkIn":4,"accuracy":4,"location":4,"value":4,"by":{"_id":"u106","fullname":"Rachel park","imgUrl":"/img/img2.jpg"}},{"id":"idlior7","txt":"Had some troubles with the shower but the owner showed up the same day to fix it,but great location","cleanliness":2,"communication":5,"checkIn":3,"accuracy":4,"location":5,"value":4,"by":{"_id":"u107","fullname":"Bob manswi","imgUrl":"/img/img2.jpg"}},{"id":"idlior8","txt":"Lovely appartment! I\'ll recommend going to the resturant bellow the place","cleanliness":3,"communication":4,"checkIn":5,"accuracy":4,"location":4,"value":4,"by":{"_id":"u108","fullname":"Hana kilter","imgUrl":"/img/img2.jpg"}}],"bookedDates":[],"likedByUserIds":["u101","u102"]},{"_id":"1005643576","name":"Cottage in the outskirts of paris","assetType":"Entire duplex","uniqueStay":true,"imgUrls":["https://res.cloudinary.com/dkbfdybze/image/upload/v1632992545/final%20sprint/cabin-1_xu7dyq.jpg","https://res.cloudinary.com/dkbfdybze/image/upload/v1632992545/final%20sprint/cabin-2_aza2wo.jpg","https://res.cloudinary.com/dkbfdybze/image/upload/v1632992545/final%20sprint/cabin-3_irafx0.jpg","https://res.cloudinary.com/dkbfdybze/image/upload/v1632992545/final%20sprint/cabin-4_ecnmku.jpg","https://res.cloudinary.com/dkbfdybze/image/upload/v1632992545/final%20sprint/cabin-5_l7p7oh.jpg"],"price":100,"summary":"Welcome to my cottage in the outskirts of paris where you can enjoy the peace and quiet","capacity":5,"amenities":["TV","Wifi","Kitchen","Smoking allowed","Pets allowed","Cooking basics"],"host":{"_id":"54399691","fullname":"Ronald johns","imgUrl":"https://a0.muscache.com/im/pictures/fab79f25-2e10-4f0f-9711-663cb69dc7d8.jpg?aki_policy=profile_small"},"loc":{"country":"France","countryCode":"FR","address":"Paris,France","lat":48.63009092645991,"lng":2.0752923656714324},"reviews":[{"id":"idlior9","txt":"Such a lovely place and very quiet, although i had a little bit of trobule getting here","cleanliness":4,"communication":5,"checkIn":4,"accuracy":5,"location":2,"value":4,"by":{"_id":"u109","fullname":"Moe hams","imgUrl":"/img/img2.jpg"}},{"id":"idlior10","txt":"beautiful place surrounded by an even prettier area","cleanliness":4,"communication":4,"checkIn":4,"accuracy":4,"location":4,"value":4,"by":{"_id":"u1010","fullname":"Mark zukmo","imgUrl":"/img/img2.jpg"}},{"id":"idlior11","txt":"Very nice place and clean. Peacful and quite area to the people who want to get away from the city","cleanliness":5,"communication":3,"checkIn":4,"accuracy":3,"location":5,"value":4,"by":{"_id":"u1011","fullname":"Joey bobba","imgUrl":"/img/img2.jpg"}},{"id":"idlior12","txt":"Amazing place!! the cottage itself was very clean and very comfortable to stay in","cleanliness":5,"communication":5,"checkIn":5,"accuracy":4,"location":5,"value":5,"by":{"_id":"u1012","fullname":"Benjamin frank","imgUrl":"/img/img2.jpg"}}],"bookedDates":[],"likedByUserIds":["u101","u102"]},{"_id":"192837","name":"Charming garden home","assetType":"Entire home","uniqueStay":true,"imgUrls":["https://res.cloudinary.com/dkbfdybze/image/upload/v1632992548/final%20sprint/1_1_xpdrzn.webp","https://res.cloudinary.com/dkbfdybze/image/upload/v1632992548/final%20sprint/1_2_s0esu5.webp","https://res.cloudinary.com/dkbfdybze/image/upload/v1632992548/final%20sprint/1_3_l8ca0e.webp","https://res.cloudinary.com/dkbfdybze/image/upload/v1632992548/final%20sprint/1_4_dulq8q.webp","https://res.cloudinary.com/dkbfdybze/image/upload/v1632992548/final%20sprint/1-5_hdlvpa.webp"],"price":400,"summary":"Welcome to my home! I\'ve lived here for quite some years now and I absolutely love it. It\'s spacious, it has high ceilings and a huge garden, which is really rare in a city like Amsterdam. You get why I don\'t ever want to leave... ;-) I just renovated the place, so everything is new and it\'s just the way I like it. Please make sure you make yourself at home, in this wonderful neighborhood with everything nearby. You\'ll love it too, I\'m sure!","capacity":2,"amenities":["TV","Wifi","Kitchen","Smoking allowed","Pets allowed","Cooking basics"],"host":{"_id":"51499391","fullname":"Davit Pok","imgUrl":"https://a0.muscache.com/im/pictures/fab79f25-2e10-4f0f-9711-663cb69dc7d8.jpg?aki_policy=profile_small"},"loc":{"country":"Amsterdam ","countryCode":"PT","address":"Amsterdam , Netherlands","lat":52.357994,"lng":4.868648},"reviews":[{"id":"1211","txt":"Brilliant location. Stylish and comfy apartment. Would definitely recommend to travellers wanting to stay slightly out of the centre but within a great local neighbourhood.","cleanliness":5,"communication":3,"checkIn":4,"accuracy":5,"location":5,"value":4,"by":{"_id":"u102","fullname":"Matt","imgUrl":"/img/img2.jpg"}},{"id":"111131","txt":"This place is exactly as described, perfectly located for easy access to Vondelpark, the museum district and West Amsterdam. The place is bright and sunny with a lovely garden. We would definitely stay here again, no hesitations.","cleanliness":5,"communication":4,"checkIn":4,"accuracy":5,"location":5,"value":5,"by":{"_id":"u102","fullname":"Chris","imgUrl":"/img/img2.jpg"}},{"id":"34234","txt":"This was great place near vondelpark. Close enough and far enough away from city center that it makes a great home base. Beautiful home with beautiful plants. I love the Avocado Forest!.","cleanliness":4,"communication":3,"checkIn":4,"accuracy":5,"location":5,"value":5,"by":{"_id":"u102","fullname":"David","imgUrl":"/img/img2.jpg"}},{"id":"9638956","txt":"This apartment was great! Close to everything especially if you rent bikes at the bike shop down the street. The apartment was super clean when we arrived, and the fresh flowers and stroopwaffels were great. Be sure to take time and enjoy the garden patio, we sure did. We didn\'t want to leave!","cleanliness":4,"communication":4,"checkIn":5,"accuracy":5,"location":5,"value":5,"by":{"_id":"u102","fullname":"Jeff","imgUrl":"/img/img2.jpg"}}],"bookedDates":[],"likedByUserIds":["u101","u102"]},{"_id":"432341","name":"Extraordinary Penthouse + Terrace","assetType":"Entire Penthouse","uniqueStay":true,"imgUrls":["https://res.cloudinary.com/dkbfdybze/image/upload/v1632992548/final%20sprint/2_1_fs4kyt.webp","https://res.cloudinary.com/dkbfdybze/image/upload/v1632992548/final%20sprint/2_2_wdgegg.webp","https://res.cloudinary.com/dkbfdybze/image/upload/v1632992548/final%20sprint/2_3_ww9tjn.webp","https://res.cloudinary.com/dkbfdybze/image/upload/v1632992544/final%20sprint/2_4_bunj8v.webp","https://res.cloudinary.com/dkbfdybze/image/upload/v1632992544/final%20sprint/2_5_johjk8.webp"],"price":55,"summary":"Breathtaking High-End Penthouse, private and enormous forest-like balcony, overlooking right above the Carmel Market & the calm sea, located at the heart of the city.The place featuring a spacious brand-new kitchen and living room, fully equipped for your needs.","capacity":4,"amenities":["TV","Wifi","Kitchen","Smoking allowed","Pets allowed","Cooking basics"],"host":{"_id":"51399393","fullname":"Lily Duarte","imgUrl":"https://a0.muscache.com/im/pictures/fab79f25-2e10-4f0f-9711-663cb69dc7d8.jpg?aki_policy=profile_small"},"loc":{"country":"Israel","countryCode":"IL","address":"Tel Aviv, Israel","lat":32.109333,"lng":34.855499},"reviews":[{"id":"76768","txt":"Great space, great location. The hosts were easy to reach and we had a great time. If you are travelling with small children be aware there are a lot of stairs and also stairs in the apartment itself.","cleanliness":5,"communication":5,"checkIn":4,"accuracy":4,"location":4,"value":5,"by":{"_id":"12331","fullname":"Ava","imgUrl":"/img/img2.jpg"}},{"id":"76767","txt":"Great location, the apartment was clean and had everything I needed. Matan and Aviad were nice and friendly and responded super fast to every question and request.","cleanliness":5,"communication":4,"checkIn":5,"accuracy":5,"location":5,"value":5,"by":{"_id":"12330","fullname":"Tsuf","imgUrl":"/img/img2.jpg"}},{"id":"76766","txt":"The location is a 10!!! Excellent location to the heart of Tel Aviv and the beach! The hosts were awesome! They promptly answered all my questions, and even checked in on me.","cleanliness":5,"communication":5,"checkIn":5,"accuracy":5,"location":5,"value":5,"by":{"_id":"12329","fullname":"Stacy","imgUrl":"/img/img2.jpg"}},{"id":"76765","txt":"Top location, great proximity to the beach and cool restaurants in the market. The balcony is grand and beautiful. A play to relax, not just to sleep in.","cleanliness":5,"communication":3,"checkIn":3,"accuracy":4,"location":5,"value":5,"by":{"_id":"12328","fullname":"Sarig","imgUrl":"/img/img2.jpg"}},{"id":"76764","txt":" And accommodated everything! The place is amazingly beautiful located in the perfect spot. It was extremely quiet and lovely to be there. I really enjoyed my stay. I was there for close to 2 weeks. And it was just lovely!","cleanliness":5,"communication":4,"checkIn":4,"accuracy":5,"location":5,"value":5,"by":{"_id":"12327","fullname":"Yehuda","imgUrl":"/img/img2.jpg"}}],"likedByUserIds":["u101","u102"]},{"_id":"3434555","name":"Loft Style apartment","assetType":"Entire loft","uniqueStay":false,"imgUrls":["https://res.cloudinary.com/dkbfdybze/image/upload/v1632992544/final%20sprint/3_1_xkffkd.webp","https://res.cloudinary.com/dkbfdybze/image/upload/v1632992545/final%20sprint/3_2_i91cv5.webp","https://res.cloudinary.com/dkbfdybze/image/upload/v1632992544/final%20sprint/3_3_efxrxb.webp","https://res.cloudinary.com/dkbfdybze/image/upload/v1632992544/final%20sprint/3_4_r5zp26.webp","https://res.cloudinary.com/dkbfdybze/image/upload/v1632992545/final%20sprint/3_5_adtfyq.webp"],"price":180,"summary":"Fantastic duplex apartment with three bedrooms, located in the historic area of Porto, Ribeira (Cube)...","capacity":4,"amenities":["TV","Wifi","Kitchen","Smoking allowed","Pets allowed","Cooking basics"],"host":{"_id":"51399301","fullname":"Davit Pok","imgUrl":"https://a0.muscache.com/im/pictures/fab79f25-2e10-4f0f-9711-663cb69dc7d8.jpg?aki_policy=profile_small"},"loc":{"country":"England","countryCode":"GB ","address":"London, England","lat":51.509865,"lng":0.118092},"reviews":[{"id":"198392","txt":"A great apartment in a east to reach location. Comprehensive and easy to follow instructions for check in as well as regular check ins to make sure our stay was going well.","cleanliness":5,"communication":5,"checkIn":4,"accuracy":5,"location":5,"value":5,"by":{"_id":"u102","fullname":"Jodie","imgUrl":"/img/img2.jpg"}},{"id":"198391","txt":"Great place which looks exactly like the pictures. Really good location and the host was great at communicating. Would definitely stay again.","cleanliness":5,"communication":5,"checkIn":4,"accuracy":4,"location":5,"value":4,"by":{"_id":"u102","fullname":"Tamzin","imgUrl":"/img/img2.jpg"}},{"id":"198390","txt":"My friends and I had a great time staying here! Close by to the bars and restaurants of East London! Very comfortable with everything we needed,Thanks!","cleanliness":5,"communication":3,"checkIn":4,"accuracy":4,"location":4,"value":4,"by":{"_id":"u102","fullname":"Georgia","imgUrl":"/img/img2.jpg"}},{"id":"198389","txt":"We had a great stay at Jose\'s, the location is excellent. The apartment is lovely with comfortable beds and is nicely designed. It\'s very quiet despite being on a busy street. We\'d definitely stay again next time we\'re in London.","cleanliness":4,"communication":4,"checkIn":5,"accuracy":5,"location":5,"value":5,"by":{"_id":"u102","fullname":"Erica","imgUrl":"/img/img2.jpg"}},{"id":"198388","txt":"The flat is very nice and modern. Well equipped with all basics provided of you want to cook. However we found it a bit noisy as the road is just in front. Thanks a lot for the hospitality and the nice chocolate ! The kids loved them.","cleanliness":5,"communication":3,"checkIn":4,"accuracy":5,"location":5,"value":5,"by":{"_id":"u102","fullname":"Marie","imgUrl":"/img/img2.jpg"}}],"likedByUserIds":["u101","u102"]}]')},431:function(e){e.exports=JSON.parse('[{"_id":"51399391","fullname":"Davit Pok","imgUrl":"https://a0.muscache.com/im/pictures/fab79f25-2e10-4f0f-9711-663cb69dc7d8.jpg?aki_policy=profile_small","isHost":true,"username":"Davit","password":"secret","emailAddress":"user1@gmail.com","notifications":[],"myTrips":[],"orders":[],"mySaves":[],"myStays":[{"_id":"1000643546","name":"Ribeira Charming Duplex"},{"_id":"103996300646546","name":"Taboola salad"},{"_id":"10963006546","name":"JabrukLandia"},{"_id":"1567846","name":"Paris"}]},{"_id":"51399393","fullname":"Lily Duarte","imgUrl":"https://a0.muscache.com/im/pictures/fab79f25-2e10-4f0f-9711-663cb69dc7d8.jpg?aki_policy=profile_small","isHost":true,"username":"Lily ","password":"secret","emailAddress":"user2@gmail.com","notifications":[],"myTrips":[],"orders":[],"mySaves":[],"myStays":[]},{"_id":"u103","fullname":"Dianna Mathers","imgUrl":" ","isHost":false,"username":"Dianna","password":"secret","emailAddress":"user3@gmail.com","notifications":[],"myTrips":[],"orders":[],"mySaves":[],"myStays":[]},{"_id":"u101","fullname":"Elvira Priestley","imgUrl":"/img/img2.jpg","isHost":false,"username":"Elvira","password":"secret","emailAddress":"user1@gmail.com","notifications":[],"myTrips":[],"orders":[],"mySaves":[],"myStays":[]},{"_id":"u102","fullname":"Houston Anderson","imgUrl":" ","isHost":true,"username":"Houston","password":"secret","emailAddress":"user2@gmail.com","notifications":[],"myTrips":[],"orders":[],"mySaves":[],"myStays":[]},{"_id":"u106","fullname":"Macauley Rodr\xedguez","imgUrl":"/img/img2.jpg","isHost":false,"username":"Macauley","password":"secret","emailAddress":"user6@gmail.com","notifications":[],"myTrips":[],"orders":[],"mySaves":[],"myStays":[]}]')},541:function(e,t){},916:function(e,t,n){},917:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),i=n(27),c=n.n(i),r=n(35),o=n(23),l=n(125),d=n(429),u=n(32),p=n(4),h={stays:[],bookedTrip:null,stay:null,review:null,lastRemovedStay:null,isMiniHeader:!0,filterBy:{startDate:null,endDate:null,location:"",adultNumber:0,kidsNumber:0,infantsNumber:0,capacity:0,amenities:"",assetType:"",uniqueStay:"",guestModal:!1,datesModal:!1,hostId:""}};var m=n(6),j=n.n(m),b=n(11),f=n(430),v=n(431),g={query:x,get:function(e,t){return x(e).then((function(e){return e.find((function(e){return e._id===t}))}))},post:function(e,t){return t._id=k(),x(e).then((function(n){return n.push(t),w(e,n),t}))},put:function(e,t){return x(e).then((function(n){var a=n.findIndex((function(e){return e._id===t._id}));return n.splice(a,1,t),w(e,n),t}))},remove:function(e,t){return x(e).then((function(n){var a=n.findIndex((function(e){return e._id===t}));n.splice(a,1),w(e,n)}))},postMany:function(e,t){return x(e).then((function(n){return t=t.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{_id:k()})})),n.push.apply(n,Object(u.a)(t)),w(e,n),n}))}},y=f,O=v;function x(e){var t,n=arguments.length>2?arguments[2]:void 0;if("stay"===e&&(t=JSON.parse(localStorage.getItem(e))||w("stay",y)),"user"===e&&(t=JSON.parse(localStorage.getItem(e))||w("user",O)),"order"===e&&(t=JSON.parse(localStorage.getItem(e))||w("order",[])),n){if(n.location){var a=new RegExp(n.location,"i");return t.filter((function(e){return a.test(e.loc.address.split(",")[0])}))}if(n.assetType){var s=new RegExp(n.assetType,"i");return t.filter((function(e){return s.test(e.assetType)}))}if(n.amenities){var i=new RegExp(n.amenities,"i");return t.filter((function(e){return i.test(e.amenities)}))}if(n.capacity)return t.filter((function(e){return e.capacity>=n.capacity}));if(n.uniqueStay)return t.filter((function(e){return e.uniqueStay}))}return Promise.resolve(t)}function w(e,t){localStorage.setItem(e,JSON.stringify(t))}function k(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}var N=n(432),S="/api/",C=n.n(N).a.create({withCredentials:!0}),T=function(e,t){return U(e,"GET",t)},M=function(e,t){return U(e,"POST",t)},_=function(e,t){return U(e,"PUT",t)},A=function(e,t){return U(e,"DELETE",t)};function U(e){return I.apply(this,arguments)}function I(){return(I=Object(b.a)(j.a.mark((function e(t){var n,a,s,i=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:"GET",a=i.length>2&&void 0!==i[2]?i[2]:null,e.prev=2,e.next=5,C({url:"".concat(S).concat(t),method:n,data:a,params:"GET"===n?a:null});case 5:return s=e.sent,e.abrupt("return",s.data);case 9:throw e.prev=9,e.t0=e.catch(2),e.t0.response&&401===e.t0.response.status&&(sessionStorage.clear(),window.location.assign("/")),e.t0;case 13:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var D="loggedinUser",R=null,E={login:function(e){return B.apply(this,arguments)},logout:function(){return z.apply(this,arguments)},signup:function(e){return q.apply(this,arguments)},getLoggedinUser:W,getUsers:function(){return P.apply(this,arguments)},getById:function(e){return L.apply(this,arguments)},remove:function(e){return A("user/".concat(e))},update:function(e){return F.apply(this,arguments)}};function P(){return(P=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T("user");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T("user/".concat(t));case 2:return n=e.sent,R=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("user/".concat(t._id),t);case 2:return n=e.sent,W()._id===t._id&&H(n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M("auth/login",t);case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",H(n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){return(q=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isHost=!1,t.imgUrl="",t.myStays=[],t.notifications=[],t.mySaves=[],e.next=7,M("auth/signup",t);case 7:return n=e.sent,e.abrupt("return",H(n));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sessionStorage.removeItem(D),e.next=3,M("auth/logout");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){return sessionStorage.setItem(D,JSON.stringify(e)),e}function W(){return JSON.parse(sessionStorage.getItem(D)||"null")}window.userService=E,Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.addEventListener("storage",Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,g.query("user");case 4:if(t=e.sent,n=t.find((function(e){return e._id===R._id}))){e.next=8;break}return e.abrupt("return");case 8:R=n;case 9:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})))();var G={count:10,user:E.getLoggedinUser(),users:[],watchedUser:null};var V={reviews:[]};var Y={isLoading:!1};var K={orders:[],order:null};var J=Object(l.b)({stayModule:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,a=arguments.length>1?arguments[1]:void 0,s=n;switch(a.type){case"SET_STAYS":s=Object(p.a)(Object(p.a)({},n),{},{stays:a.stays});break;case"SET_STAY":s=Object(p.a)(Object(p.a)({},n),{},{stay:a.stay});break;case"REMOVE_STAY":var i=n.stays.find((function(e){return e._id===a.stayId}));e=n.stays.filter((function(e){return e._id!==a.stayId})),s=Object(p.a)(Object(p.a)({},n),{},{stays:e,lastRemovedStay:i});break;case"ADD_STAY":s=Object(p.a)(Object(p.a)({},n),{},{stays:[].concat(Object(u.a)(n.stays),[a.stay])});break;case"SET_HEADER":s=Object(p.a)(Object(p.a)({},n),{},{isMiniHeader:a.isMiniHeader});break;case"SET_FILTER":s=Object(p.a)(Object(p.a)({},n),{},{filterBy:Object(p.a)({},a.filter)});break;case"UPDATE_STAY":e=n.stays.map((function(e){return e._id===a.stay._id?a.stay:e})),s=Object(p.a)(Object(p.a)({},n),{},{stays:e,stay:a.stay});break;case"REMOVE_FROM_CART":t=n.cart.filter((function(e){return e._id!==a.stayId})),s=Object(p.a)(Object(p.a)({},n),{},{cart:t});break;case"CLEAR_CART":s=Object(p.a)(Object(p.a)({},n),{},{cart:[]});break;case"UNDO_REMOVE_STAY":n.lastRemovedStay&&(s=Object(p.a)(Object(p.a)({},n),{},{stays:[].concat(Object(u.a)(n.stays),[n.lastRemovedStay]),lastRemovedStay:null}))}return window.stayState=s,s},userModule:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,n=arguments.length>1?arguments[1]:void 0,a=t;switch(n.type){case"SET_USER":a=Object(p.a)(Object(p.a)({},t),{},{user:n.user});break;case"SET_WATCHED_USER":a=Object(p.a)(Object(p.a)({},t),{},{watchedUser:n.user});break;case"REMOVE_USER":a=Object(p.a)(Object(p.a)({},t),{},{users:t.users.filter((function(e){return e._id!==n.userId}))});break;case"SET_USERS":a=Object(p.a)(Object(p.a)({},t),{},{users:n.users});break;case"UPDATE_USER":e=t.users.map((function(e){return e._id===n.user._id?n.user:e})),a=Object(p.a)(Object(p.a)({},t),{},{users:e,user:n.user})}return a},systemModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"LOADING_START":return Object(p.a)(Object(p.a)({},e),{},{isLoading:!0});case"LOADING_DONE":return Object(p.a)(Object(p.a)({},e),{},{isLoading:!1});default:return e}},reviewModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_REVIEWS":return Object(p.a)(Object(p.a)({},e),{},{reviews:t.reviews});case"ADD_REVIEW":return Object(p.a)(Object(p.a)({},e),{},{reviews:[].concat(Object(u.a)(e.reviews),[t.review])});case"REMOVE_REVIEW":return Object(p.a)(Object(p.a)({},e),{},{reviews:e.reviews.filter((function(e){return e._id!==t.reviewId}))});default:return e}},orderModule:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,n=arguments.length>1?arguments[1]:void 0,a=t;switch(n.type){case"SET_ORDERS":a=Object(p.a)(Object(p.a)({},t),{},{orders:n.orders});break;case"SET_ORDER":a=Object(p.a)(Object(p.a)({},t),{},{order:n.order});break;case"REMOVE_ORDER":var s=t.orders.find((function(e){return e._id===n.orderId}));e=t.orders.filter((function(e){return e._id!==n.orderId})),a=Object(p.a)(Object(p.a)({},t),{},{orders:e,lastRemovedOrder:s});break;case"ADD_ORDER":a=Object(p.a)(Object(p.a)({},t),{},{orders:[].concat(Object(u.a)(t.orders),[n.order])});break;case"UPDATE_ORDER":e=t.orders.map((function(e){return e._id===n.order._id?n.order:e})),a=Object(p.a)(Object(p.a)({},t),{},{orders:e,order:n.order})}return window.orderState=a,a}}),$=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.c,Q=Object(l.d)(J,$(Object(l.a)(d.a))),Z=n(14),X=n(15),ee=n(17),te=n(16),ne=n(34),ae=n.p+"static/media/pets-allowed.3367843a.jpg",se=n.p+"static/media/entire-duplex.ffefbac4.jpg",ie=n.p+"static/media/large-capacity.009296c6.jpg",ce=n.p+"static/media/unique-stays.a435de4d.jpg",re=[],oe={query:le,getById:function(e){return ue.apply(this,arguments)},save:function(e){return pe.apply(this,arguments)},remove:function(e){return A("stay/".concat(e))},subscribe:function(e){re.push(e)},update:function(e){return he.apply(this,arguments)},filterPageStays:function(e,t){var n=t;e.amenities.length&&(n=n.filter((function(t){var n=!0;return e.amenities.forEach((function(e){t.amenities.includes(e)||(n=!1)})),n})));e.placeType&&(n=n.filter((function(t){return t.assetType.split(" ")[0]===e.placeType.split(" ")[0]})));e.PropertyType&&(n=n.filter((function(t){return t.assetType.toLowerCase().split(" ")[1]===e.PropertyType.toLowerCase()})));return n=n.filter((function(t){return t.price>=e.priceRange[0]&&t.price<=e.priceRange[1]}))}};function le(){return de.apply(this,arguments)}function de(){return(de=Object(b.a)(j.a.mark((function e(){var t,n,a=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.next=3,T("stay",{params:t});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(){return(ue=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T("stay/".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(){return(pe=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M("stay",t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(){return(he=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("stay/".concat(t._id),t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(){var t=Object(b.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oe.query(e);case 3:a=t.sent,n({type:"SET_STAYS",stays:a}),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function je(e){return function(){var t=Object(b.a)(j.a.mark((function t(n,a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oe.remove(e);case 3:n({type:"REMOVE_STAY",stayId:e}),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,n){return t.apply(this,arguments)}}()}function be(e){return function(){var t=Object(b.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oe.save(e);case 3:a=t.sent,n({type:"ADD_STAY",stay:a}),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function fe(e){return function(){var t=Object(b.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n({type:"SET_FILTER",filter:e});case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()}function ve(e){return function(){var t=Object(b.a)(j.a.mark((function t(n,a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n({type:"SET_HEADER",isMiniHeader:e});case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e,n){return t.apply(this,arguments)}}()}function ge(e){return function(){var t=Object(b.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oe.update(e);case 3:a=t.sent,console.log("after send",a),n({type:"UPDATE_STAY",stay:a}),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}window.cs=oe,window.addEventListener("storage",(function(){le().then((function(e){!function(e){re.forEach((function(t){return t(e)}))}(e)}))}));var ye=n(0),Oe=[{city:"Porto",country:"Portugal",imgUrl:"https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-1_avfpxl.png"},{city:"Barcelona",country:"Spain",imgUrl:"https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-2_qchnx7.png"},{city:"Tel Aviv",country:"Israel",imgUrl:"https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521280/location%20previews/location-preview-3_fndewl.png"},{city:"Paris",country:"France",imgUrl:"https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-4_nqshaa.jpg"},{city:"London",country:"United Kingdom",imgUrl:"https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-5_pbuhtd.jpg"},{city:"New York",country:"United States",imgUrl:"https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-6_kynrq5.png"},{city:"Amsterdam",country:"Netherlands",imgUrl:"https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521278/location%20previews/location-preview-7_unmsuc.jpg"},{city:"Rome",country:"Italy",imgUrl:"https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-8_yjbewa.png"}],xe=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(Z.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).onSetMiniHeader=function(t){t.target.scrollingElement.scrollTop>50?e.props.setMiniHeader(!0):e.props.setMiniHeader(!1)},e.setHeaderDisplay=function(){window.innerWidth<=780?(window.removeEventListener("scroll",e.onSetMiniHeader),e.props.setMiniHeader(!0)):(window.addEventListener("scroll",e.onSetMiniHeader),e.props.setMiniHeader(!1))},e.changeCount=function(t){var n={type:"CHANGE_COUNT",diff:t};e.props.dispatch(n)},e.onClickLoc=function(t,n){var a=Object(p.a)({},e.props.filterBy);a[n]=t,e.props.setFilter(a),e.props.history.push("/explore")},e}return Object(X.a)(n,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),this.props.setMiniHeader(!1),window.addEventListener("resize",this.setHeaderDisplay),this.setHeaderDisplay()}},{key:"componentWillUnmount",value:function(){this.props.setMiniHeader(!0),window.removeEventListener("resize",this.setHeaderDisplay),window.removeEventListener("scroll",this.onSetMiniHeader)}},{key:"render",value:function(){var e=this;return Object(ye.jsxs)("section",{className:"home-page flex column main-container",children:[Object(ye.jsx)("div",{className:"hero  full flex justify-center align-center",children:Object(ye.jsxs)("div",{className:"where-to-go flex justify-center align-center",children:[Object(ye.jsx)("h3",{children:"Not sure where to go? Perfect."}),Object(ye.jsx)("button",{className:"flex-btn flex justify-center align-center",children:Object(ye.jsx)(r.b,{to:"/explore",children:"I'm flexible"})})]})}),Object(ye.jsxs)("div",{className:"sug-loc",children:[Object(ye.jsx)("h2",{children:"Popular destinations"}),Object(ye.jsx)("div",{className:"locations",children:Oe.map((function(t,n){return Object(ye.jsxs)("div",{className:"loc-section flex",children:[Object(ye.jsx)("img",{src:t.imgUrl,alt:"",className:"loc-img",onClick:function(){e.onClickLoc(t.city,"location")}}),Object(ye.jsxs)("div",{className:"loc-info flex column justify-center",children:[Object(ye.jsx)("p",{className:"city-name",children:t.city}),Object(ye.jsx)("p",{className:"country-name",children:t.country})]})]},n+1)}))})]}),Object(ye.jsxs)("div",{className:"live-any flex column",children:[Object(ye.jsx)("h2",{children:"Live Anywhere"}),Object(ye.jsxs)("div",{className:"live-loc flex space-between",children:[Object(ye.jsxs)("div",{className:"live-card flex column",children:[Object(ye.jsx)("img",{className:"live-img",alt:"alt-live",onClick:function(){e.onClickLoc("duplex","assetType")},src:se}),Object(ye.jsx)("p",{children:"Entire duplex"})]}),Object(ye.jsxs)("div",{className:"live-card flex column",children:[Object(ye.jsx)("img",{className:"live-img",alt:"alt-live",onClick:function(){e.onClickLoc("Pets allowed","amenity")},src:ae}),Object(ye.jsx)("p",{children:"Pets Allowed"})]}),Object(ye.jsxs)("div",{className:"live-card flex column",children:[Object(ye.jsx)("img",{className:"live-img",alt:"alt-live",onClick:function(){e.onClickLoc(7,"capacity")},src:ie}),Object(ye.jsx)("p",{children:"Large capacity"})]}),Object(ye.jsxs)("div",{className:"live-card flex column",children:[Object(ye.jsx)("img",{className:"live-img",alt:"alt-live",onClick:function(){e.onClickLoc("unique","uniqueStay")},src:ce}),Object(ye.jsx)("p",{children:"Unique stays"})]})]})]}),Object(ye.jsxs)("div",{className:"host-banner flex column justify-center",children:[Object(ye.jsx)("h1",{children:"Try hosting"}),Object(ye.jsx)("p",{children:"Earn extra income and unlock new opportunities by sharing your space"}),Object(ye.jsx)("button",{className:"try-host-btn",onClick:function(){return e.props.user.isHost?e.props.history.push("/host"):e.props.history.push("/become-a-host")},children:"Learn More"})]})]})}}]),n}(s.a.Component);var we={setFilter:fe,setMiniHeader:ve},ke=Object(o.b)((function(e){return{count:e.userModule.count,filterBy:e.stayModule.filterBy,user:e.userModule.user}}),we)(xe),Ne=n(38),Se=n(434);function Ce(e){return Object(ye.jsxs)("div",{className:"fancy-box",children:[Object(ye.jsx)("button",{style:{float:"right"},onClick:e.onClose,children:"x"}),e.children]})}function Te(){return Object(ye.jsx)("section",{style:{height:"50vh",backgroundColor:"pink"},children:Object(ye.jsx)("h2",{children:"Contacts"})})}function Me(){var e=Object(a.useState)(["Puki Proj","Muki Proj"]),t=Object(Ne.a)(e,2),n=t[0],s=t[1],i=n.map((function(e,t){return Object(ye.jsx)("div",{className:"proj-preview",onClick:function(t){t.stopPropagation(),s(n.filter((function(t){return t!==e})))},children:e},e)}));return Object(ye.jsxs)("section",{style:{height:"50vh",backgroundColor:"lightblue"},children:[Object(ye.jsx)("h2",{children:"Projects"}),Object(ye.jsx)(Se.CSSTransitionGroup,{transitionName:"example",transitionEnterTimeout:500,transitionLeaveTimeout:300,children:i}),Object(ye.jsx)("button",{onClick:function(e){e.stopPropagation(),s([].concat(Object(u.a)(n),["Babu Proj"+Date.now()%100]))},children:"Add"})]})}function _e(e){var t=Object(a.useState)(30),n=Object(Ne.a)(t,2),s=n[0],i=n[1];return Object(ye.jsxs)("div",{className:"split-pane",style:{display:"flex"},children:[Object(ye.jsx)("div",{style:{width:s+"%"},onClick:function(){s+10<=100&&i(s+10)},children:e.left}),Object(ye.jsx)("div",{style:{flex:1},onClick:function(){s>10&&i(s-10)},children:e.right})]})}var Ae=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(Z.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={count:1e3},e.onTellMeMore=function(){},e}return Object(X.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"shouldComponentUpdate",value:function(){return!0}},{key:"render",value:function(){var e=this.state.count;return Object(ye.jsxs)("section",{children:[Object(ye.jsx)("h2",{children:"About Us"}),Object(ye.jsx)(Ue,{children:Object(ye.jsx)(_e,{left:Object(ye.jsx)(Te,{}),right:Object(ye.jsx)(Me,{})})}),Object(ye.jsxs)(Ce,{children:[Object(ye.jsxs)("h3",{children:[e.toLocaleString(),"\xa0Followers"]}),Object(ye.jsx)("button",{onClick:this.onTellMeMore,children:"Tell\xa0me\xa0More"})]}),Object(ye.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Magni aperiam quo veniam velit dolor reprehenderit, laudantium consequatur neque numquam labore quae. Accusamus libero perferendis ducimus? Alias unde hic quisquam doloremque."})]})}}]),n}(s.a.Component),Ue=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(Z.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={error:null,errorInfo:null},e}return Object(X.a)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){return this.state.errorInfo?Object(ye.jsxs)("div",{children:[Object(ye.jsx)("h2",{children:"Something went wrong."}),Object(ye.jsxs)("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),Object(ye.jsx)("br",{}),this.state.errorInfo.componentStack]})]}):this.props.children}}]),n}(s.a.Component),Ie=n(24),De=n(289),Re=n(986),Ee=n(990),Pe=n(991),Le=n(992),Fe=n(993),Be=n(994),qe=n(995),ze=n(1001),He=n(1003),We=n(1004),Ge=n(1007),Ve=n(1009),Ye=n(1010),Ke=n(996),Je=n(1002),$e=n(1005),Qe=n(1006),Ze=n(1008),Xe=n(13),et={makeId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*n.length));return t},makeLorem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=["The sky","above","the port","was","the color of television","tuned","to","a dead channel",".","All","this happened","more or less",".","I","had","the story","bit by bit","from various people","and","as generally","happens","in such cases","each time","it","was","a different story",".","It","was","a pleasure","to","burn"],n="";for(;e>0;)e--,n+=t[Math.floor(Math.random()*t.length)]+" ";return n},getRandomIntInclusive:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},delay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500;return new Promise((function(t){setTimeout(t,e)}))},toTimestamp:function(e){return Date.parse(e)/1e3},timeToShow:function(e){var t="string"===typeof e?Date.parse(e):e,n=new Date(t),a="0"+n.getDate(),s="0"+(n.getMonth()+1),i="0"+n.getFullYear();return a.substr(-2)+"/"+s.substr(-2)+"/"+i.substr(-2)},getAmenitiesIcons:function(e){switch(e){case"TV":return Object(ye.jsx)(Xe.y,{});case"Wifi":return Object(ye.jsx)(Xe.A,{});case"Kitchen":return Object(ye.jsx)(Re.a,{});case"Smoking allowed":return Object(ye.jsx)(Xe.t,{});case"Hot tub":return Object(ye.jsx)(Xe.l,{});case"Pets allowed":return Object(ye.jsx)(Xe.p,{});case"No smoking":return Object(ye.jsx)(Xe.u,{});case"Cooking basics":return Object(ye.jsx)(Xe.f,{});case"Air conditioning":return Object(ye.jsx)(Xe.v,{});case"Heating":return Object(ye.jsx)(Xe.x,{});case"Pool":return Object(ye.jsx)(Ee.a,{});case"Indoor fireplace":return Object(ye.jsx)(Pe.a,{});case"Refrigerator":return Object(ye.jsx)(Le.a,{});case"Refrigerator":return Object(ye.jsx)(De.a,{icon:"refrigerator"});case"Dishwasher":return Object(ye.jsx)(Fe.a,{});case"Backyard":return Object(ye.jsx)(Be.a,{});case"BBQ grill":return Object(ye.jsx)(qe.a,{});case"Crib":return Object(ye.jsx)(Ke.a,{});case"Private entrance":return Object(ye.jsx)(Xe.j,{});case"Lockbox":return Object(ye.jsx)(Xe.n,{});case"Beachfront":return Object(ye.jsx)(ze.a,{});case"Hangers":return Object(ye.jsx)(Je.a,{});case"Wine glasses":return Object(ye.jsx)(Xe.B,{});case"Free parking":return Object(ye.jsx)(Xe.h,{});case"Accessible":return Object(ye.jsx)(Xe.a,{});case"King size bed":return Object(ye.jsx)(He.a,{});case"Bathub":return Object(ye.jsx)(We.a,{});case"Balcony":return Object(ye.jsx)($e.a,{});case"Iron":return Object(ye.jsx)(Qe.a,{});case"Room service":return Object(ye.jsx)(Ge.a,{});case"Coffee machine":return Object(ye.jsx)(Ze.a,{});case"Laundry machine":return Object(ye.jsx)(Fe.a,{});case"Speakers":return Object(ye.jsx)(Ve.a,{});case"Gaming console":return Object(ye.jsx)(Ye.a,{})}}};function tt(){return function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"LOADING_START"}),e.next=4,E.getUsers();case 4:n=e.sent,t({type:"SET_USERS",users:n}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:return e.prev=10,t({type:"LOADING_DONE"}),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,8,10,13]])})));return function(t){return e.apply(this,arguments)}}()}function nt(e){return function(){var t=Object(b.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"LOADING_START"}),t.next=4,E.getById(e);case 4:a=t.sent,n({type:"SET_USER",user:a}),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:return t.prev=10,n({type:"LOADING_DONE"}),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,8,10,13]])})));return function(e){return t.apply(this,arguments)}}()}function at(e){return function(){var t=Object(b.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.remove(e);case 3:n({type:"REMOVE_USER",userId:e}),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}function st(e){return function(){var t=Object(b.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.update(e);case 3:a=t.sent,n({type:"UPDATE_USER",user:a}),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function it(e){return function(){var t=Object(b.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.login(e);case 3:a=t.sent,n({type:"SET_USER",user:a}),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function ct(e){return function(t){E.signup(e).then((function(e){t({type:"SET_USER",user:e})})).catch((function(e){}))}}function rt(){return function(e){E.logout().then((function(){return e({type:"SET_USER",user:null})})).catch((function(e){}))}}function ot(e,t,n){return function(){var a=Object(b.a)(j.a.mark((function a(s,i){var c,r;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,E.getById(n);case 3:return c=a.sent,t?c.mySaves.push(e):c.mySaves=c.mySaves.filter((function(t){return t!==e})),a.next=7,E.update(c);case 7:r=a.sent,s({type:"UPDATE_USER",savedUser:r}),a.next=13;break;case 11:a.prev=11,a.t0=a.catch(0);case 13:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e,t){return a.apply(this,arguments)}}()}function lt(e){return function(){var t=Object(b.a)(j.a.mark((function t(n,a){var s,i,c,r,o,l,d;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.getById(e.user._id);case 3:return s=t.sent,t.next=6,E.getById(e.stay.host._id);case 6:return i=t.sent,c=et.makeId(),(r=e).id=c,(o=e).id=c,i.orders||(i.orders=[]),s.myTrips||(s.myTrips=[]),i.orders.push(o),s.myTrips.push(r),t.next=18,E.update(s);case 18:return l=t.sent,t.next=21,E.update(i);case 21:d=t.sent,n({type:"UPDATE_USER",user:l}),n({type:"UPDATE_USER",user:d}),t.next=28;break;case 26:t.prev=26,t.t0=t.catch(0);case 28:case"end":return t.stop()}}),t,null,[[0,26]])})));return function(e,n){return t.apply(this,arguments)}}()}n(513),n(514);var dt=n(435),ut=n.n(dt),pt=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){return Object(Z.a)(this,n),t.apply(this,arguments)}return Object(X.a)(n,[{key:"render",value:function(){var e=this.props.imgs;return Object(ye.jsx)(ut.a,Object(p.a)(Object(p.a)({},{dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!0}),{},{className:"preview-slider",children:e.map((function(e,t){return Object(ye.jsx)("div",{children:Object(ye.jsx)("img",{src:e,alt:"Preview img"})},t)}))}))}}]),n}(a.Component),ht=n(173),mt=n.n(ht),jt=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(Z.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={isLiked:!1},e.onToggleLikeStay=function(t,n){t.stopPropagation();var a=e.props.user,s=e.state.isLiked;a&&e.setState({isLiked:!s},(function(){e.props.onToggleLikedStay(n._id,!s,a._id)}))},e.isStayLiked=function(){var t=e.props,n=t.user,a=t.stay;n&&(n.mySaves&&n.mySaves.length&&n.mySaves.filter((function(e){return e===a._id})).length&&e.setState({isLiked:!0}))},e}return Object(X.a)(n,[{key:"componentDidMount",value:function(){this.isStayLiked()}},{key:"render",value:function(){var e=this;return Object(ye.jsx)("div",{children:this.props.stay.name&&Object(ye.jsx)("div",{className:"stay-preview square-ratio",onClick:function(t){"slick-arrow slick-prev"!==t.target.className&&"slick-arrow slick-next"!==t.target.className&&"MuiSvgIcon-root"!==t.target.className.baseVal&&e.props.history.push("/stay/".concat(e.props.stay._id))},children:Object(ye.jsxs)("div",{className:"preview-wrapper flex column",children:[Object(ye.jsxs)("div",{className:"\r ",children:[this.state.isLiked?Object(ye.jsx)(mt.a,{size:13,onClick:function(t){return e.onToggleLikeStay(t,e.props.stay)}}):Object(ye.jsx)(mt.a,{className:"unliked",onClick:function(t){return e.onToggleLikeStay(t,e.props.stay)}}),Object(ye.jsx)(pt,{imgs:this.props.stay.imgUrls})]}),Object(ye.jsxs)("div",{className:"preview-details ",children:[Object(ye.jsxs)("div",{className:"preview-rating flex align-center",children:[Object(ye.jsx)("span",{className:"rating-star",children:Object(ye.jsx)(Xe.w,{size:13,color:"#FF5A5F"})}),Object(ye.jsx)("p",{className:"preview-rating-amount",children:this.props.stay.reviewsAvg?this.props.stay.reviewsAvg:0}),Object(ye.jsxs)("span",{className:"preview-review-count flex",children:[Object(ye.jsx)("span",{children:"("}),this.props.stay.demoReviews," reviews",Object(ye.jsx)("span",{children:")"})]})]}),Object(ye.jsx)("div",{className:"stay-style flex",children:Object(ye.jsxs)("h3",{children:[Object(ye.jsx)("span",{children:this.props.stay.assetType})," \xb7 ",Object(ye.jsx)("span",{children:this.props.stay.loc.address.split(",")[0]})]})}),Object(ye.jsx)("div",{className:"stay-name",children:Object(ye.jsx)("h3",{children:this.props.stay.name})}),Object(ye.jsx)("div",{className:"preview-price",children:Object(ye.jsxs)("h3",{children:[Object(ye.jsxs)("span",{className:"preview-price-amount",children:["$",this.props.stay.price]})," / night"]})})]})]})})})}}]),n}(s.a.Component);var bt={onToggleLikedStay:ot,updateUser:st},ft=Object(o.b)((function(e){return{user:e.userModule.user}}),bt)(jt);function vt(e){var t=e.stays,n=e.history;return Object(ye.jsx)("div",{className:"stay-list",children:t.map((function(e,t){return Object(ye.jsx)(ft,{stay:e,history:n},t)}))})}var gt=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){return Object(Z.a)(this,n),t.apply(this,arguments)}return Object(X.a)(n,[{key:"render",value:function(){var e=this.props.children.length?this.props.children[0].props.className:this.props.children.props.className;return Object(ye.jsx)("div",{className:"dynamic-sort-modal ".concat(e),children:this.props.children.length?this.props.children.map((function(e,t){return Object(ye.jsx)("div",{children:e},t)})):this.props.children})}}]),n}(s.a.Component),yt=n(450),Ot=n(1017),xt=n(55),wt=(n(1015),n(1020)),kt=["children"];var Nt=Object(xt.a)(Ot.b)((function(e){var t=e.theme;return{color:"#3a8589",height:3,padding:"13px 0","& .MuiSlider-thumb":{height:27,width:27,backgroundColor:"#fff",border:"1px solid currentColor","&:hover":{boxShadow:"0 0 0 8px rgba(58, 133, 137, 0.16)"},"& .airbnb-bar":{height:9,width:1,backgroundColor:"currentColor",marginLeft:1,marginRight:1}},"& .MuiSlider-track":{height:3},"& .MuiSlider-rail":{color:"dark"===t.palette.mode?"#bfbfbf":"#d8d8d8",opacity:"dark"===t.palette.mode?void 0:1,height:3}}}));function St(e){var t=e.children,n=Object(yt.a)(e,kt);return Object(ye.jsxs)(Ot.a,Object(p.a)(Object(p.a)({},n),{},{children:[t,Object(ye.jsx)("span",{className:"airbnb-bar"}),Object(ye.jsx)("span",{className:"airbnb-bar"}),Object(ye.jsx)("span",{className:"airbnb-bar"})]}))}function Ct(e){var t=e.onSetPageFilter,n=e.allStaysPriceAvg,s=a.useState([20,600]),i=Object(Ne.a)(s,2),c=i[0],r=i[1];return Object(ye.jsx)("div",{className:"price-range-container flex ",children:Object(ye.jsxs)(wt.a,{sx:{width:320},children:[Object(ye.jsx)("p",{className:"stays-price-avg",children:"The average nightly price is  $".concat(n.toFixed(0)?n.toFixed(0):"")}),Object(ye.jsx)(wt.a,{sx:{m:3}}),Object(ye.jsx)("div",{className:"price-slider-container flex justify-center align-center",children:Object(ye.jsx)(Nt,{components:{Thumb:St},getAriaLabel:function(e){return 0===e?"Minimum price":"Maximum price"},defaultValue:[20,600],onChange:function(e,n){r(n),t("priceRange",n)},max:600})}),Object(ye.jsxs)("div",{className:"picks-container ",children:[Object(ye.jsxs)("div",{className:"min-price flex column ",children:[Object(ye.jsx)("span",{className:"price-range-span",htmlFor:"minPrice",children:"Min price"}),Object(ye.jsxs)("div",{children:[Object(ye.jsx)("span",{className:"price-range-span",children:"$"}),Object(ye.jsx)("input",{className:"min-input",type:"number",value:c[0]})]})]}),Object(ye.jsxs)("div",{className:"max-price flex column ",children:[Object(ye.jsx)("span",{className:"price-range-span",htmlFor:"maxPrice",children:"Max price"}),Object(ye.jsxs)("div",{children:[Object(ye.jsx)("span",{className:"price-range-span",children:"$"}),Object(ye.jsx)("input",{className:"max-input",type:"number",value:c[1]})]})]})]})]})})}var Tt=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){return Object(Z.a)(this,n),t.apply(this,arguments)}return Object(X.a)(n,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("scroll",(function(t){t.target.scrollingElement.scrollTop>150&&e.props.closeAllModals()}))}},{key:"componentWillUnmount",value:function(){var e=this;window.removeEventListener("scroll",(function(t){t.target.scrollingElement.scrollTop>150&&e.props.closeAllModals()}))}},{key:"render",value:function(){var e=this,t=this.props.modals,n=t.placeTypeIsOpen,a=t.PropertyTypeIsOpen,s=t.PriceIsOpen,i=t.AmenitiesTypeIsOpen,c=this.props,r=c.allStaysPriceAvg,o=c.ameintiesOptions;return Object(ye.jsxs)("div",{className:"explore-filter flex",children:[Object(ye.jsxs)("div",{className:"sort-type type-of-place",children:[Object(ye.jsx)("button",{onClick:function(){e.props.onToggleModals("placeTypeIsOpen")},children:"Type of place"}),n&&Object(ye.jsxs)(gt,{children:[Object(ye.jsxs)("div",{className:"place-type",onClick:function(t){e.props.onSetPageFilter("placeType","Entire Place")},children:[Object(ye.jsx)("h1",{children:"Entire Place"}),Object(ye.jsx)("p",{children:"You'll Have The Place To Yourself"})]}),Object(ye.jsxs)("div",{className:"place-type",onClick:function(t){e.props.onSetPageFilter("placeType","Private Room")},children:[Object(ye.jsx)("h1",{children:"Private Room"}),Object(ye.jsx)("p",{children:"You'll Have A Private Room To Yourself"})]})]})]}),Object(ye.jsxs)("div",{className:"sort-type property-type",children:[Object(ye.jsx)("button",{onClick:function(){e.props.onToggleModals("PropertyTypeIsOpen")},children:"Property Type"}),a&&Object(ye.jsx)(gt,{children:["Loft","Studio","Penthouse","Appartment","Hotel","Villa","Duplex","Home"].map((function(t,n){return Object(ye.jsx)("div",{className:"property-type",onClick:function(n){e.props.onSetPageFilter("PropertyType",t)},children:Object(ye.jsx)("h1",{children:t})},n)}))})]}),Object(ye.jsxs)("div",{className:"sort-type price",children:[Object(ye.jsx)("button",{onClick:function(){e.props.onToggleModals("PriceIsOpen")},children:"Price"}),s&&Object(ye.jsx)(gt,{children:Object(ye.jsx)(Ct,{onSetPageFilter:this.props.onSetPageFilter,allStaysPriceAvg:r})})]}),Object(ye.jsx)("div",{className:""}),Object(ye.jsxs)("div",{className:"sort-type amenities-type",children:[Object(ye.jsx)("button",{onClick:function(){e.props.onToggleModals("AmenitiesTypeIsOpen")},children:"Amenities"}),i&&Object(ye.jsx)(gt,{children:o.map((function(t,n){return Object(ye.jsx)("div",{className:t.isChecked?"amenities-type active":"amenities-type",onClick:function(){e.props.onSetAmenity({name:t.name,isChecked:!t.isChecked})},children:Object(ye.jsx)("h1",{children:t.name})},n)}))})]}),Object(ye.jsx)("div",{className:"sort-type type-of-place",children:Object(ye.jsx)("button",{onClick:this.props.onClearPageFilter,children:"Clear"})})]})}}]),n}(s.a.Component),Mt=n.p+"static/media/three-dots.27debe2c.svg",_t=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(Z.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={stays:[],isScreenOpen:!1,allStaysPriceAvg:null,modals:{placeTypeIsOpen:!1,PropertyTypeIsOpen:!1,PriceIsOpen:!1,AmenitiesTypeIsOpen:!1},frontFilter:{placeType:"",PropertyType:"",priceRange:[20,600],amenities:[]},ameintiesOptions:[{name:"TV",isChecked:!1},{name:"Wifi",isChecked:!1},{name:"Kitchen",isChecked:!1},{name:"Smoking allowed",isChecked:!1},{name:"Hot tub",isChecked:!1},{name:"Pets allowed",isChecked:!1},{name:"No smoking",isChecked:!1},{name:"Cooking basics",isChecked:!1},{name:"Air conditioning",isChecked:!1},{name:"Heating",isChecked:!1},{name:"Pool",isChecked:!1},{name:"Indoor fireplace",isChecked:!1},{name:"Refrigerator",isChecked:!1},{name:"Dishwasher",isChecked:!1},{name:"Backyard",isChecked:!1},{name:"BBQ grill",isChecked:!1},{name:"Crib",isChecked:!1},{name:"Private entrance",isChecked:!1},{name:"Lockbox",isChecked:!1},{name:"Beachfront",isChecked:!1},{name:"Hangers",isChecked:!1},{name:"Wine glasses",isChecked:!1},{name:"Free parking",isChecked:!1},{name:"Accessible",isChecked:!1},{name:"King size bed",isChecked:!1},{name:"Bathub",isChecked:!1},{name:"Balcony",isChecked:!1},{name:"Iron",isChecked:!1},{name:"Room service",isChecked:!1},{name:"Coffee machine",isChecked:!1},{name:"Laundry machine",isChecked:!1},{name:"Speakers",isChecked:!1},{name:"Gaming console",isChecked:!1}]},e.onSetAmenity=function(t){var n=t.name,a=t.isChecked,s=e.state.ameintiesOptions,i=e.state.frontFilter.amenities,c=s.map((function(e){return e.name===n?{name:n,isChecked:a}:e}));if(a)i.push(n);else{var r=i.findIndex((function(e){return e===n}));i.splice(r,1)}e.setState((function(t){return Object(p.a)(Object(p.a)({},t),{},{frontFilter:Object(p.a)(Object(p.a)({},e.state.frontFilter),{},{amenities:i}),ameintiesOptions:c})}),(function(){e.onSetPageFilter("ameneties",e.state.frontFilter.amenities)}))},e.onSetPageFilter=function(t,n,a){e.setState({frontFilter:Object(p.a)(Object(p.a)({},e.state.frontFilter),{},Object(Ie.a)({},t,n))},(function(){var t=oe.filterPageStays(e.state.frontFilter,e.props.stays);e.setState({stays:t})}))},e.onToggleScreen=function(t){e.setState({isScreenOpen:t})},e.onClearPageFilter=function(){var t={stays:e.props.stays,isScreenOpen:!1,allStaysPriceAvg:null,modals:{placeTypeIsOpen:!1,PropertyTypeIsOpen:!1,PriceIsOpen:!1,AmenitiesTypeIsOpen:!1},frontFilter:{placeType:"",PropertyType:"",priceRange:[20,600],amenities:[]},ameintiesOptions:[{name:"TV",isChecked:!1},{name:"Wifi",isChecked:!1},{name:"Kitchen",isChecked:!1},{name:"Smoking allowed",isChecked:!1},{name:"Cooking basics",isChecked:!1},{name:"Pets Allowed",isChecked:!1},{name:"Hot tub",isChecked:!1}]};e.setState(Object(p.a)({},t),(function(){e.calcAllStaysPriceAvg(e.state.stays)})),e.closeAllModals()},e.onRemoveStay=function(t){e.props.onRemoveStay(t)},e.onAddStay=function(){e.props.onAddStay()},e.onEditStay=function(t){var n=+prompt("New price?"),a=Object(p.a)(Object(p.a)({},t),{},{price:n});e.props.onEditStay(a)},e.onToggleModals=function(t){e.setState({modals:{placeTypeIsOpen:!1,PropertyTypeIsOpen:!1,PriceIsOpen:!1,AmenitiesTypeIsOpen:!1}},(function(){e.onToggleScreen(!e.state.modals[t]),e.setState({modals:Object(p.a)(Object(p.a)({},e.state.modals),{},Object(Ie.a)({},t,!e.state[t]))})}))},e.closeAllModals=function(){e.onToggleScreen(!1),e.setState({modals:{placeTypeIsOpen:!1,PropertyTypeIsOpen:!1,PriceIsOpen:!1,AmenitiesTypeIsOpen:!1}})},e.calcAllStaysPriceAvg=function(t){var n=t;n=n.reduce((function(e,t){return e+=t.price}),0),e.setState({allStaysPriceAvg:n/t.length})},e}return Object(X.a)(n,[{key:"componentDidMount",value:function(){var e=Object(b.a)(j.a.mark((function e(){var t,n=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.user,window.scrollTo(0,0),e.next=5,this.props.loadStays(this.props.filterBy);case 5:this.setState({stays:this.props.stays},(function(){n.calcAllStaysPriceAvg(n.state.stays)})),t&&this.props.loadUser(this.props.user._id),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t){e.filterBy!==this.props.filterBy&&this.props.loadStays(this.props.filterBy)}},{key:"render",value:function(){var e=this,t=this.props,n=t.stays,a=t.filterBy,s=this.state,i=s.isScreenOpen,c=s.ameintiesOptions;return n.length?Object(ye.jsx)("main",{className:"explore-mega-container main-container page-padding",children:Object(ye.jsxs)("div",{className:"explore-page-container",children:[Object(ye.jsx)("div",{className:i?"screen screen-open full":"screen full",onClick:function(){e.closeAllModals()}}),Object(ye.jsxs)("div",{className:"stays-headline",children:[Object(ye.jsx)("p",{children:1===this.state.stays.length?"1 stay":"".concat(this.state.stays.length," stays")}),Object(ye.jsx)("h1",{children:a.location?"Places to stay at ".concat(a.location):"Find places to stay"})]}),Object(ye.jsx)(Tt,{ameintiesOptions:c,stays:this.state.stays,closeAllModals:this.closeAllModals,onSetAmenity:this.onSetAmenity,onSetPageFilter:this.onSetPageFilter,onClearPageFilter:this.onClearPageFilter,modals:this.state.modals,onToggleModals:this.onToggleModals,allStaysPriceAvg:this.state.allStaysPriceAvg,amenities:this.state.frontFilter.amenities}),n.length&&Object(ye.jsx)(vt,{stays:this.state.stays,history:this.props.history})]})}):Object(ye.jsx)("div",{className:"loader-container flex align-center justify-center page-padding",children:Object(ye.jsx)("img",{src:Mt,alt:"loader"})})}}]),n}(s.a.Component);var At={loadStays:me,onRemoveStay:je,onAddStay:be,onEditStay:ge,onBookTrip:lt,setFilter:fe,loadUser:nt},Ut=Object(o.b)((function(e){return{stays:e.stayModule.stays,filterBy:e.stayModule.filterBy,user:e.userModule.user}}),At)(_t),It=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(Z.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={},e}return Object(X.a)(n,[{key:"componentDidMount",value:function(){this.props.loadUsers()}},{key:"render",value:function(){var e=this.props,t=e.isLoading,n=e.users,a=e.removeUser,s=e.loadUsers;return Object(ye.jsxs)("section",{className:"admin",children:[Object(ye.jsx)("button",{onClick:s,children:"Refresh Users"}),t&&"Loading...",n&&Object(ye.jsx)("ul",{children:n.map((function(e){return Object(ye.jsxs)("li",{children:[Object(ye.jsx)("pre",{children:JSON.stringify(e,null,2)}),Object(ye.jsxs)("button",{onClick:function(){a(e._id)},children:["Remove ",e.username]})]},e._id)}))})]})}}]),n}(s.a.Component);var Dt={loadUsers:tt,removeUser:at},Rt=Object(o.b)((function(e){return{isLoading:e.systemModule.isLoading,users:e.userModule.users}}),Dt)(It),Et=n(437),Pt=n.n(Et),Lt=n(436),Ft=n.n(Lt);function Bt(e){var t=e.stay,n=e.isLiked,a=e.onToogleLikeStay,s=e.isMobilePics;return Object(ye.jsxs)("section",{className:"info-imgs-container",children:[Object(ye.jsxs)("section",{className:"stay-info",children:[Object(ye.jsx)("div",{className:"stay-name-conatiner",children:Object(ye.jsx)("h2",{children:t.name})}),Object(ye.jsxs)("section",{className:"info-line flex space-between",children:[Object(ye.jsxs)("div",{className:"stay-info-conatiner flex",children:[Object(ye.jsxs)("div",{className:"stay-avg-info flex align-end",children:[Object(ye.jsx)("p",{className:"info-star",children:Object(ye.jsx)(Xe.w,{size:14,color:"#FF5A5F"})}),Object(ye.jsx)("p",{className:"info-line-score",children:t.reviewsAvg?t.reviewsAvg:0}),Object(ye.jsx)("p",{className:"info-line-reviews",children:"(".concat(t.reviews.length," reviews)")})]}),Object(ye.jsx)("p",{className:"dot",children:"\u2022"}),Object(ye.jsx)("div",{className:"host-location-container flex align-end",children:Object(ye.jsx)("p",{className:"info-line-loc",children:t.loc.address})})]}),Object(ye.jsxs)("div",{className:"user-btns-container flex",children:[Object(ye.jsxs)("div",{className:"share-btn-container flex align-center",children:[Object(ye.jsx)("p",{className:"details-share",children:Object(ye.jsx)(Ft.a,{})}),Object(ye.jsx)("p",{children:"Share"})]}),Object(ye.jsxs)("div",{className:"save-btn-container flex align-center",onClick:function(){a()},children:[Object(ye.jsx)("p",{className:"details-like",children:n?Object(ye.jsx)(mt.a,{className:"liked"}):Object(ye.jsx)(Pt.a,{})}),Object(ye.jsx)("p",{children:"Save"})]})]})]})]}),Object(ye.jsx)("section",{className:"asset-imgs-container flex  ",children:s?Object(ye.jsx)("div",{className:"asset-imgs flex",children:Object(ye.jsxs)("div",{className:"primary-img square-ratio",children:[" ",Object(ye.jsx)(pt,{imgs:t.imgUrls})]})}):Object(ye.jsxs)("div",{className:"asset-imgs flex",children:[Object(ye.jsx)("div",{className:"primary-img square-ratio",children:Object(ye.jsx)("img",{src:t.imgUrls[0],alt:""})}),Object(ye.jsxs)("div",{className:"imgs-container flex",children:[Object(ye.jsx)("div",{className:"asset-img square-ratio",children:Object(ye.jsx)("img",{src:t.imgUrls[1],alt:""})}),Object(ye.jsx)("div",{className:"asset-img square-ratio",children:Object(ye.jsx)("img",{src:t.imgUrls[2],alt:""})})]}),Object(ye.jsxs)("div",{className:"imgs-container flex",children:[Object(ye.jsx)("div",{className:"asset-img square-ratio",children:Object(ye.jsx)("img",{src:t.imgUrls[3],alt:""})}),Object(ye.jsx)("div",{className:"asset-img square-ratio",children:Object(ye.jsx)("img",{src:t.imgUrls[4],alt:""})})]})]})})]})}function qt(e){return Object(ye.jsx)("section",{className:"asset-sum-container",children:Object(ye.jsxs)("div",{className:"asset-sum",children:[Object(ye.jsxs)("div",{className:"asset-sum-item flex",children:[Object(ye.jsx)("div",{className:"sum-icon-container",children:Object(ye.jsx)("p",{className:"sum-icon",children:Object(ye.jsx)(Xe.k,{})})}),Object(ye.jsxs)("div",{className:"sum-txt",children:[Object(ye.jsx)("h4",{children:"Entire Home"}),Object(ye.jsx)("p",{children:"You\u2019ll have the apartment to yourself."})]})]}),Object(ye.jsxs)("div",{className:"asset-sum-item flex",children:[Object(ye.jsx)("div",{className:"sum-icon-container",children:Object(ye.jsx)("p",{className:"sum-icon",children:Object(ye.jsx)(Xe.g,{className:"sum-icon"})})}),Object(ye.jsxs)("div",{className:"sum-txt",children:[Object(ye.jsx)("h4",{children:"Enhanced Clean Home"}),Object(ye.jsx)("p",{children:"This host committed to Airbnb's 5-step enhanced cleaning process."})]})]}),Object(ye.jsxs)("div",{className:"asset-sum-item flex",children:[Object(ye.jsx)("div",{className:"sum-icon-container",children:Object(ye.jsx)("p",{className:"sum-icon",children:Object(ye.jsx)(Xe.j,{className:"sum-icon"})})}),Object(ye.jsxs)("div",{className:"sum-txt",children:[Object(ye.jsx)("h4",{children:"Self check-in"}),Object(ye.jsx)("p",{children:"Check yourself in with the lockbox."})]})]}),Object(ye.jsxs)("div",{className:"asset-sum-item flex",children:[Object(ye.jsx)("div",{className:"sum-icon-container",children:Object(ye.jsx)("p",{className:"sum-icon",children:Object(ye.jsx)(Xe.m,{className:"sum-icon"})})}),Object(ye.jsxs)("div",{className:"sum-txt",children:[Object(ye.jsx)("h4",{children:"Great check-in experience"}),Object(ye.jsx)("p",{children:"95% of recent guests gave the check-in process a 5-star rating."})]})]})]})})}var zt=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){return Object(Z.a)(this,n),t.apply(this,arguments)}return Object(X.a)(n,[{key:"render",value:function(){var e=this.props.amenities;return Object(ye.jsx)("ul",{className:"amenities-list flex",children:e&&e.map((function(e,t){if(t<=9)return Object(ye.jsxs)("li",{className:"amenity-item flex",children:[Object(ye.jsx)("div",{className:"amenity-icon-container",children:et.getAmenitiesIcons(e)}),Object(ye.jsx)("div",{className:"amenity-txt",children:Object(ye.jsx)("p",{children:e})})]},e)}))})}}]),n}(s.a.Component),Ht=(n(314),n(334),[]),Wt={query:Gt,getById:function(e){return Yt.apply(this,arguments)},save:function(e){return M("order",e)},update:function(e){return Kt.apply(this,arguments)},remove:function(e){return A("order/".concat(e))},subscribe:function(e){Ht.push(e)}};function Gt(e,t){return Vt.apply(this,arguments)}function Vt(){return(Vt=Object(b.a)(j.a.mark((function e(t,n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T("order",{params:{userId:t,type:n}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yt(){return(Yt=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T("order/".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kt(){return(Kt=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("order/".concat(t._id),t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.cs=Wt,window.addEventListener("storage",(function(){Gt().then((function(e){!function(e){Ht.forEach((function(t){return t(e)}))}(e)}))}));var Jt=n(438),$t=n.n(Jt),Qt=function(){var e=null;return{setup:function(){e=$t()("")},on:function(t,n){e.on(t,n)},off:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e&&(n?e.off(t,n):e.removeAllListeners(t))},emit:function(t,n){e.emit(t,n)},terminate:function(){e=null}}}();function Zt(e,t){return function(){var n=Object(b.a)(j.a.mark((function n(a){var s;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Wt.query(e,t);case 3:s=n.sent,a({type:"SET_ORDERS",orders:s}),n.next=9;break;case 7:n.prev=7,n.t0=n.catch(0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}function Xt(e){return function(){var t=Object(b.a)(j.a.mark((function t(n,a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Wt.remove(e);case 3:n({type:"REMOVE_ORDER",orderId:e}),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,n){return t.apply(this,arguments)}}()}function en(e){return function(){var t=Object(b.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Wt.update(e);case 3:a=t.sent,n({type:"UPDATE_ORDER",order:a}),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}window.socketService=Qt,Qt.setup(),Qt.on("review-about-you",(function(e){}));n(616),n(617);var tn=n(439),nn=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(Z.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={startDate:new Date,endDate:new Date},e.handleSelect=function(t){var n=t.selection,a=n.startDate,s=n.endDate;e.setState({startDate:a,endDate:s},(function(){e.props.onSelectDates(e.state)}))},e.toTimeStamp=function(e){return Date.parse(e)/1e3},e}return Object(X.a)(n,[{key:"render",value:function(){var e={startDate:this.state.startDate,endDate:this.state.endDate,key:"selection"};return Object(ye.jsx)(tn.DateRangePicker,{classNames:"date-picker-2",rangeColors:"black",color:"black",className:"date-pick",ranges:[e],onChange:this.handleSelect})}}]),n}(s.a.Component),an=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){return Object(Z.a)(this,n),t.apply(this,arguments)}return Object(X.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onSelectGuests,n=e.toggleGuestsModal,a=e.trip,s=a.guests,i=s.adults,c=s.kids,r=s.infants;return Object(ye.jsx)("div",{className:"guest-mega-container",children:a&&Object(ye.jsxs)("div",{className:"guest-popup-container flex column",children:[Object(ye.jsx)("div",{className:"screen",onClick:function(){n()}}),Object(ye.jsxs)("div",{className:"guest-card flex space-between  align-center",children:[Object(ye.jsxs)("div",{className:"column",children:[Object(ye.jsx)("p",{className:"guest-type",children:"Adults"}),Object(ye.jsx)("p",{className:"guest-desc",children:"Ages 13 or above"})]}),Object(ye.jsxs)("div",{className:"guest-amount",children:[Object(ye.jsx)("p",{className:i?"guest-btn":"guest-btn zero",onClick:function(){return t("adults","minus")},children:Object(ye.jsx)(Xe.o,{})}),Object(ye.jsx)("p",{className:"guest-amount-count",children:i||0}),Object(ye.jsx)("p",{className:"guest-btn ",onClick:function(){return t("adults","plus")},children:Object(ye.jsx)(Xe.r,{})})]})]}),Object(ye.jsxs)("div",{className:"guest-card flex space-between align-center",children:[Object(ye.jsxs)("div",{className:"column",children:[Object(ye.jsx)("p",{className:"guest-type",children:"Children"}),Object(ye.jsx)("p",{className:"guest-desc",children:"Ages 2-12"})]}),Object(ye.jsxs)("div",{className:"guest-amount",children:[Object(ye.jsx)("p",{className:c?"guest-btn":"guest-btn zero",onClick:function(){return t("kids","minus")},children:Object(ye.jsx)(Xe.o,{})}),Object(ye.jsx)("p",{className:"guest-amount-count",children:c||0}),Object(ye.jsx)("p",{className:"guest-btn ",onClick:function(){return t("kids","plus")},children:Object(ye.jsx)(Xe.r,{})})]})]}),Object(ye.jsxs)("div",{className:"guest-card flex space-between  align-center",children:[Object(ye.jsxs)("div",{className:"column",children:[Object(ye.jsx)("p",{className:"guest-type",children:"Infants"}),Object(ye.jsx)("p",{className:"guest-desc",children:"Under 2"})]}),Object(ye.jsxs)("div",{className:"guest-amount ",children:[Object(ye.jsx)("p",{className:r?"guest-btn":"guest-btn zero",onClick:function(){return t("infants","minus")},children:Object(ye.jsx)(Xe.o,{})}),Object(ye.jsx)("p",{className:"guest-amount-count",children:r||0}),Object(ye.jsx)("p",{className:"guest-btn",onClick:function(){return t("infants","plus")},children:Object(ye.jsx)(Xe.r,{})})]})]})]})})}}]),n}(s.a.Component),sn=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(Z.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={trip:{startDate:e.props.startDate,endDate:e.props.endDate,guests:{adults:e.props.filterBy.adultNumber,kids:e.props.filterBy.kidsNumber,infants:e.props.filterBy.infantsNumber}},isGuestPopupOn:!1,isCheckoutToReserve:!1,isStayReserved:!1,isReqModalOpen:!1,datesModal:!1},e.onSelectDates=function(t){var n=t.startDate,a=t.endDate;n&&e.setState((function(e){return{trip:Object(p.a)(Object(p.a)({},e.trip),{},{startDate:n})}})),a&&e.setState((function(e){return{trip:Object(p.a)(Object(p.a)({},e.trip),{},{endDate:a})}}))},e.toTimestamp=function(e){return Date.parse(e)/1e3},e.toggleDatesModal=function(t){e.setState({datesModal:!0,isGuestPopupOn:!1})},e.timeToShow=function(e,t){var n=Date.parse(e),a=new Date(n),s="0"+a.getDate(),i="0"+(a.getMonth()+1),c="0"+a.getFullYear();return s.substr(-2)+"."+i.substr(-2)+"."+c.substr(-2)},e.getTripPrice=function(t,n,a){if(t&&n){var s=e.toTimestamp(t),i=(e.toTimestamp(n)-s)/86400,c=a*i+200;e.setState((function(e){return{trip:Object(p.a)(Object(p.a)({},e.trip),{},{totalNights:i,totalPrice:c}),isCheckoutToReserve:!0}}))}else e.setState((function(e){return{isReqModalOpen:!0}}),(function(){setTimeout((function(){e.setState((function(e){return{isReqModalOpen:!1}}))}),2e3)}))},e.toggleGuestsModal=function(){e.setState({datesModal:!1}),e.setState({isGuestPopupOn:!e.state.isGuestPopupOn}),e.calcGuestNum()},e.onSelectGuests=function(t,n){var a=e.props.stay,s=e.state.trip.guests,i=s.adults,c=s.kids,r=s.infants;switch(t){case"adults":if("minus"===n&&(i-=1),i<0&&(i=0),i+c+r>=a.capacity)return;"plus"===n&&(i+=1);break;case"kids":if("minus"===n&&(c-=1),c<0&&(c=0),i+c+r>=a.capacity)return;"plus"===n&&(c+=1);break;case"infants":if("minus"===n&&(r-=1),r<0&&(r=0),i+c+r>=a.capacity)return;"plus"===n&&(r+=1)}e.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{trip:Object(p.a)(Object(p.a)({},e.trip),{},{guests:{adults:i,kids:c,infants:r}})})}))},e.calcGuestNum=function(){var t=e.state.trip.guests;return+t.adults+ +t.kids+ +t.infants},e.onBookTrip=function(t,n){if(e.props.user){var a=e.props.user,s=a._id,i=a.fullname,c=a.imgUrl,r=a.username;n.buyer={_id:s,fullname:i,imgUrl:c,username:r},n.startDate=e.toTimestamp(n.startDate),n.endDate=e.toTimestamp(n.endDate),n.host=t.host,n.stay={_id:t._id,imgUrls:t.imgUrls,name:t.name,reviewsAvg:t.reviewsAvg},n.status="pending",n.demoReviews=et.getRandomIntInclusive(50,300),e.props.onAddOrder(n),e.setState({trip:{startDate:null,endDate:null,guests:{adults:1,kids:0,infants:0}},isGuestPopupOn:!1,isCheckoutToReserve:!1,isStayReserved:!0}),setTimeout((function(){e.setState({isStayReserved:!1})}),2e3)}else;},e.onCloseModal=function(t){e.setState({isGuestPopupOn:!1,datesModal:!1})},e.getMouseCord=function(e){},e.getBtnDivs=function(){for(var e=[],t=0;t<100;t++)e.push(Object(ye.jsx)("div",{className:"cell"},t+1));return e},e}return Object(X.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.stay,a=t.filterBy;window.addEventListener("scroll",(function(t){e.setState({datesModal:!1})})),this.setState({trip:{startDate:a.startDate,endDate:a.endDate,guests:{adults:a.adultNumber,kids:a.kidsNumber,infants:a.infantsNumber},loc:n.loc},isGuestPopupOn:!1,isCheckoutToReserve:!1,datesModal:!1,datesModalPos:{}})}},{key:"componentWillUnmount",value:function(){var e=this;window.removeEventListener("scroll",(function(t){e.setState({datesModal:!1})}))}},{key:"render",value:function(){var e=this,t=this.props.stay,n=this.state,a=n.trip,s=n.isCheckoutToReserve,i=n.isGuestPopupOn,c=n.datesModal,r=n.isStayReserved,o=n.isReqModalOpen,l=t.price,d=a.startDate,u=a.endDate;return Object(ye.jsxs)("section",{className:"checkout-popup flex column",children:[(i||c)&&Object(ye.jsx)("div",{className:"checkout-screen",onClick:function(t){e.onCloseModal(t)}}),Object(ye.jsxs)("section",{className:"checkout-container flex",children:[Object(ye.jsxs)("div",{className:"checkout-form-container",children:[Object(ye.jsxs)("div",{className:"checkout-form-header flex space-between align-center",onClick:function(){e.onCloseModal(!1)},children:[Object(ye.jsx)("div",{className:"order-price-container ",children:Object(ye.jsxs)("p",{className:"order-price",children:[Object(ye.jsxs)("span",{children:["$",l]})," / night"]})}),Object(ye.jsxs)("div",{className:"check-rating-container flex align-center",children:[Object(ye.jsx)("p",{className:"checkout-star",children:Object(ye.jsx)(Xe.w,{size:13,color:"#FF5A5F"})}),Object(ye.jsx)("p",{className:"order-avg-score",children:t.reviewsAvg}),Object(ye.jsx)("p",{className:"order-reviews",children:"(".concat(t.reviews.length," reviews)")})]})]}),Object(ye.jsxs)("div",{className:"form-container",children:[c&&Object(ye.jsx)(nn,{onSelectDates:this.onSelectDates,handleChange:this.handleChange}),Object(ye.jsxs)("div",{className:"select-form",children:[Object(ye.jsx)("div",{className:"dates-check-container",children:Object(ye.jsxs)("div",{className:"dates-container flex  ",children:[Object(ye.jsxs)("div",{className:"checkin-input flex column",onClick:function(t){var n=t.target.getBoundingClientRect(),a=n.bottom,s=n.left;e.setState({datesModalPos:{bottom:a,left:s}}),e.toggleDatesModal(!0)},children:[Object(ye.jsx)("label",{className:"title",htmlFor:"",children:"CHECK-IN"}),Object(ye.jsx)("label",{htmlFor:"",children:Object(ye.jsx)("span",{children:d?this.timeToShow(d,"startDate"):"Add date"})})]}),Object(ye.jsxs)("div",{className:"checkout-input flex column",onClick:function(t){t.target.getBoundingClientRect(),e.toggleDatesModal(!0)},children:[Object(ye.jsx)("label",{className:"title",htmlFor:"",children:"CHECK-OUT"}),Object(ye.jsx)("label",{htmlFor:"",children:Object(ye.jsx)("span",{children:u?this.timeToShow(u,"startDate"):"Add date"})})]})]})}),Object(ye.jsxs)("div",{className:"guests-check-container flex space-between",onClick:function(){e.toggleGuestsModal()},children:[Object(ye.jsxs)("div",{className:"guests-input flex column",children:[Object(ye.jsx)("label",{className:"title",htmlFor:"",children:"GUESTS "}),Object(ye.jsx)("label",{htmlFor:"",children:Object(ye.jsx)("span",{children:1===this.calcGuestNum()?"".concat(this.calcGuestNum()," guest"):"".concat(this.calcGuestNum()," guests")})})]}),Object(ye.jsx)("div",{className:"guest-select-arrow flex",children:i?Object(ye.jsx)(Xe.d,{}):Object(ye.jsx)(Xe.c,{})})]})]}),s&&Object(ye.jsxs)("div",{className:"summed-trip-info",children:[Object(ye.jsx)("div",{className:"sum-line",children:Object(ye.jsx)("p",{children:"You won't be charged yet"})}),Object(ye.jsxs)("div",{className:"calc-price-container flex space-between",children:[Object(ye.jsxs)("p",{className:"calc-price",children:["$",l," x ",a.totalNights," nights"]}),Object(ye.jsxs)("p",{children:["$",a.totalPrice]})]}),Object(ye.jsxs)("div",{className:"service-fee-container flex space-between",children:[Object(ye.jsx)("p",{className:"service-fee",children:"Service fee"}),Object(ye.jsx)("p",{children:"$200"})]}),Object(ye.jsxs)("div",{className:"total-price-container flex space-between",children:[Object(ye.jsx)("p",{className:"total",children:"Total"}),Object(ye.jsxs)("p",{className:"total-price",children:["$",a.totalPrice]})]})]}),r&&Object(ye.jsx)("div",{className:"stay-msg-container",children:Object(ye.jsx)("h1",{children:"Your order is waiting for approval"})}),Object(ye.jsxs)("div",{className:"checkout-btn-container",onClick:function(){s?e.onBookTrip(t,a):e.getTripPrice(d,u,l)},children:[this.getBtnDivs(),Object(ye.jsxs)("div",{className:"content",children:[!s&&!r&&Object(ye.jsxs)("button",{className:"checkout-btn",children:[Object(ye.jsx)("span",{children:"Check availabilty"})," "]}),s&&Object(ye.jsxs)("button",{className:"checkout-btn",children:[Object(ye.jsx)("span",{children:"Reserve"})," "]}),r&&Object(ye.jsxs)("button",{className:"checkout-btn",children:[Object(ye.jsx)("span",{children:"Order pending"})," "]})]})]})]})]}),o&&Object(ye.jsx)("section",{className:"checkout-popup-container flex align-center",children:Object(ye.jsx)("p",{children:"Enter trip dates"})})]}),i&&Object(ye.jsx)(an,{toggleGuestsModal:this.toggleGuestsModal,onSelectGuests:this.onSelectGuests,trip:a,stay:t})]})}}]),n}(s.a.Component);var cn={onAddOrder:function(e){var t=e.buyer;return function(){var n=Object(b.a)(j.a.mark((function n(a){var s,i;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s={byUser:{fullName:t.fullname,imgUrl:t.imgUrl,_id:t._id},createdAt:Date.now(),stay:{_id:e.stay._id,name:e.loc.address,reviewsAvg:e.stay.reviewsAvg},txt:"Reserved your stay",isRead:!1},n.next=4,Wt.save(e);case 4:i=n.sent,a({type:"ADD_ORDER",order:i}),Qt.emit("setNotif",s),n.next=11;break;case 9:n.prev=9,n.t0=n.catch(0);case 11:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}},rn=Object(o.b)((function(e){return{user:e.userModule.user,stay:e.stayModule.stay,filterBy:e.stayModule.filterBy}}),cn)(sn),on=n(1011),ln=function(e){var t=e.txt,n=void 0===t?"":t,a=e.size,s=void 0===a?"short":a,i=e.onToogleReadModal;return Object(ye.jsxs)("div",{className:"popup-container ".concat(s),children:[Object(ye.jsx)("div",{className:"close-btn-container flex ",children:Object(ye.jsx)("button",{className:"close-btn flex align-center justify-center",onClick:function(){i()},children:Object(ye.jsx)(on.a,{className:"close-icon"})})}),Object(ye.jsx)("article",{className:"popup-txt-container",children:Object(ye.jsx)("p",{children:n})})]})},dn=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(Z.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={isReadMoreOn:!1},e.onToogleReadModal=function(){e.setState({isReadMoreOn:!e.state.isReadMoreOn})},e}return Object(X.a)(n,[{key:"render",value:function(){var e=this.props.review,t=this.state.isReadMoreOn;return Object(ye.jsxs)("div",{className:"review-card-container",children:[Object(ye.jsx)("li",{children:Object(ye.jsxs)("div",{className:"review-card flex column align-center",children:[Object(ye.jsxs)("div",{className:"review-user-info flex",children:[e.by.imgUrl?Object(ye.jsx)("div",{className:"user-review-img-container",children:Object(ye.jsx)("img",{src:e.by.imgUrl,alt:""})}):Object(ye.jsx)("div",{className:"user-review-img-container flex align-center justify-content",children:Object(ye.jsx)(Xe.z,{})}),Object(ye.jsxs)("div",{className:"txt-info-container flex column",children:[Object(ye.jsx)("div",{className:"review-username-container",children:Object(ye.jsxs)("p",{className:"review-username",children:[e.by.fullname," "]})}),Object(ye.jsx)("div",{className:"review-username-container",children:"number"===typeof e.createdAt?Object(ye.jsxs)("p",{children:[et.timeToShow(e.createdAt)," "]}):Object(ye.jsxs)("p",{children:[e.createdAt," "]})})]})]}),Object(ye.jsxs)("div",{className:"review-txt-container",children:[e.txt&&e.txt.length>=100&&Object(ye.jsxs)("p",{children:[e.txt.substring(0,100)," ",e.txt.length>100&&Object(ye.jsxs)("span",{className:"read-more",onClick:this.onToogleReadModal,children:[Object(ye.jsx)("br",{})," More..."]})]}),e.txt&&e.txt.length<100&&Object(ye.jsx)("p",{children:e.txt})]})]})}),t&&Object(ye.jsx)(ln,{onToogleReadModal:this.onToogleReadModal,txt:e.txt})]})}}]),n}(a.Component),un=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){return Object(Z.a)(this,n),t.apply(this,arguments)}return Object(X.a)(n,[{key:"render",value:function(){var e=this.props.stay.reviews,t=this.props,n=t.isReadMoreOn,a=t.onToogleReadModal;return Object(ye.jsxs)("section",{className:"reviews-list-container flex ",children:[!e.length&&Object(ye.jsx)("section",{className:"reviews-container flex ",children:Object(ye.jsx)("p",{children:"No reviews to show..."})}),e.length?Object(ye.jsx)("section",{children:Object(ye.jsxs)("div",{children:[Object(ye.jsx)("ul",{className:"reviews-container flex space-between",children:e.slice(0,6).map((function(e){return Object(ye.jsx)(dn,{review:e,onToogleReadModal:a,isReadMoreOn:n},e.id)}))}),(null===e||void 0===e?void 0:e.length)&&Object(ye.jsx)("div",{children:Object(ye.jsxs)("button",{className:"show-reviews-btn",children:["Show all ",e.length," reviews"]})})]})}):""]})}}]),n}(a.Component);var pn=Object(o.b)((function(e){return{stay:e.stayModule.stay}}))(un),hn=n(124),mn=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(Z.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={center:{lat:"",lng:""},loc:{lat:"",lng:"",address:"",country:""}},e.onMapClicked=function(t,n,a){e.setState({center:{lat:a.latLng.lat(),lng:a.latLng.lng()}})},e.onMarkerClicked=function(){e.setState({isInfoWindowOn:!0})},e.onInfoWindowClose=function(){e.setState({isInfoWindowOn:!1})},e}return Object(X.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.location;this.setState({center:{lng:e.lng,lat:e.lat},loc:e})}},{key:"render",value:function(){var e=this.state.loc,t=e.lat,n=e.lng;return Object(ye.jsxs)("section",{className:"main-map-container",children:[Object(ye.jsx)("div",{className:"map-title-container",children:Object(ye.jsx)("h1",{className:"map-title",children:"Where you\u2019ll be"})}),Object(ye.jsxs)("div",{className:"map-container",children:[t&&Object(ye.jsxs)(hn.Map,{className:"stay-map",containerStyle:{width:"100%",height:"400px",position:"relative",margin:"0 auto"},google:this.props.google,zoom:15,initialCenter:this.state.center,onClick:this.onMapClicked,center:this.state.center,children:[Object(ye.jsx)(hn.Marker,{position:{lat:t,lng:n},name:"Current location"}),Object(ye.jsx)(hn.InfoWindow,{onClose:this.onInfoWindowClose,position:this.state.center,visible:this.state.isInfoWindowOn,children:Object(ye.jsx)("div",{children:Object(ye.jsx)("h1",{children:"Hello"})})})]}),Object(ye.jsx)("div",{children:this.state.loc.address&&Object(ye.jsxs)("h1",{className:"address-title",children:[this.state.loc.address.split(",")[0]," , ",this.state.loc.address.split(",")[1]]})})]})]})}}]),n}(a.Component),jn=Object(hn.GoogleApiWrapper)({apiKey:"AIzaSyCUGOKMnw7Uk2ksGmOSmUZKdpOyeWxg27Y"})(mn),bn=n(945),fn=n(127),vn=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(Z.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={newReview:{by:{fullname:e.props.user.fullname,_id:e.props.user._id,imgUrl:e.props.user.imgUrl},createdAt:null,txt:"",id:et.makeId(8),cleanliness:null,communication:null,checkIn:null,accuracy:null,location:null,value:null}},e.onRemove=function(){var t=Object(b.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.removeReview(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.clearReview=function(){e.setState({newReview:{createdAt:null,txt:"",id:et.makeId(),cleanliness:null,communication:null,checkIn:null,accuracy:null,location:null,value:null}})},e.handleChange=function(t){var n=t.target,a=n.name,s="number"===n.type?+n.value:n.value;e.setState((function(e){return{newReview:Object(p.a)(Object(p.a)({},e.newReview),{},Object(Ie.a)({},a,s))}}))},e.changeRating=function(t,n){e.setState((function(e){return{newReview:Object(p.a)(Object(p.a)({},e.newReview),{},Object(Ie.a)({},n,t))}}))},e.formSubmited=function(t){t.preventDefault();var n=e.props.stay;e.props.user._id&&e.setState((function(e){return{newReview:Object(p.a)(Object(p.a)({},e.newReview),{},{createdAt:Date.now()})}}),(function(){var t=e.state.newReview;t.by={fullname:e.props.user.fullname,_id:e.props.user._id,imgUrl:e.props.user.imgUrl},n.reviews=[t].concat(Object(u.a)(n.reviews)),console.log("before send",n),e.props.onEditStay(n),e.clearReview()}))},e.getBtnDivs=function(){for(var e=[],t=0;t<100;t++)e.push(Object(ye.jsx)("div",{className:"cell"},t));return e},e}return Object(X.a)(n,[{key:"componentDidMount",value:function(){this.clearReview(),this.props.user&&this.props.loadUser(this.props.user._id),this.setState({by:{fullname:this.props.user.fullname,_id:this.props.user._id,imgUrl:this.props.user.imgUrl}})}},{key:"render",value:function(){var e=this,t=this.state.newReview,n=t.cleanliness,a=t.communication,s=t.checkIn,i=t.accuracy,c=t.location,r=t.value,o=t.txt;return Object(ye.jsxs)("div",{children:[Object(ye.jsx)("div",{className:"add-review-title-container",children:Object(ye.jsx)("h3",{children:"Add review"})}),Object(ye.jsxs)("form",{action:"",className:"add-form flex column ",onSubmit:this.formSubmited,children:[Object(ye.jsxs)("div",{className:" add-review-container flex ",children:[Object(ye.jsxs)("div",{className:"left-review",children:[Object(ye.jsxs)("div",{className:"line flex",children:[Object(ye.jsx)("p",{children:"Cleanliness"}),Object(ye.jsx)(fn.a,{onChange:function(t){return e.changeRating(t,"cleanliness")},initialRating:n,fullSymbol:Object(ye.jsx)(Xe.w,{size:13,color:"#FF5A5F"}),emptySymbol:Object(ye.jsx)(Xe.w,{size:13,color:"lightgray",border:"1px solid #FF5A5F"})})]}),Object(ye.jsxs)("div",{className:"line flex",children:[Object(ye.jsx)("p",{children:"Communication"}),Object(ye.jsx)(fn.a,{onChange:function(t){return e.changeRating(t,"communication")},initialRating:a,fullSymbol:Object(ye.jsx)(Xe.w,{size:13,color:"#FF5A5F"}),emptySymbol:Object(ye.jsx)(Xe.w,{size:13,color:"lightgray",border:"1px solid #FF5A5F"})})]}),Object(ye.jsxs)("div",{className:"line flex",children:[Object(ye.jsx)("p",{children:"Check in"}),Object(ye.jsx)(fn.a,{onChange:function(t){return e.changeRating(t,"checkIn")},initialRating:s,fullSymbol:Object(ye.jsx)(Xe.w,{size:13,color:"#FF5A5F"}),emptySymbol:Object(ye.jsx)(Xe.w,{size:13,color:"lightgray",border:"1px solid #FF5A5F"})})]})]}),Object(ye.jsxs)("div",{className:"right-review",children:[Object(ye.jsxs)("div",{className:"line flex",children:[Object(ye.jsx)("p",{children:"Accuracy"}),Object(ye.jsx)(fn.a,{onChange:function(t){return e.changeRating(t,"accuracy")},initialRating:i,fullSymbol:Object(ye.jsx)(Xe.w,{size:13,color:"#FF5A5F"}),emptySymbol:Object(ye.jsx)(Xe.w,{size:13,color:"lightgray",border:"1px solid #FF5A5F"})})]}),Object(ye.jsxs)("div",{className:"line flex",children:[Object(ye.jsx)("p",{children:"Location"}),Object(ye.jsx)(fn.a,{onChange:function(t){return e.changeRating(t,"location")},initialRating:c,fullSymbol:Object(ye.jsx)(Xe.w,{size:13,color:"#FF5A5F"}),emptySymbol:Object(ye.jsx)(Xe.w,{size:13,color:"lightgray",border:"1px solid #FF5A5F"})})]}),Object(ye.jsxs)("div",{className:"line flex",children:[Object(ye.jsx)("p",{children:"Value"}),Object(ye.jsx)(fn.a,{onChange:function(t){return e.changeRating(t,"value")},initialRating:r,fullSymbol:Object(ye.jsx)(Xe.w,{size:13,color:"#FF5A5F"}),emptySymbol:Object(ye.jsx)(Xe.w,{size:13,color:"lightgray",border:"1px solid #FF5A5F"})})]})]})]}),Object(ye.jsx)("div",{className:"add-txt-container flex",children:Object(ye.jsx)(bn.a,{style:{padding:"20px",width:"100%",height:" 150px",resize:"none",borderRadius:"13px",borderColor:" #bdbcbc",fontFamily:"circular-book",fontSize:"1rem"},value:o,placeholder:"Write you opinion about this stay...",className:"review-input",onChange:this.handleChange,name:"txt",autoComplete:"off"})}),Object(ye.jsx)("div",{className:"add-review-btn flex",children:Object(ye.jsxs)("div",{className:"checkout-btn-container",onClick:this.formSubmited,children:[this.getBtnDivs(),Object(ye.jsx)("div",{className:"content",children:Object(ye.jsx)("button",{type:"submit",className:"checkout-btn",children:Object(ye.jsx)("span",{children:"Add"})})})]})})]})]})}}]),n}(a.Component);var gn={onEditStay:ge,loadUser:nt},yn=Object(o.b)((function(e){return{user:e.userModule.user}}),gn)(vn),On=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(Z.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={cleanliness:null,communication:null,checkIn:null,accuracy:null,location:null,value:null,totalAvg:null},e.getAvrage=function(t){var n=e.props.reviews,a=0;return n.map((function(e){return a+=+e[t]})),a=(a/n.length).toFixed(1)},e.getTotalAvg=function(){var t=0;Object.keys(e.state).forEach((function(n,a){t+=+e.state[n]})),t=(t/6).toFixed(1),e.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{totalAvg:t})}),(function(){e.props.setReviewsAvg(+t)}))},e}return Object(X.a)(n,[{key:"componentDidMount",value:function(){var e=this;["cleanliness","communication","checkIn","accuracy","location","value"].forEach((function(t){e.setState((function(n){return Object(p.a)(Object(p.a)({},n),{},Object(Ie.a)({},t,e.getAvrage(t)))}),(function(){e.getTotalAvg()}))}))}},{key:"render",value:function(){var e=this,t=this.props.reviews,n=this.state;return Object(ye.jsxs)("section",{children:[Object(ye.jsx)("div",{className:"reviews-sec-title-container",children:Object(ye.jsxs)("h1",{className:"reviews-section-title flex",children:[Object(ye.jsx)(Xe.w,{size:15,color:"#FF5A5F"})," ",Object(ye.jsx)("span",{children:this.state.totalAvg})," ",Object(ye.jsx)("span",{children:"Reviews"})," ",Object(ye.jsx)("span",{children:"\u2022"}),t.length," Reviews"]})}),Object(ye.jsxs)("div",{className:"review-avg-container flex space-between",children:[Object(ye.jsx)("div",{className:"left-review",children:Object.keys(n).map((function(t,n){if(n<=2)return Object(ye.jsxs)("div",{className:"line flex align-center space-between",children:[Object(ye.jsxs)("p",{className:"line-title",children:[t.charAt(0).toUpperCase(),t.slice(1)]}),Object(ye.jsxs)("div",{className:"loader-container flex align-center space-between",children:[Object(ye.jsx)("div",{className:"line-loader-container",children:Object(ye.jsx)("div",{className:"line-loader",style:{width:"".concat(20*+e.state[t],"%")}})}),Object(ye.jsx)("p",{className:"review-score",children:e.state[t]})]})]},t)}))}),Object(ye.jsx)("div",{className:"right-review",children:Object.keys(n).map((function(t,n){if(n>2&&n<=5)return Object(ye.jsxs)("div",{className:"line flex align-center space-between",children:[Object(ye.jsxs)("p",{className:"line-title",children:[t.charAt(0).toUpperCase(),t.slice(1)]}),Object(ye.jsxs)("div",{className:"loader-container flex align-center space-between",children:[Object(ye.jsx)("div",{className:"line-loader-container",children:Object(ye.jsx)("div",{className:"line-loader",style:{width:"".concat(20*+e.state[t],"%")}})}),Object(ye.jsx)("p",{className:"review-score",children:e.state[t]})]})]},t)}))})]})]})}}]),n}(s.a.Component);function xn(e){var t=e.amenities,n=e.onToggleAmenitiesModal;return Object(ye.jsx)("div",{className:"amenities-modal-wrapper flex justify-center",children:Object(ye.jsxs)("section",{className:"amenities-modal-container ",children:[Object(ye.jsx)("div",{className:"close-modal-btn-container flex align-center",children:Object(ye.jsx)("div",{className:"close-btn",children:Object(ye.jsxs)("p",{onClick:function(){n()},children:[" ",Object(ye.jsx)(on.a,{})," "]})})}),Object(ye.jsx)("div",{className:"amenities-modal-title",children:Object(ye.jsx)("h4",{children:"What this place offers"})}),Object(ye.jsx)("section",{className:"amenities-list-container",children:Object(ye.jsx)("ul",{className:"amenities-list",children:t.map((function(e){return Object(ye.jsxs)("li",{className:"amenity-item flex",children:[Object(ye.jsx)("div",{className:"amenity-icon-container",children:et.getAmenitiesIcons(e)}),Object(ye.jsx)("div",{className:"amenity-txt",children:Object(ye.jsx)("p",{children:e})})]},e)}))})})]})})}var wn=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(Z.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={stayReviews:[],trip:{startDate:null,endDate:null,guests:{adults:1,kids:0,infants:0}},isReadMoreOn:!1,isLiked:null,isMobilePics:!1,isAmenitiesModalOpen:!1},e.setMobliePicsDisplay=function(){window.innerWidth<=780?e.setState({isMobilePics:!0}):e.setState({isMobilePics:!1})},e.onToogleLikeStay=function(){var t=e.props,n=t.user,a=t.stay,s=e.state.isLiked;n&&e.setState({isLiked:!s},(function(){e.props.onToggleLikedStay(a._id,!s,n._id)}))},e.isStayLiked=function(){var t=e.props,n=t.user,a=t.stay;n&&a&&(n.mySaves&&n.mySaves.filter((function(e){return e===a._id})).length&&e.setState({isLiked:!0}))},e.handleChange=function(t){var n=t.startDate,a=t.endDate;n&&e.setState((function(e){return{trip:Object(p.a)(Object(p.a)({},e.trip),{},{startDate:n})}})),a&&e.setState((function(e){return{trip:Object(p.a)(Object(p.a)({},e.trip),{},{endDate:a})}}))},e.setReviewsAvg=function(t){var n=e.props.stay;n.reviewsAvg=t,e.props.onEditStay(n),e.setState((function(e){return{stay:Object(p.a)(Object(p.a)({},e.stay),{},{reviewsAvg:t})}}))},e.onToggleAmenitiesModal=function(){e.setState({isAmenitiesModalOpen:!e.state.isAmenitiesModalOpen})},e}return Object(X.a)(n,[{key:"componentDidMount",value:function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setMobliePicsDisplay(),t=this.props.user,n=this.props.match.params.stayId,window.addEventListener("resize",this.setMobliePicsDisplay),n){e.next=8;break}this.props.history.push("/"),e.next=10;break;case 8:return e.next=10,this.props.loadStay(n);case 10:window.scrollTo(0,0),this.props.stay&&(Qt.setup(),Qt.emit("setHost",this.props.stay.host._id)),t&&this.props.loadUser(t._id),this.isStayLiked();case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.setMobliePicsDisplay)}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.user;t.isLiked!==this.state.isLiked&&(this.isStayLiked(),n&&this.props.loadUser(n._id))}},{key:"render",value:function(){var e=this.state,t=e.isReadMoreOn,n=e.isLiked,a=e.isMobilePics,s=e.isAmenitiesModalOpen,i=this.props,c=i.stay,r=i.user;return Object(ye.jsxs)("section",{className:"stay-details-section main-container",children:[!c&&Object(ye.jsx)("div",{className:"loader-container flex align-center justify-center",children:Object(ye.jsx)("img",{src:Mt,alt:"loader"})}),c&&Object(ye.jsxs)("div",{className:"stay-details-container",children:[Object(ye.jsx)(Bt,{isMobilePics:a,user:r,stay:c,isLiked:n,reviewsAvg:c.reviewsAvg,onToogleLikeStay:this.onToogleLikeStay}),Object(ye.jsxs)("section",{className:" details-main-conatiner flex",children:[Object(ye.jsxs)("div",{className:"details-left-container",children:[Object(ye.jsxs)("section",{className:"host-info-container flex align-center space-between",children:[Object(ye.jsxs)("div",{className:"asset-short-info flex",children:[Object(ye.jsx)("div",{className:"host-by",children:Object(ye.jsx)("p",{children:"".concat(c.assetType," hosted by ").concat(c.host.fullname)})}),Object(ye.jsx)("div",{className:"asset-info",children:Object(ye.jsxs)("p",{children:[Object(ye.jsx)("span",{children:"".concat(c.capacity," guests")})," \u2022 ",Object(ye.jsx)("span",{children:"".concat(c.host.fullname," is Superhost!")})," \u2022  ",Object(ye.jsx)("span",{children:"".concat(c.capacity," beds")})," "]})})]}),c.host.imgUrl?Object(ye.jsx)("div",{className:"host-img-container",children:Object(ye.jsx)("img",{src:c.host.imgUrl,alt:""})}):Object(ye.jsx)("div",{className:"host-img-container",children:Object(ye.jsx)(Xe.z,{})})]}),Object(ye.jsx)(qt,{}),Object(ye.jsx)("section",{className:"asset-desc-container",children:Object(ye.jsx)("div",{className:"asset-desc",children:c.summary>100?Object(ye.jsxs)("p",{children:[c.summary.substring(0,100)," ",Object(ye.jsx)("span",{className:"read-more",children:" More..."})]}):Object(ye.jsx)("p",{children:c.summary})})}),Object(ye.jsxs)("section",{className:"amenities-container",children:[Object(ye.jsx)("h4",{children:"What this place offers"}),Object(ye.jsx)("div",{children:Object(ye.jsx)(zt,{amenities:c.amenities})}),c.amenities.length>10&&Object(ye.jsx)("div",{children:Object(ye.jsxs)("button",{className:"amenities-btn",onClick:this.onToggleAmenitiesModal,children:["Show all ",c.amenities.length," amenities"]})})]})]}),Object(ye.jsx)("div",{className:"details-right-container",children:Object(ye.jsx)(rn,{reviewsAvg:c.reviewsAvg})})]}),Object(ye.jsxs)("section",{className:"page-bottom-container",children:[Object(ye.jsxs)("div",{className:"reviews-section-container",children:[Object(ye.jsx)(On,{reviews:c.reviews,setReviewsAvg:this.setReviewsAvg}),Object(ye.jsx)(pn,{isReadMoreOn:t,onToogleReadModal:this.onToogleReadModal}),r&&Object(ye.jsx)("div",{className:"add-review",children:Object(ye.jsx)(yn,{stay:c})})]}),Object(ye.jsx)(jn,{location:c.loc})]})]}),s?Object(ye.jsx)("div",{className:"amenities-screen screen-open ",onClick:this.onToggleAmenitiesModal}):"",c?s&&Object(ye.jsx)(xn,{onToggleAmenitiesModal:this.onToggleAmenitiesModal,amenities:c.amenities}):""]})}}]),n}(s.a.Component);var kn={loadStay:function(e){return function(){var t=Object(b.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"LOADING_START"}),t.next=4,oe.getById(e);case 4:a=t.sent,n({type:"SET_STAY",stay:a}),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:return t.prev=10,n({type:"LOADING_DONE"}),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,8,10,13]])})));return function(e){return t.apply(this,arguments)}}()},onToggleLikedStay:ot,loadUser:nt,onEditStay:ge},Nn=Object(o.b)((function(e){return{user:e.userModule.user,stay:e.stayModule.stay,reviews:e.reviewModule.reviews}}),kn)(wn),Sn=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(Z.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={credentials:{username:"",password:"",email:"",fullname:""},isSignup:!1,users:[]},e.clearState=function(){e.setState({clearTemplate:{credentials:{username:"",password:"",email:"",fullname:""},isSignup:!1}})},e.handleChange=function(t){var n=t.target.name,a=t.target.value;e.setState({credentials:Object(p.a)(Object(p.a)({},e.state.credentials),{},Object(Ie.a)({},n,a))})},e.onLogin=Object(b.a)(j.a.mark((function t(){var n,a,s=arguments;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=s.length>0&&void 0!==s[0]?s[0]:null)&&n.preventDefault(),e.state.credentials.username){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,e.props.onLogin(e.state.credentials);case 6:return t.next=8,e.props.loadUser(e.props.user._id);case 8:(a=e.props.user).isHost&&(Qt.setup(),Qt.emit("setHost",a._id),Qt.on("getNotif",function(){var t=Object(b.a)(j.a.mark((function t(n){var s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s={notifTxt:"".concat(n.txt," at ").concat(n.stay.name),byUser:n.byUser.fullName,isRead:n.isRead,createdAt:n.createdAt},a.notifications=[s].concat(Object(u.a)(a.notifications)),t.next=4,e.props.updateUser(a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.clearState();case 11:case"end":return t.stop()}}),t)}))),e.onSignup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t&&t.preventDefault(),e.state.credentials.username&&e.state.credentials.password&&e.state.credentials.fullname&&(e.props.onSignup(e.state.credentials),e.clearState(),e.props.history.push("/"))},e.toggleSignup=function(){e.setState({isSignup:!e.state.isSignup})},e.responseGoogle=function(e){},e}return Object(X.a)(n,[{key:"componentDidMount",value:function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.props.loadUsers();case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.credentials,t=e.username,n=(e.email,this.state.isSignup),a=this.props,s=a.user,i=a.users;return Object(ye.jsx)("div",{className:"login-page",children:!n&&!s&&Object(ye.jsxs)("form",{className:"login-form",onSubmit:this.onLogin,children:[i&&Object(ye.jsxs)("select",{name:"username",value:t,onChange:this.handleChange,children:[Object(ye.jsx)("option",{value:"",children:"Select User"}),i.map((function(e){return Object(ye.jsx)("option",{value:e.username,children:e.fullname},e._id)}))]}),Object(ye.jsx)("button",{children:"Login!"})]})})}}]),n}(s.a.Component);var Cn={onLogin:it,onLogout:rt,onSignup:ct,loadUsers:tt,loadUser:nt,updateUser:st},Tn=Object(ne.f)(Object(o.b)((function(e){return{user:e.userModule.user,users:e.userModule.users}}),Cn)(Sn)),Mn=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(Z.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={credentials:{username:"",password:"",email:"",fullname:""},isSignUp:!1,users:[]},e.clearState=function(){e.setState({clearTemplate:{credentials:{username:"",password:"",email:"",fullname:""},isSignUp:!1}})},e.handleChange=function(t){var n=t.target.name,a=t.target.value;e.setState({credentials:Object(p.a)(Object(p.a)({},e.state.credentials),{},Object(Ie.a)({},n,a))})},e.onLogin=Object(b.a)(j.a.mark((function t(){var n,a,s=arguments;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=s.length>0&&void 0!==s[0]?s[0]:null)&&n.preventDefault(),e.state.credentials.username){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,e.props.onLogin(e.state.credentials);case 6:return t.next=8,e.props.loadUser(e.props.user._id);case 8:(a=e.props.user).isHost&&(Qt.setup(),Qt.emit("setHost",a._id),Qt.on("getNotif",function(){var t=Object(b.a)(j.a.mark((function t(n){var s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s={notifTxt:"".concat(n.txt," at ").concat(n.stay.name),byUser:n.byUser.fullName,byUserImg:"https://i.pravatar.cc/100?u=".concat(n.byUser._id.substr(n.byUser._id.length-8)),isRead:n.isRead,createdAt:n.createdAt},a.notifications=[s].concat(Object(u.a)(a.notifications)),t.next=4,e.props.updateUser(a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.clearState(),e.props.history.goBack();case 12:case"end":return t.stop()}}),t)}))),e.onSignup=Object(b.a)(j.a.mark((function t(){var n,a=arguments;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=a.length>0&&void 0!==a[0]?a[0]:null)&&n.preventDefault(),e.state.credentials.username&&e.state.credentials.password&&e.state.credentials.fullname){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,e.props.onSignup(e.state.credentials);case 6:e.clearState(),e.props.history.push("/");case 8:case"end":return t.stop()}}),t)}))),e.toggleSignUp=function(t){t.preventDefault(),e.setState({isSignUp:!e.state.isSignUp})},e}return Object(X.a)(n,[{key:"componentDidMount",value:function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.scrollTo(0,0),e.next=3,E.getUsers();case 3:t=e.sent,this.setState({users:t});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.credentials,t=e.username,n=e.password,a=e.fullname,s=e.email,i=this.state,c=i.isSignUp;return i.users?Object(ye.jsx)("section",{className:"items-center main-container page-padding",children:Object(ye.jsxs)("form",{className:"login flex column justify-center align-center",children:[Object(ye.jsx)("h1",{children:c?"Sign Up":"Login"}),Object(ye.jsx)("h2",{children:c?"Welcome to AnyGo":"Welcome back"}),Object(ye.jsxs)("div",{className:"input-fields flex column align-center",children:[c&&Object(ye.jsx)("div",{className:"fullname-input",children:Object(ye.jsx)("input",{className:"flex",type:"text",name:"fullname",placeholder:"fullname",value:a,onChange:this.handleChange,required:!0})}),Object(ye.jsx)("div",{className:c?"login-input border-top":"login-input",children:Object(ye.jsx)("input",{className:"flex",type:"text",name:"username",placeholder:"Username",value:t,onChange:this.handleChange,required:!0})}),c&&Object(ye.jsx)("div",{className:"fullname-input",children:Object(ye.jsx)("input",{className:"flex",type:"email",name:"email",placeholder:"Email",value:s,onChange:this.handleChange,required:!0})}),Object(ye.jsx)("div",{className:"password-input",children:Object(ye.jsx)("input",{className:"flex",type:"password",name:"password",placeholder:"Password",value:n,onChange:this.handleChange,required:!0})})]}),Object(ye.jsx)("button",{className:"login-btn",onClick:c?this.onSignup:this.onLogin,children:c?"Sign Up":"Login"}),Object(ye.jsx)("div",{className:"new-user",children:Object(ye.jsx)("button",{className:"new-user-btn",onClick:this.toggleSignUp,children:c?"Already have an account ?":"New user ?"})})]})}):Object(ye.jsx)("div",{children:"loading..."})}}]),n}(s.a.Component);var _n={onLogin:it,onLogout:rt,onSignup:ct,updateUser:st,loadUser:nt},An=Object(ne.f)(Object(o.b)((function(e){return{user:e.userModule.user}}),_n)(Mn)),Un=n.p+"static/media/undraw_off_road_-9-oae.ad390807.svg",In=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(Z.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={trip:null},e.getTime=function(e){var t=new Date(1e3*e),n="0"+t.getDate(),a="0"+(t.getMonth()+1),s="0"+t.getFullYear();return n.substr(-2)+"."+a.substr(-2)+"."+s.substr(-2)},e.onCancelTrip=function(t){t.status="canceled",e.props.onUpdateOrder(t)},e.onRemoveTrip=function(t){e.props.onRemoveOrder(t)},e}return Object(X.a)(n,[{key:"render",value:function(){var e=this,t=this.props.trip,n=this.getTime(t.startDate),a=this.getTime(t.endDate);return Object(ye.jsx)("div",{className:"trip-preview-container",children:t.stay&&Object(ye.jsxs)("section",{children:[Object(ye.jsx)("div",{children:Object(ye.jsx)(r.c,{to:"/stay/".concat(t.stay._id),className:"trip-img-container",children:t.stay.imgUrls.length&&Object(ye.jsx)(pt,{imgs:t.stay.imgUrls})})}),Object(ye.jsxs)("div",{className:"trip-preview-details",children:[Object(ye.jsxs)("div",{className:"name-dates-container flex space-between",children:[Object(ye.jsx)("div",{children:Object(ye.jsx)("h4",{children:t.stay.name})}),Object(ye.jsxs)("div",{children:[Object(ye.jsx)("div",{children:n}),Object(ye.jsx)("div",{children:a})]})]}),"pending"===t.status&&Object(ye.jsxs)("div",{className:"container flex space-between align-center",children:[Object(ye.jsx)("div",{children:Object(ye.jsx)("p",{children:"Wait for approval"})}),Object(ye.jsx)("div",{children:Object(ye.jsx)("p",{onClick:function(){e.onCancelTrip(t)},className:"cancel-btn",children:"Cancel"})})]}),"canceled"===t.status&&Object(ye.jsxs)("div",{className:"container flex space-between align-center",children:[Object(ye.jsx)("div",{children:Object(ye.jsx)("p",{children:"Canceled"})}),Object(ye.jsx)("div",{children:Object(ye.jsx)("p",{onClick:function(){e.onRemoveTrip(t._id)},className:"cancel-btn",children:"Remove"})})]}),"declined"===t.status&&Object(ye.jsxs)("div",{className:"container flex space-between align-center",children:[Object(ye.jsx)("div",{children:Object(ye.jsx)("p",{children:"Declined by host"})}),Object(ye.jsx)("div",{children:Object(ye.jsx)("p",{onClick:function(){e.onRemoveTrip(t._id)},className:"cancel-btn",children:"Remove"})})]}),"approved"===t.status&&Object(ye.jsxs)("div",{className:"container flex space-between align-center",children:[Object(ye.jsx)("div",{children:Object(ye.jsx)("p",{children:"Approved by host!"})}),Object(ye.jsx)("div",{children:Object(ye.jsx)("p",{onClick:function(){e.onCancelTrip(t)},className:"cancel-btn",children:"Cancel"})})]})]})]})})}}]),n}(s.a.Component);var Dn={onCancelOrder:function(e,t,n){return function(){var a=Object(b.a)(j.a.mark((function a(s){var i,c,r,o;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,E.getById(t);case 3:return i=a.sent,a.next=6,E.getById(n);case 6:return c=a.sent,i.myTrips=i.myTrips.filter((function(t){return t._id!==e})),c.orders=c.orders.filter((function(t){return t._id!==e})),a.next=11,E.update(i);case 11:return r=a.sent,a.next=14,E.update(c);case 14:o=a.sent,s({type:"UPDATE_USER",user:r}),s({type:"UPDATE_USER",user:o}),a.next=21;break;case 19:a.prev=19,a.t0=a.catch(0);case 21:case"end":return a.stop()}}),a,null,[[0,19]])})));return function(e){return a.apply(this,arguments)}}()},onRemoveOrder:Xt,onUpdateOrder:en},Rn=Object(o.b)((function(e){return{user:e.userModule.user,stays:e.stayModule.stays}}),Dn)(In);function En(e){var t=e.trips;e.isHost,e.stays;return Object(ye.jsx)("div",{className:"trip-list flex",children:t.map((function(e,t){return Object(ye.jsx)(Rn,{trip:e},t)}))})}n.p;var Pn=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(Z.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={user:null,trips:[]},e}return Object(X.a)(n,[{key:"componentDidMount",value:function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.scrollTo(0,0),e.next=3,this.props.loadUser(this.props.user._id);case 3:return e.next=5,this.props.loadOrders(this.props.user._id,"buyer");case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.user,n=e.orders;return Object(ye.jsx)("main",{className:"trips-page-container main-container",children:t&&Object(ye.jsxs)("section",{className:"trips-container page-padding",children:[Object(ye.jsx)("div",{className:"trips-title-container",children:Object(ye.jsx)("h1",{children:"Trips"})}),!n.length&&Object(ye.jsxs)("div",{className:"no-trips-txt",children:[Object(ye.jsx)("p",{children:"When you\u2019re ready to start planning your next trip, we\u2019re here to help. "}),Object(ye.jsx)("div",{className:"trips-img-container",children:Object(ye.jsx)("img",{src:Un,alt:""})})]}),n&&n.length?Object(ye.jsx)("section",{className:"trips-container",children:Object(ye.jsx)(En,{trips:n,isHost:t.isHost})}):""]})})}}]),n}(s.a.Component);var Ln={loadUser:nt,loadOrders:Zt},Fn=Object(o.b)((function(e){return{user:e.userModule.user,orders:e.orderModule.orders}}),Ln)(Pn),Bn=n(1016),qn=n(1014),zn=n(241),Hn=n.n(zn),Wn=n(422),Gn=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(Z.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={selectedPlace:"",loc:{lat:"",lng:"",address:"",country:""}},e.handleChange=function(t){e.setState({selectedPlace:t})},e.handleSelect=function(){var t=Object(b.a)(j.a.mark((function t(n){var a,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(zn.geocodeByAddress)(n);case 2:return a=t.sent,t.next=5,Object(zn.getLatLng)(a[0]);case 5:s=t.sent,e.setState({selectedPlace:n,loc:{lat:s.lat,lng:s.lng,address:n}},(function(){e.props.handleAddressChange(e.state.loc)}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(X.a)(n,[{key:"render",value:function(){var e=this.state.selectedPlace;return Object(ye.jsx)("section",{className:"add-stay-location-container",children:Object(ye.jsxs)("div",{className:"add-form-line flex align-center",children:[Object(ye.jsx)("label",{className:"add-line",htmlFor:"",children:"Address"}),Object(ye.jsx)(Hn.a,{value:e,onChange:this.handleChange,onSelect:this.handleSelect,children:function(t){var n=t.getInputProps,a=t.suggestions,s=t.getSuggestionItemProps,i=t.loading;return Object(ye.jsxs)("div",{children:[Object(ye.jsx)(Wn.a,Object(p.a)({value:e},n({placeholder:"Search Places ...",className:"location-search-input"}))),Object(ye.jsxs)("div",{className:"autocomplete-dropdown-container",children:[i&&Object(ye.jsx)("div",{children:"Loading..."}),a.map((function(e,t){var n=e.active?"suggestion-item--active":"suggestion-item",a=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return Object(ye.jsx)("div",Object(p.a)(Object(p.a)({},s(e,{className:n,style:a})),{},{children:Object(ye.jsx)("span",{children:e.description})}),t)}))]})]})}})]})})}}]),n}(a.Component),Vn=Object(hn.GoogleApiWrapper)({apiKey:"AIzaSyCUGOKMnw7Uk2ksGmOSmUZKdpOyeWxg27Y"})(Gn),Yn=n(297),Kn=n.p+"static/media/no-img.b21add8f.png",Jn=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(Z.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={newStay:{name:"",assetType:"",assetSpace:"",summary:"",uniqueStay:!1,imgUrls:[],price:"",capacity:"",amenities:[],labels:[],loc:{country:"",countryCode:"",address:"",lat:"",lng:""},host:"",reviews:[]},ameintiesOptions:[{name:"TV",isChecked:!1},{name:"Wifi",isChecked:!1},{name:"Kitchen",isChecked:!1},{name:"Smoking allowed",isChecked:!1},{name:"Hot tub",isChecked:!1},{name:"Pets allowed",isChecked:!1},{name:"No smoking",isChecked:!1},{name:"Cooking basics",isChecked:!1},{name:"Air conditioning",isChecked:!1},{name:"Heating",isChecked:!1},{name:"Pool",isChecked:!1},{name:"Indoor fireplace",isChecked:!1},{name:"Refrigerator",isChecked:!1},{name:"Dishwasher",isChecked:!1},{name:"Backyard",isChecked:!1},{name:"BBQ grill",isChecked:!1},{name:"Crib",isChecked:!1},{name:"Private entrance",isChecked:!1},{name:"Lockbox",isChecked:!1},{name:"Beachfront",isChecked:!1},{name:"Hangers",isChecked:!1},{name:"Wine glasses",isChecked:!1},{name:"Free parking",isChecked:!1},{name:"Accessible",isChecked:!1},{name:"King size bed",isChecked:!1},{name:"Bathub",isChecked:!1},{name:"Balcony",isChecked:!1},{name:"Iron",isChecked:!1},{name:"Room service",isChecked:!1},{name:"Coffee machine",isChecked:!1},{name:"Laundry machine",isChecked:!1},{name:"Speakers",isChecked:!1},{name:"Gaming console",isChecked:!1}]},e.handleChange=function(t){var n=t.target,a=n.name,s="number"===n.type?+n.value:n.value;e.setState((function(t){return Object(p.a)(Object(p.a)({},t),{},{newStay:Object(p.a)(Object(p.a)({},e.state.newStay),{},Object(Ie.a)({},a,s))})}))},e.handleAmenityChange=function(t){var n=e.state.newStay.amenities,a=e.state.ameintiesOptions,s=a.findIndex((function(e){return e.name===t})),i=!a[s].isChecked,c=a.map((function(e){return e.name===t?{name:t,isChecked:i}:e}));if(i)n.push(t);else{var r=n.findIndex((function(e){return e===t}));n.splice(r,1)}e.setState((function(t){return Object(p.a)(Object(p.a)({},t),{},{newStay:Object(p.a)(Object(p.a)({},e.state.newStay),{},{amenities:n}),ameintiesOptions:c})}))},e.handleAddressChange=function(t){e.setState((function(n){return Object(p.a)(Object(p.a)({},n),{},{newStay:Object(p.a)(Object(p.a)({},e.state.newStay),{},{loc:t})})}))},e.handleSelectChange=function(t){var n=t.name,a=t.value;e.setState((function(t){return Object(p.a)(Object(p.a)({},t),{},{newStay:Object(p.a)(Object(p.a)({},e.state.newStay),{},Object(Ie.a)({},n,a))})}))},e.onAddsStay=function(t){t.preventDefault();var n=e.state.newStay,a=e.props.user,s=a._id,i=a.fullname,c=a.imgUrl;n.assetType="".concat(n.assetSpace.split(" ")[1]," ").concat(n.assetType),n.host={fullname:i,_id:s,imgUrl:c},e.props.onAddStay(n),e.setState({newStay:{name:"",assetType:"",assetSpace:"",summary:"",uniqueStay:!1,imgUrls:[Kn,Kn,Kn,Kn,Kn],price:"",capacity:"",amenities:[],labels:[],loc:{country:"",countryCode:"",address:"",lat:"",lng:""},host:"",reviews:[]}}),e.props.history.push("/explore")},e.onUploadImg=function(t){var n="https://api.cloudinary.com/v1_1/".concat("dkbfdybze","/image/upload"),a=t.target.files[0],s=new FormData;return s.append("file",a),s.append("upload_preset","ewa9mksh"),fetch(n,{method:"POST",body:s}).then((function(e){return e.json()})).then((function(t){var n=e.state,a=t.url;n.newStay.imgUrls.push(a),e.setState(n)})).catch((function(e){return console.error(e)}))},e.getBtnDivs=function(){for(var e=[],t=0;t<100;t++)e.push(Object(ye.jsx)("div",{className:"cell"},t+1));return e},e}return Object(X.a)(n,[{key:"render",value:function(){var e=this,t=this.state.newStay,n=t.imgUrls,a=t.name,s=t.assetSpace,i=t.assetType,c=t.capacity,r=t.summary,o=t.price,l=this.state.ameintiesOptions;return n?Object(ye.jsx)("section",{className:"add-stay-container",children:Object(ye.jsx)("div",{className:"add-stay-form-container flex",onSubmit:this.onAddsStay,children:Object(ye.jsxs)("form",{className:"add-stay-form",children:[Object(ye.jsxs)("section",{className:"add-basic-info-container flex align-center",children:[Object(ye.jsxs)("div",{className:"add-form-line flex align-center",children:[Object(ye.jsx)("label",{className:"add-line",children:"Name"}),Object(ye.jsx)(Wn.a,{className:"stay-name-input",required:!0,type:"text",autoComplete:"off",value:a,name:"name",placeholder:"Asset name...",onChange:this.handleChange})]}),Object(ye.jsx)("div",{className:"add-stay-location-wrapper",children:Object(ye.jsx)(Vn,{handleAddressChange:this.handleAddressChange})}),Object(ye.jsxs)("div",{className:"add-form-line flex align-center",children:[Object(ye.jsx)("label",{className:"add-line",children:"Price"}),Object(ye.jsx)(Wn.a,{required:!0,type:"number",value:o,name:"price",placeholder:"Price",onChange:this.handleChange}),Object(ye.jsx)("label",{className:"add-line",children:"/per night"})]})]}),Object(ye.jsx)("section",{className:"add-stay-imgs-container flex",children:Object(ye.jsxs)("div",{className:"add-stay-imgs flex",children:[Object(ye.jsx)("div",{className:"primary-img square-ratio",children:n[0]?Object(ye.jsx)("img",{src:n[0],alt:""}):Object(ye.jsxs)("div",{children:[Object(ye.jsx)("div",{className:"upload-img-txt flex align-center",children:Object(ye.jsx)("label",{children:"Upload image"})}),Object(ye.jsx)("input",{type:"file",placeholder:"Upload Image",name:"imgUrls",onChange:this.onUploadImg})]})}),Object(ye.jsxs)("div",{className:"add-small-imgs-container flex column space-between",children:[Object(ye.jsx)("div",{className:"new-stay-img square-ratio",children:n[1]?Object(ye.jsx)("img",{src:n[1],alt:""}):Object(ye.jsxs)("div",{children:[Object(ye.jsx)("div",{className:"upload-img-txt flex align-center",children:Object(ye.jsx)("label",{children:"Upload image"})}),Object(ye.jsx)("input",{type:"file",placeholder:"Upload Image",name:"imgUrls",onChange:this.onUploadImg})]})}),Object(ye.jsx)("div",{className:"new-stay-img square-ratio",children:n[2]?Object(ye.jsx)("img",{src:n[2],alt:""}):Object(ye.jsxs)("div",{children:[Object(ye.jsx)("div",{className:"upload-img-txt flex align-center",children:Object(ye.jsx)("label",{children:"Upload image"})}),Object(ye.jsx)("input",{type:"file",placeholder:"Upload Image",name:"imgUrls",onChange:this.onUploadImg})]})})]}),Object(ye.jsxs)("div",{className:"add-small-imgs-container flex column space-between",children:[Object(ye.jsx)("div",{className:"new-stay-img square-ratio",children:n[3]?Object(ye.jsx)("img",{src:n[3],alt:""}):Object(ye.jsxs)("div",{children:[Object(ye.jsx)("div",{className:"upload-img-txt flex align-center",children:Object(ye.jsx)("label",{children:"Upload image"})}),Object(ye.jsx)("input",{type:"file",placeholder:"Upload Image",name:"imgUrls",onChange:this.onUploadImg})]})}),Object(ye.jsx)("div",{className:"new-stay-img square-ratio",children:n[4]?Object(ye.jsx)("img",{src:n[4],alt:""}):Object(ye.jsxs)("div",{children:[Object(ye.jsx)("div",{className:"upload-img-txt flex align-center",children:Object(ye.jsx)("label",{children:"Upload image"})}),Object(ye.jsx)("input",{type:"file",placeholder:"Upload Image",name:"imgUrls",onChange:this.onUploadImg})]})})]})]})}),Object(ye.jsxs)("section",{className:"add-stay-details-container flex space-between",children:[Object(ye.jsxs)("div",{className:"add-form-line flex align-center",children:[Object(ye.jsx)("label",{className:"add-line",children:"Capacity"}),Object(ye.jsx)(Wn.a,{required:!0,type:"number",value:c,name:"capacity",placeholder:"Capacity...",onChange:this.handleChange})]}),Object(ye.jsxs)("div",{className:"add-form-line flex align-center",children:[Object(ye.jsx)("label",{className:"add-line",children:"What is your asset space?"}),Object(ye.jsx)(Yn.a,{required:!0,placeholder:"Space type",onChange:this.handleSelectChange,name:"assetSpace",className:"add-stay-select",value:s,options:[{name:"assetSpace",value:"An Entire place",label:"An Entire place"},{name:"assetSpace",value:"A Private room",label:"A Private room"},{name:"assetSpace",value:"A Shared room",label:"A Shared room"}]})]}),Object(ye.jsxs)("div",{className:"add-form-line flex align-center",children:[Object(ye.jsx)("label",{className:"add-line",children:"What is your asset type?"}),Object(ye.jsx)(Yn.a,{required:!0,placeholder:"Asset type",onChange:this.handleSelectChange,name:"assetType",className:"add-stay-select",value:i,options:[{name:"assetType",value:"Duplex",label:"Duplex"},{name:"assetType",value:"Villa",label:"Villa"},{name:"assetType",value:"Loft",label:"Loft"},{name:"assetType",value:"Farm",label:"Farm"},{name:"assetType",value:"Cabin",label:"Cabin"}]})]})]}),Object(ye.jsx)("section",{className:"add-stay-summary",children:Object(ye.jsxs)("div",{className:"add-desc-line flex column",children:[Object(ye.jsx)("label",{className:"add-line",children:"Describe your asset"}),Object(ye.jsx)(bn.a,{required:!0,style:{margin:"20px 0",padding:"20px",width:"100%",height:" 150px",resize:"none",borderRadius:"13px",borderColor:" #bdbcbc",fontFamily:"circular-book",fontSize:"1rem"},value:r,placeholder:"Describe your asset...",className:"asset-desc-input",onChange:this.handleChange,name:"summary",autoComplete:"off"})]})}),Object(ye.jsx)("section",{className:"add-amenities-container flex align-center",children:Object(ye.jsx)("ul",{className:"amenities-list flex column align-center",children:l.map((function(t,n){if(n<=31)return Object(ye.jsxs)("li",{className:"add-amenities-line flex align-center",onClick:function(){return e.handleAmenityChange(t.name)},children:[Object(ye.jsx)("label",{variant:"h5",children:t.name}),Object(ye.jsx)("input",{type:"checkbox",checked:t.isChecked})]},n)}))})}),Object(ye.jsx)("section",{className:"add-stay-btn-container flex",children:Object(ye.jsxs)("div",{className:"checkout-btn-container ",onClick:this.onAddsStay,children:[this.getBtnDivs(),Object(ye.jsx)("div",{className:"content",children:Object(ye.jsxs)("button",{className:"checkout-btn",children:[Object(ye.jsx)("span",{children:"Add stay"})," "]})})]})})]})})}):Object(ye.jsx)("div",{children:"Loading"})}}]),n}(s.a.Component);var $n={onAddStay:be},Qn=Object(ne.f)(Object(o.b)((function(e){return{user:e.userModule.user,stays:e.stayModule.stays}}),$n)(Jn)),Zn=n(142),Xn=n.n(Zn),ea=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(Z.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).getData=function(){var t,n=e.props,a=n.stays,s=n.orders,i=[];if(a)return a.forEach((function(n){t={stayName:n.name,address:n.loc.address,price:"$".concat(n.price),reviews:Object(ye.jsxs)("div",{className:"host-stays-reviews flex align-center",children:[Object(ye.jsx)("p",{className:"checkout-star",children:Object(ye.jsx)(Xe.w,{size:13,color:"#FF5A5F"})}),Object(ye.jsx)("p",{children:n.reviewsAvg}),Object(ye.jsxs)("p",{children:["(",n.reviews.length," reviews)"]})]}),orders:s.filter((function(e){return e.stay._id===n._id})).length,link:Object(ye.jsxs)("div",{className:"flex align-center",children:[Object(ye.jsx)("button",{className:"remove-stay-btn",onClick:function(){return e.onRemoveStay(n._id)},children:"Remove stay"}),Object(ye.jsx)(r.c,{className:"stay-link",to:"/stay/".concat(n._id),children:"Go to stay"})]})},i.unshift(t),t=null})),i},e.onRemoveStay=function(t){e.props.onRemoveStay(t)},e}return Object(X.a)(n,[{key:"render",value:function(){return Object(ye.jsx)("div",{className:"notifications-page-container",children:Object(ye.jsx)("section",{className:"notifications-container",children:Object(ye.jsx)(Xn.a,{title:"Your orders",data:this.getData(),columns:[{name:"stayName",label:"Name",options:{filter:!0,sort:!0}},{name:"address",label:"Address",options:{filter:!0,sort:!0}},{name:"price",label:"Price",options:{filter:!0,sort:!0}},{name:"reviews",label:"Reviews",options:{filter:!0,sort:!0}},{name:"orders",label:"Total orders"},{name:"link",label:" "}],options:{filter:!0,filterType:"dropdown"}})})})}}]),n}(a.Component);var ta={onRemoveStay:je},na=Object(o.b)((function(e){return{user:e.userModule.user,orders:e.orderModule.orders,stays:e.stayModule.stays}}),ta)(ea),aa=n(446),sa=n.n(aa),ia=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(Z.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={user:null,orders:null},e.getTime=function(e){var t=new Date(1e3*e),n="0"+t.getDate(),a="0"+(t.getMonth()+1),s="0"+t.getFullYear();return n.substr(-2)+"."+a.substr(-2)+"."+s.substr(-2)},e.getData=function(){var t,n=e.props.orders,a=[];if(n)return n.forEach((function(n){t={stayName:n.stay.name,buyerName:n.buyer.fullname,buyerImg:Object(ye.jsxs)("div",{className:"user-order-img-container flex align-center",children:[Object(ye.jsx)("img",{src:n.buyer.imgUrl,alt:""}),Object(ye.jsx)("p",{children:n.buyer.fullname})]}),price:"$".concat(n.totalPrice),status:"".concat(n.status.charAt(0).toUpperCase()).concat(n.status.substr(1)),checkIn:e.getTime(n.startDate),checkOut:e.getTime(n.endDate),approveBtn:Object(ye.jsxs)("div",{className:"host-action-btns flex",children:["pending"===n.status&&Object(ye.jsx)("button",{className:"approve-order-btn",onClick:function(){e.onApproveOrder(n._id)},children:"Approve"}),Object(ye.jsx)("button",{className:"approve-order-btn",onClick:function(){"declined"===n.status?e.onRemoveOrder(n._id):e.onDeclinelOrder(n._id)},children:"pending"===n.status?"Decline":"approved"===n.status?"Cancel":"Remove"})]})},a.unshift(t),t=null})),a},e.getTotalRate=function(e){var t=0;return e.forEach((function(e){t+=e.stay.reviewsAvg})),t/=e.length},e.getTotalPrice=function(e){var t=0;return e.forEach((function(e){t+=+e.totalPrice})),t},e.onApproveOrder=function(t){var n=e.props.orders.filter((function(e){return e._id===t}));n[0].status="approved",e.props.onUpdateOrder(n[0])},e.onDeclinelOrder=function(t){var n=e.props.orders.filter((function(e){return e._id===t}));n[0].status="declined",e.props.onUpdateOrder(n)},e.onRemoveOrder=function(t){e.props.onRemoveOrder(t)},e.getOrdersStatus=function(t){return e.props.orders.filter((function(e){return e.status===t})).length},e}return Object(X.a)(n,[{key:"componentDidMount",value:function(){window.scrollTo(0,0);var e=this.props,t=e.user,n=e.orders;this.setState({orders:n}),t&&this.props.loadUser(t._id)}},{key:"render",value:function(){var e=this.props.orders;return Object(ye.jsxs)("main",{className:"notifications-page-container  ",children:[Object(ye.jsxs)("section",{className:"dashboard-header-container flex",children:[Object(ye.jsxs)("div",{className:"total-rate-container flex column space-between",children:[Object(ye.jsx)("div",{children:Object(ye.jsx)("p",{className:"dashboard-label",children:"Total Rate"})}),Object(ye.jsxs)("div",{className:"dashboard-value flex space-between align-center ",children:[Object(ye.jsxs)("div",{className:"flex  align-center ",children:[Object(ye.jsx)("p",{className:"checkout-star",children:Object(ye.jsx)(Xe.w,{size:13,color:"#FF5A5F"})}),Object(ye.jsx)("p",{className:"dash-avg-score",children:this.getTotalRate(e)?this.getTotalRate(e).toFixed(1):0})]}),Object(ye.jsxs)("div",{className:"dash-stats-arrow-container flex",children:[Object(ye.jsx)("p",{children:Object(ye.jsx)(sa.a,{className:"stat-arrow ".concat(Math.random()>=.5?"down":"up")})}),Object(ye.jsxs)("p",{className:"dash-review-stat",children:[Math.floor(7*Math.random())+1,"%"]})]})]})]}),Object(ye.jsxs)("div",{className:"dash-earning-container flex column space-between",children:[Object(ye.jsx)("div",{children:Object(ye.jsx)("p",{className:"dashboard-label",children:"Monthly earnings"})}),Object(ye.jsx)("div",{className:"dashboard-value",children:Object(ye.jsx)("p",{className:"dash-avg-earning",children:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(this.getTotalPrice(e))})})]}),Object(ye.jsxs)("div",{className:"dash-earning-container flex column space-between",children:[Object(ye.jsx)("div",{children:Object(ye.jsx)("p",{className:"dashboard-label",children:"Orders"})}),Object(ye.jsxs)("div",{className:"orders-sec-dash flex ",children:[Object(ye.jsxs)("div",{className:"dashboard-value flex align-center",children:[Object(ye.jsx)("div",{className:"dash-orders-circle approved"}),Object(ye.jsxs)("p",{className:"dash-avg-order",children:[this.getOrdersStatus("approved"),"/",e.length]})]}),Object(ye.jsxs)("div",{className:"dashboard-value flex align-center",children:[Object(ye.jsx)("div",{className:"dash-orders-circle pending"}),Object(ye.jsxs)("p",{className:"dash-avg-order",children:[this.getOrdersStatus("pending"),"/",e.length]})]}),Object(ye.jsxs)("div",{className:"dashboard-value flex align-center",children:[Object(ye.jsx)("div",{className:"dash-orders-circle declined"}),Object(ye.jsxs)("p",{className:"dash-avg-order",children:[this.getOrdersStatus("declined"),"/",e.length]})]})]})]})]}),Object(ye.jsx)("section",{className:"notifications-container",children:Object(ye.jsx)(Xn.a,{title:"Your orders",data:this.getData(),columns:[{name:"buyerImg",label:"Name"},{name:"stayName",label:"Address",options:{filter:!0,sort:!0}},{name:"checkIn",label:"Check in",options:{filter:!0,sort:!0}},{name:"checkOut",label:"Check out",options:{filter:!0,sort:!0}},{name:"price",label:"Price",options:{filter:!0,sort:!0}},{name:"status",label:"Status",options:{filter:!0,sort:!0}},{name:"approveBtn",label:"Actions"}],options:{filter:!0,filterType:"dropdown"}})})]})}}]),n}(a.Component);var ca={loadUser:nt,onUpdateOrder:en,onRemoveOrder:Xt},ra=Object(o.b)((function(e){return{user:e.userModule.user}}),ca)(ia),oa=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(Z.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={user:null,orders:[],stays:[],selectedTab:"orders"},e.onClearFilter=function(){var t=e.props.filterBy;t.hostId="",e.props.setFilter(t)},e.onGetHostStays=function(){var t=e.props.filterBy;t.hostId=e.props.user._id,e.props.setFilter(t)},e.onChangeTab=function(t,n){e.setState({selectedTab:n})},e}return Object(X.a)(n,[{key:"componentDidMount",value:function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.scrollTo(0,0),t=this.props.user,this.onGetHostStays(),!t){e.next=15;break}return e.prev=4,e.next=7,this.props.loadOrders(t._id,"host");case 7:return e.next=9,this.props.loadStays(this.props.filterBy);case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(4);case 13:e.next=16;break;case 15:this.props.history.push("/");case 16:case"end":return e.stop()}}),e,this,[[4,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.onClearFilter()}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.orders,a=e.stays,s=this.state.selectedTab;return Object(ye.jsx)("main",{className:"host-page-container main-container",children:Object(ye.jsxs)("div",{children:[Object(ye.jsx)("section",{className:"host-tabs-container",children:Object(ye.jsxs)(Bn.a,{value:s,onChange:this.onChangeTab,textColor:"secondary",indicatorColor:"secondary","aria-label":"secondary tabs example",children:[Object(ye.jsx)(qn.a,{value:"orders",label:n?"Orders (".concat(n.length,")"):"Orders"}),Object(ye.jsx)(qn.a,{value:"my-stays",label:"My stays"}),Object(ye.jsx)(qn.a,{value:"add-stay",label:"Add a stay"})]})}),t&&Object(ye.jsxs)("section",{className:"host-container",children:["orders"===s&&Object(ye.jsx)("div",{children:Object(ye.jsx)("div",{className:"orders-container",children:Object(ye.jsx)(ra,{orders:n})})}),"my-stays"===s&&Object(ye.jsx)("div",{className:"orders-container",children:a&&Object(ye.jsx)(na,{orders:n,stays:a})}),"add-stay"===s&&Object(ye.jsx)("div",{children:Object(ye.jsx)(Qn,{})})]})]})})}}]),n}(s.a.Component);var la={loadUser:nt,loadOrders:Zt,loadStays:me,setFilter:fe},da=Object(o.b)((function(e){return{user:e.userModule.user,orders:e.orderModule.orders,stays:e.stayModule.stays,filterBy:e.stayModule.filterBy}}),la)(oa),ua=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(Z.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).onBecomeHost=function(){if(e.props.user){console.log("loloa");var t=e.props.user._id;e.props.onBecomeHost(t),e.props.history.push("/host")}else e.props.history.push("/")},e.getBtnDivs=function(){for(var e=[],t=0;t<100;t++)e.push(Object(ye.jsx)("div",{className:"cell"},t+1));return e},e}return Object(X.a)(n,[{key:"render",value:function(){var e=this;return Object(ye.jsxs)("section",{className:"be-host-container",children:[Object(ye.jsxs)("div",{className:"be-host-left-container flex column ",children:[Object(ye.jsx)("div",{className:"be-host-logo flex align-center",onClick:function(){e.props.history.push("/")},children:Object(ye.jsx)(Xe.b,{color:"#fff",size:40})}),Object(ye.jsxs)("div",{className:"be-host-txt-container flex column align-center",children:[Object(ye.jsx)("div",{children:Object(ye.jsx)("h1",{children:"Hosting"})}),Object(ye.jsx)("div",{children:Object(ye.jsx)("h1",{children:"makes AnyGo,"})}),Object(ye.jsx)("div",{children:Object(ye.jsx)("h1",{children:"AnyGo"})})]}),Object(ye.jsx)("section",{className:"be-host-btn-container flex align-center",children:Object(ye.jsxs)("div",{className:"checkout-btn-container ",onClick:this.onBecomeHost,children:[this.getBtnDivs(),Object(ye.jsx)("div",{className:"content",children:Object(ye.jsx)("button",{className:"checkout-btn",children:"Try hosting"})})]})})]}),Object(ye.jsx)("div",{className:"be-host-img-container",children:Object(ye.jsx)("img",{src:"https://res.cloudinary.com/dkbfdybze/image/upload/v1633436197/become-host_ufwcx6.jpg",alt:""})})]})}}]),n}(s.a.Component);var pa={onBecomeHost:function(e){return function(){var t=Object(b.a)(j.a.mark((function t(n,a){var s,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.getById(e);case 3:return(s=t.sent).isHost=!0,t.next=7,E.update(s);case 7:i=t.sent,n({type:"UPDATE_USER",user:i}),t.next=13;break;case 11:t.prev=11,t.t0=t.catch(0);case 13:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()},loadUser:nt},ha=Object(o.b)((function(e){return{user:e.userModule.user,stays:e.stayModule.stays}}),pa)(ua),ma=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(Z.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={user:null},e.getTime=function(e){var t=new Date(e),n="0"+t.getDate(),a="0"+(t.getMonth()+1),s="0"+t.getFullYear();return n.substr(-2)+"."+a.substr(-2)+"."+s.substr(-2)},e.getData=function(){var t,n=e.props.user.notifications,a=[];if(n)return n.forEach((function(n){t=Object(p.a)(Object(p.a)({},n),{},{byUserImg:Object(ye.jsxs)("div",{className:"user-order-img-container flex align-center",children:[Object(ye.jsx)("img",{src:n.byUserImg,alt:""}),Object(ye.jsx)("p",{children:n.byUser})]}),createdAt:e.getTime(n.createdAt)}),a.unshift(t),t=null})),a},e}return Object(X.a)(n,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"componentWillUnmount",value:function(){var e=Object(b.a)(j.a.mark((function e(){var t,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(n=this.props.user)||void 0===n||null===(t=n.notifications)||void 0===t?void 0:t.length)){e.next=5;break}return a=n.notifications.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{isRead:!0})})),e.next=5,this.props.updateUser(Object(p.a)(Object(p.a)({},n),{},{notifications:a}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.user;return Object(ye.jsx)("main",{className:"notifications-page-container  main-container",children:Object(ye.jsxs)("section",{className:"page-padding",children:[Object(ye.jsx)("div",{className:"notifications-title-container",children:Object(ye.jsx)("h1",{children:"Notifications"})}),e&&Object(ye.jsx)("section",{className:"notifications-container",children:Object(ye.jsx)(Xn.a,{title:"Notifications list",data:this.getData(),columns:[{name:"byUserImg",label:"Name",options:{filter:!0,sort:!0}},{name:"notifTxt",label:"Notification",options:{filter:!0,sort:!0}},{name:"createdAt",label:"Time",options:{filter:!0,sort:!0}}],options:{filter:!0,filterType:"dropdown"}})})]})})}}]),n}(a.Component);var ja={updateUser:st,loadUser:nt},ba=Object(o.b)((function(e){return{user:e.userModule.user}}),ja)(ma),fa=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(Z.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={userSavedStays:[]},e.loadUserStays=function(){var t=e.props,n=t.stays,a=t.user,s=[];a.mySaves.map((function(e){n.forEach((function(t){t._id===e&&s.push(t)}))})),e.setState({userSavedStays:s},(function(){console.log(e.state)}))},e}return Object(X.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.user;console.log(e),e&&this.loadUserStays()}},{key:"render",value:function(){var e=this.state.userSavedStays;return Object(ye.jsx)("main",{className:"wishlist-page-container page-padding main-container",children:Object(ye.jsxs)("div",{className:"wishlist-page",children:[Object(ye.jsx)("h1",{children:"Wishlist"}),e.length?Object(ye.jsx)(vt,{stays:e,history:this.props.history}):Object(ye.jsx)("div",{children:Object(ye.jsx)("h4",{children:"There are no saved stays yet..."})})]})})}}]),n}(a.Component);var va={loadStays:me},ga=Object(o.b)((function(e){return{stays:e.stayModule.stays,filterBy:e.stayModule.filterBy,user:e.userModule.user}}),va)(fa),ya=function(e){var t=e.btnAction,n=e.btnInnerTxt,a=void 0===n?"":n;return Object(ye.jsxs)("div",{className:"btn-container",onClick:function(){t()},children:[function(){for(var e=[],t=0;t<100;t++)e.push(Object(ye.jsx)("div",{className:"cell"},t+1));return e}(),Object(ye.jsx)("div",{className:"content",children:Object(ye.jsxs)("button",{className:"btn",children:[Object(ye.jsx)("span",{children:a})," "]})})]})},Oa=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(Z.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={user:null,editedUser:{username:"",fullname:"",imgUrl:"",email:""},isEditMode:!1,isImgModalOpen:!1},e.onToggleEditMode=function(){var t=e.props.user,n=e.state.isEditMode;console.log(t),e.setState({isEditMode:!n},(function(){n?e.setState({editedUser:{username:"",fullname:"",imgUrl:"",email:""}}):e.setState({editedUser:t})}))},e.onToggleImgModal=function(){var t=e.state.isImgModalOpen;e.setState({isImgModalOpen:!t})},e.onDeleteImg=function(){e.onToggleImgModal(),e.setState((function(e){return{editedUser:Object(p.a)(Object(p.a)({},e.editedUser),{},{imgUrl:""})}}))},e.handleChange=function(t){var n=t.target,a=n.name,s=n.value;e.setState((function(e){return{editedUser:Object(p.a)(Object(p.a)({},e.editedUser),{},Object(Ie.a)({},a,s))}}))},e.onUploadImg=function(t){var n="https://api.cloudinary.com/v1_1/".concat("dkbfdybze","/image/upload"),a=t.target.files[0],s=new FormData;return s.append("file",a),s.append("upload_preset","ewa9mksh"),fetch(n,{method:"POST",body:s}).then((function(e){return e.json()})).then((function(t){var n=t.url;e.setState((function(e){return{editedUser:Object(p.a)(Object(p.a)({},e.editedUser),{},{imgUrl:n})}}))})).catch((function(e){return console.error(e)}))},e.onSaveUser=function(){var t=e.state.editedUser;e.onToggleEditMode(),e.props.updateUser(t)},e}return Object(X.a)(n,[{key:"componentDidMount",value:function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.scrollTo(0,0),!(t=this.props.user)){e.next=13;break}return e.prev=3,e.next=6,this.props.loadUser(t._id);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.log("Had Issues",e.t0);case 11:e.next=14;break;case 13:this.props.history.push("/");case 14:case"end":return e.stop()}}),e,this,[[3,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t){var n=this.props.user;e.user!==n&&(n||this.props.history.push("/"))}},{key:"render",value:function(){var e=this.props.user,t=this.state,n=t.isEditMode,a=t.editedUser,s=t.isImgModalOpen,i=a.username,c=a.fullname,r=a.imgUrl,o=a.email;return Object(ye.jsxs)("main",{className:"profile-page-container main-container",children:[s&&Object(ye.jsx)("div",{className:"profile-screen",onClick:this.onToggleImgModal}),Object(ye.jsxs)("div",{className:"page-padding",children:[Object(ye.jsx)("h1",{children:"Profile"}),Object(ye.jsx)("section",{className:"user-card-container flex align-center justify-center",children:e&&Object(ye.jsxs)("div",{className:"user-card",children:[n?Object(ye.jsx)("div",{className:"profile-pic-wrapper flex justify-center align-center",children:r?Object(ye.jsx)("div",{className:"profile-pic-container flex align-center justify-center",children:Object(ye.jsxs)("div",{className:"profile-img-container ",children:[Object(ye.jsx)("img",{src:n?r:e.imgUrl,alt:""}),Object(ye.jsx)("div",{className:"edit-pencil-container",children:Object(ye.jsx)("div",{className:"edit-pencil flex justify-center align-center",onClick:this.onToggleImgModal,children:Object(ye.jsx)(Xe.q,{})})})]})}):Object(ye.jsxs)("div",{className:"profile-img-container",children:[Object(ye.jsx)("div",{className:"user-icon flex align-center justify-center",children:Object(ye.jsx)(Xe.z,{})}),Object(ye.jsxs)("div",{className:"edit-pencil-container",children:[Object(ye.jsx)("div",{className:"edit-pencil flex justify-center align-center",children:Object(ye.jsx)(Xe.q,{})}),Object(ye.jsx)("input",{type:"file",className:"profile-pic-uploader",value:r,onChange:this.onUploadImg})]})]})}):Object(ye.jsx)("div",{className:"profile-pic-wrapper flex justify-center align-center",children:e.imgUrl?Object(ye.jsx)("div",{className:"profile-pic-container flex align-center justify-center",children:Object(ye.jsx)("div",{className:"profile-img-container ",children:Object(ye.jsx)("img",{src:n?r:e.imgUrl,alt:""})})}):Object(ye.jsx)("div",{className:"profile-img-container",children:Object(ye.jsx)("div",{className:"user-icon flex align-center justify-center",children:Object(ye.jsx)(Xe.z,{})})})}),Object(ye.jsxs)("div",{className:"user-details-container flex column",children:[Object(ye.jsxs)("div",{className:"full-name-container",children:[Object(ye.jsx)("div",{className:"user-details-line title-line",children:Object(ye.jsx)("h4",{children:"Full name"})}),Object(ye.jsx)("div",{className:"user-details-line",children:n?Object(ye.jsx)(Wn.a,{name:"fullname",value:c,onChange:this.handleChange,required:!0}):Object(ye.jsx)("p",{children:e.fullname})})]}),Object(ye.jsxs)("div",{className:"user-name-container",children:[Object(ye.jsx)("div",{className:"user-details-line title-line",children:Object(ye.jsx)("h4",{children:"User name"})}),Object(ye.jsx)("div",{className:"user-details-line",children:n?Object(ye.jsx)(Wn.a,{name:"username",value:i,onChange:this.handleChange,required:!0}):Object(ye.jsx)("p",{children:e.username})})]}),Object(ye.jsxs)("div",{className:"user-mail-container",children:[Object(ye.jsx)("div",{className:"user-details-line title-line",children:Object(ye.jsx)("h4",{children:"Email"})}),Object(ye.jsx)("div",{className:"user-details-line",children:n?Object(ye.jsx)(Wn.a,{name:"email",value:o,onChange:this.handleChange,required:!0}):Object(ye.jsx)("p",{children:e.email})})]})]}),Object(ye.jsx)("div",{className:"edit-user-btn-container flex justify-center align-center",children:n?Object(ye.jsxs)("div",{className:"edit-btns-container flex align-center justify-center",children:[Object(ye.jsx)("button",{className:"user-edit-btn cancel",onClick:this.onToggleEditMode,children:"Cancel"}),Object(ye.jsx)("button",{className:"user-edit-btn save",onClick:this.onSaveUser,children:"Save"})]}):Object(ye.jsx)(ya,{btnAction:this.onToggleEditMode,btnInnerTxt:"Edit User"})}),s&&Object(ye.jsx)("div",{className:"pic-edit-popup-container",children:Object(ye.jsxs)("div",{className:"pic-edit-popup flex column justify-center",children:[Object(ye.jsx)("div",{className:"pic-popup-line",onClick:this.onDeleteImg,children:Object(ye.jsx)("p",{children:"Delete photo"})}),Object(ye.jsxs)("div",{className:"pic-popup-line",children:[Object(ye.jsx)("div",{children:Object(ye.jsx)("p",{children:"Upload new photo"})}),Object(ye.jsx)("input",{type:"file",onClick:this.onToggleImgModal,onChange:this.onUploadImg})]})]})})]})})]})]})}}]),n}(s.a.Component);var xa={loadUser:nt,updateUser:st},wa=[{path:"/",component:ke},{path:"/explore/",component:Ut},{path:"/stay/:stayId",component:Nn},{path:"/trips",component:Fn},{path:"/host",component:da},{path:"/login",component:An},{path:"/login-dev",component:Tn},{path:"/become-a-host",component:ha},{path:"/about",component:Ae},{path:"/profile",component:Object(o.b)((function(e){return{user:e.userModule.user}}),xa)(Oa)},{path:"/wishlist",component:ga},{path:"/notifications",component:ba},{path:"/admin",component:Rt}],ka=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){return Object(Z.a)(this,n),t.apply(this,arguments)}return Object(X.a)(n,[{key:"render",value:function(){var e=this.props,t=e.adultNumber,n=e.kidsNumber,a=e.infantsNumber,s=e.onSelectAmount;return Object(ye.jsxs)("div",{className:"guest-modal flex column",children:[Object(ye.jsxs)("div",{className:"guest-card flex space-between  align-center",children:[Object(ye.jsxs)("div",{className:"column",children:[Object(ye.jsx)("p",{className:"guest-type",children:"Adults"}),Object(ye.jsx)("p",{className:"guest-desc",children:"Ages 13 or above"})]}),Object(ye.jsxs)("div",{className:"guest-amount",children:[Object(ye.jsx)("p",{className:t?"guest-btn":"guest-btn zero",onClick:function(){return s("adultNumber",-1)},children:Object(ye.jsx)(Xe.o,{})}),Object(ye.jsx)("p",{className:"guest-amount-count",children:t||0}),Object(ye.jsx)("p",{className:"guest-btn ",onClick:function(){return s("adultNumber",1)},children:Object(ye.jsx)(Xe.r,{})})]})]}),Object(ye.jsxs)("div",{className:"guest-card flex space-between align-center",children:[Object(ye.jsxs)("div",{className:"column",children:[Object(ye.jsx)("p",{className:"guest-type",children:"Children"}),Object(ye.jsx)("p",{className:"guest-desc",children:"Ages 2-12"})]}),Object(ye.jsxs)("div",{className:"guest-amount",children:[Object(ye.jsx)("p",{className:n?"guest-btn":"guest-btn zero",onClick:function(){return s("kidsNumber",-1)},children:Object(ye.jsx)(Xe.o,{})}),Object(ye.jsx)("p",{className:"guest-amount-count",children:n||0}),Object(ye.jsx)("p",{className:"guest-btn ",onClick:function(){return s("kidsNumber",1)},children:Object(ye.jsx)(Xe.r,{})})]})]}),Object(ye.jsxs)("div",{className:"guest-card flex space-between  align-center",children:[Object(ye.jsxs)("div",{className:"column",children:[Object(ye.jsx)("p",{className:"guest-type",children:"Infants"}),Object(ye.jsx)("p",{className:"guest-desc",children:"Under 2"})]}),Object(ye.jsxs)("div",{className:"guest-amount ",children:[Object(ye.jsx)("p",{className:a?"guest-btn":"guest-btn zero",onClick:function(){return s("infantsNumber",-1)},children:Object(ye.jsx)(Xe.o,{})}),Object(ye.jsx)("p",{className:"guest-amount-count",children:a||0}),Object(ye.jsx)("p",{className:"guest-btn",onClick:function(){return s("infantsNumber",1)},children:Object(ye.jsx)(Xe.r,{})})]})]})]})}}]),n}(s.a.Component),Na=[{city:"Porto",country:"Portugal",imgUrl:"https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-1_avfpxl.png"},{city:"Barcelona",country:"Spain",imgUrl:"https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-2_qchnx7.png"},{city:"Tel Aviv",country:"Israel",imgUrl:"https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521280/location%20previews/location-preview-3_fndewl.png"},{city:"Paris",country:"France",imgUrl:"https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-4_nqshaa.jpg"},{city:"London",country:"United Kingdom",imgUrl:"https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-5_pbuhtd.jpg"},{city:"New York",country:"United States",imgUrl:"https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-6_kynrq5.png"},{city:"Amsterdam",country:"Netherlands",imgUrl:"https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521278/location%20previews/location-preview-7_unmsuc.jpg"},{city:"Rome",country:"Italy",imgUrl:"https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-8_yjbewa.png"}];function Sa(e){var t=e.closeAllModals,n=e.onSetLocationPopUp;function a(){return(a=Object(b.a)(j.a.mark((function e(a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(),n(a);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(ye.jsx)("div",{className:"location-modal flex column",children:Na.map((function(e,t){return Object(ye.jsxs)("div",{className:"location-card flex align-center",onClick:function(){!function(e){a.apply(this,arguments)}(e.city)},children:[Object(ye.jsx)("img",{src:e.imgUrl,alt:"location",className:"loc-img"}),Object(ye.jsxs)("div",{className:"flex column",children:[Object(ye.jsx)("p",{className:"location-city",children:e.city}),Object(ye.jsx)("p",{className:"location-country",children:e.country})]})]},t)}))})}var Ca=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(Z.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={startDate:null,endDate:null,location:"",adultNumber:0,kidsNumber:0,infantsNumber:0,capacity:0,amenities:"",assetType:"",uniqueStay:"",guestModal:!1,datesModal:!1,hostId:""},e.onGetQueryParams=function(){var t=new URLSearchParams(e.props.location.search);return{location:t.get("location")||"",startDate:t.get("startDate")||null,endDate:t.get("endDate")||null,adultNumber:+t.get("adults")||1,kidsNumber:+t.get("kids")||0,infantsNumber:+t.get("infants")||0,capacity:0,amenities:"",assetType:"",uniqueStay:"",guestModal:!1,datesModal:!1,hostId:""}},e.handleChange=function(t){var n=t.target.value,a=e.capitalizeArray(n);e.setState({location:a},(function(){e.props.setFilter(e.state)}))},e.capitalizeArray=function(t){for(var n=t.split(" "),a=0;a<n.length;a++){var s="";s=n[a],s=e.capitalize(s),n[a]=s}return n=n.join(" ")},e.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()},e.onSelectDates=function(t){var n=t.startDate,a=t.endDate;e.setState({startDate:n,endDate:a},(function(){e.props.setFilter(e.state)}))},e.onSelectAmount=function(t,n){switch(t){case"adultNumber":e.state.adultNumber+n>=0&&e.setState({adultNumber:e.state.adultNumber+n},(function(){e.props.setFilter(e.state)}));break;case"kidsNumber":e.state.kidsNumber+n>=0&&e.setState({kidsNumber:e.state.kidsNumber+n},(function(){e.props.setFilter(e.state)}));break;case"infantsNumber":e.state.infantsNumber+n>=0&&e.setState({infantsNumber:e.state.infantsNumber+n},(function(){e.props.setFilter(e.state)}))}},e.onSetFilter=Object(b.a)(j.a.mark((function t(){var n,a,s,i,c,r,o,l;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.setFilter(e.state);case 2:return n=e.state,a=n.location,s=n.startDate,i=n.endDate,c=n.adultNumber,r=n.kidsNumber,o=n.infantsNumber,l="explore/?location=".concat(a,"&startDate=").concat(s,"&endDate=").concat(i,"&adults=").concat(c,"&kids=").concat(r,"&infants=").concat(o),e.props.closeAllModals(),t.next=7,e.props.loadStays(e.props.filterBy);case 7:e.props.history.push(l);case 8:case"end":return t.stop()}}),t)}))),e.onSetLocationPopUp=function(t){e.setState({location:t},(function(){e.onSetFilter()}))},e.timeToShow=function(e,t){var n=Date.parse(e),a=new Date(n),s="0"+a.getDate(),i="0"+(a.getMonth()+1),c="0"+a.getFullYear();return s.substr(-2)+"."+i.substr(-2)+"."+c.substr(-2)},e}return Object(X.a)(n,[{key:"componentDidMount",value:function(){var e=this.onGetQueryParams();this.props.setFilter(e),this.setState(Object(p.a)({},e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.isMiniHeader,a=t.guestModal,s=t.datesModal,i=t.locModal,c=t.onToggleSearchModals,r=t.onToggleMiniSearchBar,o=t.closeAllModals,l=t.filterBy,d=this.state,u=d.location,p=d.adultNumber,h=d.kidsNumber,m=d.infantsNumber,j=d.endDate,b=d.startDate;return Object(ye.jsxs)("div",{children:[Object(ye.jsxs)("div",{className:"search-bar-container flex align-center ",children:[Object(ye.jsx)("button",{className:"go-back-btn",onClick:function(){window.history.back()},children:Object(ye.jsx)(Xe.i,{size:22})}),Object(ye.jsx)("div",{className:"location-container flex column",onClick:function(){c("locModal")},children:Object(ye.jsxs)("label",{htmlFor:"location",className:"loc-inpt",children:["Location",Object(ye.jsx)("input",{type:"text",name:"location",autoComplete:"off",value:u,onChange:this.handleChange,placeholder:"Where are you going?"})]})}),i&&Object(ye.jsx)(Sa,{onSetLocationPopUp:this.onSetLocationPopUp,closeAllModals:o}),Object(ye.jsx)("div",{className:"mini-search-input",onClick:r,children:Object(ye.jsx)("p",{children:l.location?l.location:"Start your search"})}),Object(ye.jsxs)("div",{className:"dates-container flex ",children:[Object(ye.jsx)("div",{className:"check-in-input flex column",children:Object(ye.jsxs)("label",{htmlFor:"",onClick:function(){c("datesModal")},children:["Check in ",Object(ye.jsx)("span",{children:b?this.timeToShow(b,"startDate"):"Add date"})]})}),Object(ye.jsx)("div",{className:"check-out-input flex column",children:Object(ye.jsxs)("label",{htmlFor:"",onClick:function(){c("datesModal")},children:["Check out ",Object(ye.jsx)("span",{children:j?this.timeToShow(j,"startDate"):"Add date"})]})})]}),Object(ye.jsxs)("div",{className:"guests-container",children:[Object(ye.jsx)("div",{className:"guests-label align-center flex",onClick:function(e){c("guestModal")},children:Object(ye.jsxs)("label",{htmlFor:"",className:"flex column",children:[Object(ye.jsx)("span",{children:"Guests"}),Object(ye.jsx)("span",{className:"guest-placeholder",children:"Add guests"})]})}),a&&Object(ye.jsx)(ka,{adultNumber:p,kidsNumber:h,infantsNumber:m,onSelectAmount:this.onSelectAmount})]}),Object(ye.jsxs)("div",{className:"search-btn-container flex align-center justify-center",onClick:function(){e.onSetFilter()},children:[n&&Object(ye.jsx)(Xe.s,{size:13}),!n&&Object(ye.jsx)(Xe.s,{size:20})]})]}),Object(ye.jsx)("div",{className:"search-dates-container ",children:s&&Object(ye.jsx)(nn,{onSelectDates:this.onSelectDates})})]})}}]),n}(s.a.Component),Ta=Object(ne.f)(Ca),Ma=n(447),_a=n.n(Ma),Aa=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(Z.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={isLoginModalOn:!1},e.onLogout=function(){e.props.onLogout(),e.props.onToggleSearchModals("menuModal"),Qt.off("getNotif"),Qt.terminate()},e.onCloseLogin=function(){e.setState({isLoginModalOn:!1}),e.props.onToggleSearchModals("menuModal")},e.onOpenLogin=function(){e.props.history.push("/login"),e.props.onOpenBotLogin(),e.props.onToggleSearchModals("menuModal")},e}return Object(X.a)(n,[{key:"componentDidMount",value:function(){this.props.user&&this.props.loadUser(this.props.user._id)}},{key:"render",value:function(){var e=this,t=this.props.user;return Object(ye.jsxs)("div",{className:"user-menu-container flex column",children:[Object(ye.jsxs)("section",{className:"user-menu top-section ",children:[Object(ye.jsx)("div",{children:t&&Object(ye.jsxs)(r.c,{onClick:function(){return e.props.onToggleSearchModals("menuModal")},className:"user-menu-line flex space-between",to:"/notifications",children:[Object(ye.jsx)("p",{children:"Notifications"}),Object(ye.jsx)("span",{className:t.notifications.length?"user-notifications-icon":"user-notifications-icon hide",children:t.notifications.some((function(e){return!e.isRead}))?Object(ye.jsx)(_a.a,{}):""})]})}),Object(ye.jsxs)("div",{children:[t&&Object(ye.jsx)(r.c,{onClick:function(){return e.props.onToggleSearchModals("menuModal")},className:"user-menu-line",to:"/trips",children:Object(ye.jsx)("p",{children:"Trips"})}),!t&&Object(ye.jsx)("p",{className:"user-menu-line",children:" Trips"})]}),t&&t.isHost&&Object(ye.jsx)("div",{children:Object(ye.jsx)(r.c,{onClick:function(){return e.props.onToggleSearchModals("menuModal")},to:"/host",className:"user-menu-line",children:Object(ye.jsx)("p",{children:"Host"})})}),Object(ye.jsx)("div",{children:t?Object(ye.jsxs)(r.c,{className:"user-menu-line",onClick:function(){return e.props.onToggleSearchModals("menuModal")},to:"/wishlist",children:[" ",Object(ye.jsx)("p",{children:"Wishlist"})," "]}):Object(ye.jsx)("p",{className:"user-menu-line",children:"Wishlist"})}),Object(ye.jsx)("div",{children:t?t.isHost?"":Object(ye.jsx)(r.c,{onClick:function(){return e.props.onToggleSearchModals("menuModal")},className:"user-menu-line",to:"/become-a-host",children:Object(ye.jsx)("p",{children:"Host a expirience"})}):Object(ye.jsx)("p",{className:"user-menu-line",children:"Host a expirience"})})]}),Object(ye.jsxs)("section",{className:"user-menu bottom-section",children:[t&&Object(ye.jsx)(r.c,{className:"user-menu-line",to:"/profile",children:Object(ye.jsx)("p",{children:"Profile"})}),t&&Object(ye.jsx)("div",{className:"user-menu-line",onClick:this.onLogout,children:Object(ye.jsx)("p",{children:"Logout"})}),!t&&Object(ye.jsx)("div",{className:"user-menu-line",onClick:this.onOpenLogin,children:Object(ye.jsx)("p",{children:"Login"})}),!t&&Object(ye.jsx)("div",{className:"user-menu-line",onClick:this.onOpenLogin,children:Object(ye.jsx)("p",{children:"Signup"})})]})]})}}]),n}(s.a.Component);var Ua={onLogout:rt,loadUser:nt},Ia=Object(ne.f)(Object(o.b)((function(e){return{user:e.userModule.user}}),Ua)(Aa)),Da=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(Z.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={isUserMenuOpen:!1,isLoginBotmodal:!1,isScreenOpen:!1,guestModal:!1,datesModal:!1,locModal:!1,isMiniInput:!1,isNotifRead:!1},e.onScrollCloseModals=function(t){t.target.scrollingElement.scrollTop>1&&(e.closeAllModals(),e.setState({isMiniInput:!1}))},e.onOpenBotLogin=function(){e.setState({isLoginBotmodal:!0})},e.onToggleScreen=function(t){e.setState({isScreenOpen:t})},e.onToggleSearchModals=function(t){switch(e.closeAllModals(),t){case"locModal":e.onToggleScreen(!e.state.locModal),e.setState({locModal:!e.state.locModal});break;case"guestModal":e.onToggleScreen(!e.state.guestModal),e.setState({guestModal:!e.state.guestModal});break;case"datesModal":e.onToggleScreen(!e.state.datesModal),e.setState({datesModal:!e.state.datesModal});break;case"menuModal":e.onToggleScreen(!e.state.isUserMenuOpen),e.setState({isUserMenuOpen:!e.state.isUserMenuOpen})}},e.closeAllModals=function(){e.onToggleScreen(!1),e.setState({locModal:!1,guestModal:!1,datesModal:!1,isUserMenuOpen:!1})},e.onToggleMiniSearchBar=function(){e.setState({isMiniInput:!e.state.isMiniInput})},e}return Object(X.a)(n,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),window.addEventListener("scroll",this.onScrollCloseModals)}},{key:"componentDidUpdate",value:function(e,t){e.isMiniHeader===this.props.isMiniHeader||this.props.isMiniHeader||this.closeAllModals()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScrollCloseModals)}},{key:"render",value:function(){var e,t=this,n=this.props,a=n.user,s=n.setFilter,i=n.filterBy,c=n.isMiniHeader,o=this.state,l=o.isUserMenuOpen,d=o.isLoginBotmodal,u=o.isScreenOpen,p=o.locModal,h=o.datesModal,m=o.guestModal,j=o.isMiniInput;return Object(ye.jsxs)("header",{className:j?"app-header-conatiner main-container mini-header-with-input":c?"app-header-conatiner main-container mini-header full":"app-header-conatiner main-container ",children:[Object(ye.jsx)("div",{className:u?"screen screen-open full":"screen full",onClick:function(){t.closeAllModals()}}),Object(ye.jsxs)("nav",{className:"user-header-section flex space-between align-center",children:[Object(ye.jsx)("div",{className:"logo-container flex align-center",children:Object(ye.jsxs)(r.c,{to:"/",className:"logo",children:[Object(ye.jsx)(Xe.b,{size:40,color:c?"#ff5a5f":"#fff"}),Object(ye.jsx)("span",{children:"AnyGo"})]})}),Object(ye.jsx)("div",{className:"search-bar",children:c&&Object(ye.jsx)(Ta,{loadStays:this.props.loadStays,closeAllModals:this.closeAllModals,setFilter:s,isMiniHeader:c,filterBy:i,datesModal:h,guestModal:m,locModal:p,onToggleSearchModals:this.onToggleSearchModals,onToggleMiniSearchBar:this.onToggleMiniSearchBar})}),Object(ye.jsxs)("div",{className:"nav-bar-container flex ",children:[Object(ye.jsx)("div",{className:"flex align-center",children:Object(ye.jsx)(r.c,{to:"/explore/",className:"nav-opt",children:"Explore"})}),Object(ye.jsx)("div",{className:"nav-options flex align-center",children:a&&a.isHost?Object(ye.jsx)(r.c,{to:"/host",className:"nav-opt",children:"Switch to hosting"}):Object(ye.jsx)(r.c,{to:"/become-a-host",className:"nav-opt",children:"Become a host"})}),Object(ye.jsxs)("div",{className:"user-img-container ",onClick:function(){t.onToggleSearchModals("menuModal")},children:[Object(ye.jsxs)("button",{className:"user-btn flex align-center btn-section  ",children:[Object(ye.jsx)(Xe.e,{className:"menu-btn"}),(null===a||void 0===a?void 0:a.imgUrl)?Object(ye.jsx)("div",{className:"user-logo-container",children:Object(ye.jsx)("img",{src:a.imgUrl,alt:""})}):Object(ye.jsx)("div",{className:"user-logo-container",children:Object(ye.jsx)("div",{className:" user-icon flex align-center justify-center",children:Object(ye.jsx)(Xe.z,{})})})]}),(null===a||void 0===a||null===(e=a.notifications)||void 0===e?void 0:e.length)&&a.notifications.some((function(e){return!e.isRead}))?Object(ye.jsx)("div",{className:"notif-icon-container",children:Object(ye.jsx)("div",{className:"notif-icon flex align-center justify-center",children:a.notifications.filter((function(e){return!e.isRead})).length})}):""]}),Object(ye.jsx)("div",{className:"user-menu",children:l&&Object(ye.jsx)(Ia,{onCheckRead:this.onCheckRead,onToggleSearchModals:this.onToggleSearchModals,onOpenBotLogin:this.onOpenBotLogin})})]})]}),!c&&Object(ye.jsx)(Ta,{loadStays:this.props.loadStays,closeAllModals:this.closeAllModals,setFilter:s,isMiniHeader:c,filterBy:i,datesModal:h,guestModal:m,locModal:p,onToggleSearchModals:this.onToggleSearchModals}),d&&Object(ye.jsx)("div",{className:"main-container"})]})}}]),n}(s.a.Component);var Ra={onLogin:it,onSignup:ct,onLogout:rt,loadUsers:tt,removeUser:at,setFilter:fe,setMiniHeader:ve,loadStays:me},Ea=Object(o.b)((function(e){return{users:e.userModule.users,user:e.userModule.user,count:e.userModule.count,isLoading:e.systemModule.isLoading,filterBy:e.stayModule.filterBy,isMiniHeader:e.stayModule.isMiniHeader}}),Ra)(Da);function Pa(e){var t=e.stays;return Object(ye.jsxs)("section",{className:"flex column top-rated-stays ",children:[Object(ye.jsx)("h4",{children:"Top rated stays"}),t.map((function(e){return Object(ye.jsx)("div",{className:"flex column stay-links",children:Object(ye.jsx)(r.b,{to:"/stay/".concat(e._id),children:e.name})},e._id)}))]})}var La={on:function(e,t){var n=function(e){var n=e.detail;t(n)};return window.addEventListener(e,n),function(){window.removeEventListener(e,n)}},emit:function(e,t){window.dispatchEvent(new CustomEvent(e,{detail:t}))}};function Fa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";La.emit("show-user-msg",{txt:e,type:t})}window.myBus=La,window.showUserMsg=Fa;var Ba=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(Z.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={msg:null},e}return Object(X.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.removeEvent=La.on("show-user-msg",(function(t){e.setState({msg:t}),setTimeout((function(){e.setState({msg:null})}),2500)}))}},{key:"componentWillUnmount",value:function(){this.removeEvent()}},{key:"render",value:function(){var e=this;if(!this.state.msg)return Object(ye.jsx)("span",{});var t=this.state.msg.type||"";return Object(ye.jsxs)("section",{className:"user-msg "+t,children:[Object(ye.jsx)("div",{className:"content-msg",children:Object(ye.jsxs)("h3",{children:[" ",this.state.msg.txt]})}),Object(ye.jsx)("div",{className:"close-msg-btn",children:Object(ye.jsx)("button",{onClick:function(){e.setState({msg:null})},children:"x"})})]})}}]),n}(s.a.Component),qa=[{city:"Porto",country:"Portugal"},{city:"Barcelona",country:"Spain"},{city:"Tel Aviv",country:"Israel"},{city:"Paris",country:"France"},{city:"London",country:"United Kingdom"},{city:"New York",country:"United States"},{city:"Amsterdam",country:"Netherlands"},{city:"Rome",country:"Italy"}];function za(e){var t=e.onClickLoc;return Object(ye.jsxs)("div",{className:"flex column footer-locations",children:[Object(ye.jsx)("h4",{children:"Locations"}),qa.map((function(e,n){return Object(ye.jsxs)("p",{onClick:function(){return t(e.city,"location")},children:[e.city,",",e.country]},n)}))]})}function Ha(e){var t=e.stays;return Object(ye.jsxs)("div",{className:"flex column nearby-stays",children:[Object(ye.jsx)("h4",{children:"Nearby"}),t.map((function(e){return Object(ye.jsx)(r.b,{to:"/stay/".concat(e._id),children:e.name},e._id)}))]})}var Wa=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(Z.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={isCartShown:!1,topRatedStays:[],nearbyStays:[],stays:[]},e.filterLocs=function(t){t=(t=t.filter((function(e){return e.loc.address.toLowerCase().includes("paris")}))).slice(0,8),e.setState({nearbyStays:t})},e.removeFromCart=function(t){e.props.removeFromCart(t)},e.checkout=function(){e.props.checkout()},e.onClickLoc=function(t,n){var a=Object(p.a)({},e.props.filterBy);a[n]=t,e.props.setFilter(a),e.props.history.push("/explore")},e}return Object(X.a)(n,[{key:"componentDidMount",value:function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.loadStays(this.props.filterBy);case 2:return this.setState({stays:this.props.stays}),e.next=5,this.props.loadUser();case 5:t=this.state.stays.slice(0,8),this.setState({topRatedStays:t}),this.filterLocs(this.state.stays);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getstaytTotal",value:function(){return this.props.cart.reduce((function(e,t){return e+t.price}),0)}},{key:"render",value:function(){var e=this.props.user;return Object(ye.jsxs)("footer",{className:"app-footer main-container full",children:[Object(ye.jsx)("h2",{children:"Insparation for future getaways"}),Object(ye.jsx)("div",{className:"flex footer-link-headers"}),Object(ye.jsxs)("div",{className:"flex footer-links align-center space-between",children:[Object(ye.jsx)(Pa,{stays:this.state.topRatedStays}),Object(ye.jsx)(za,{locations:this.locations,onClickLoc:this.onClickLoc}),Object(ye.jsx)(Ha,{stays:this.state.nearbyStays})]}),Object(ye.jsxs)("div",{className:"footer-info flex space-between align-center",children:[Object(ye.jsxs)("div",{className:"footer-first flex",children:[Object(ye.jsx)("p",{children:"\xa9 2021 AnyGo ,Inc.,"}),Object(ye.jsx)(r.b,{to:"/login",children:"Login"}),e&&Object(ye.jsx)(r.b,{to:e.isHost?"/host":"/become-a-host",children:e.isHost?" Host page":" Become a host"})]}),Object(ye.jsxs)("div",{className:"footer-second flex",children:[Object(ye.jsx)("p",{children:"$US"}),Object(ye.jsx)("p",{children:"English(US)"})]})]}),Object(ye.jsx)(Ba,{})]})}}]),n}(s.a.Component);var Ga={checkout:function(){return function(){var e=Object(b.a)(j.a.mark((function e(t,n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a=n(),a.stayModule.cart.reduce((function(e,t){return e+t.price}),0),t({type:"CLEAR_CART"})}catch(s){}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},onBookTrip:lt,removeFromCart:function(e){return function(t){t({type:"REMOVE_FROM_CART",carId:e})}},loadStays:me,loadUser:nt,setFilter:fe},Va=Object(ne.f)(Object(o.b)((function(e){return{count:e.userModule.count,cart:e.stayModule.cart,user:e.userModule.user,stays:e.stayModule.stays,filterBy:e.stayModule.filterBy}}),Ga)(Wa)),Ya=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){return Object(Z.a)(this,n),t.apply(this,arguments)}return Object(X.a)(n,[{key:"componentDidMount",value:function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.loadAndWatchUser(this.props.match.params.id);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.user;return Object(ye.jsxs)("section",{className:"user-details",children:[Object(ye.jsx)("h1",{children:"User Details"}),e&&Object(ye.jsxs)("div",{children:[Object(ye.jsx)("h3",{children:e.fullname}),Object(ye.jsx)("pre",{children:JSON.stringify(e,null,2)})]})]})}}]),n}(a.Component),Ka={loadAndWatchUser:function(e){return function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},Ja=Object(o.b)((function(e){return{user:e.userModule.watchedUser}}),Ka)(Ya),$a=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){return Object(Z.a)(this,n),t.apply(this,arguments)}return Object(X.a)(n,[{key:"render",value:function(){return Object(ye.jsxs)("div",{className:"root-cmp",children:[Object(ye.jsx)(Ea,{}),Object(ye.jsx)("main",{children:Object(ye.jsxs)(ne.c,{children:[wa.map((function(e){return Object(ye.jsx)(ne.a,{exact:!0,component:e.component,path:e.path},e.path)})),Object(ye.jsx)(ne.a,{path:"/user/:id",component:Ja})]})}),Object(ye.jsx)(Va,{})]})}}]),n}(s.a.Component);n(916);c.a.render(Object(ye.jsx)(s.a.StrictMode,{children:Object(ye.jsx)(o.a,{store:Q,children:Object(ye.jsx)(r.a,{children:Object(ye.jsx)($a,{})})})}),document.getElementById("root"))}},[[917,1,2]]]);
//# sourceMappingURL=main.62e0ea27.chunk.js.map