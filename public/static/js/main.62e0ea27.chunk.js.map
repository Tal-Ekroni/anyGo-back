{"version":3,"sources":["store/stay.reducer.js","services/async-storage.service.js","services/http.service.js","services/user.service.js","store/user.reducer.js","store/review.reducer.js","store/system.reducer.js","store/order.reducer.js","store/store.js","assets/img/pets-allowed.jpg","assets/img/entire-duplex.jpg","assets/img/large-capacity.jpg","assets/img/unique-stays.jpg","services/stay.service.js","store/stay.actions.js","pages/home-page.jsx","pages/about-us.jsx","services/util.service.js","store/user.actions.js","cmps/preview-slider.jsx","cmps/stay-preview.jsx","cmps/stays-list.jsx","cmps/DynamicModal.jsx","cmps/price-range-slider.jsx","cmps/explore-filter.jsx","assets/img/three-dots.svg","pages/explore.jsx","pages/admin-app.jsx","cmps/stay-details/details-base-info.jsx","cmps/stay-details/details-asset-sum.jsx","cmps/stay-details/details-amenities.jsx","services/order.service.js","services/socket.service.js","store/order.actions.js","cmps/dates-picker2.jsx","cmps/stay-details/_guests-modal.jsx","cmps/stay-details/details-checkout-form.jsx","cmps/_read-more.jsx","cmps/stay-details/reviews-preview.jsx","cmps/stay-details/reviews-list.jsx","cmps/stay-details/stay-map.jsx","cmps/stay-details/add-review.jsx","cmps/stay-details/_reviews-avg.jsx","cmps/amenities-modal.jsx","pages/stay-details.jsx","cmps/login-signup.jsx","pages/login.jsx","assets/svgs/undraw_off_road_-9-oae.svg","cmps/trips-page/trip-preview.jsx","cmps/trips-page/trips-list.jsx","assets/svgs/undraw_navigator_a479.svg","pages/trips-page.jsx","cmps/host-page/add-stay-map.jsx","assets/img/no-img.png","cmps/host-page/add-stay.jsx","cmps/host-page/host-stays-list.jsx","cmps/host-page/dash-board.jsx","pages/host-page.jsx","pages/become-a-host.jsx","pages/notifications.jsx","pages/wishlist.jsx","cmps/AirBnb-Btn.jsx","pages/user-profile.jsx","routes.js","cmps/guests-modal.jsx","cmps/locations-popup.jsx","cmps/search-bar.jsx","cmps/user-menu.jsx","cmps/app-header.jsx","cmps/app-footer/top-rated-stays.jsx","services/event-bus.service.js","cmps/user-msg.jsx","cmps/app-footer/locations-footer.jsx","cmps/app-footer/nearby-stays.jsx","cmps/app-footer.jsx","pages/user-details.jsx","root-cmp.jsx","index.js"],"names":["initialState","stays","bookedTrip","stay","review","lastRemovedStay","isMiniHeader","filterBy","startDate","endDate","location","adultNumber","kidsNumber","infantsNumber","capacity","amenities","assetType","uniqueStay","guestModal","datesModal","hostId","storageService","query","get","entityType","entityId","then","entities","find","entity","_id","post","newEntity","_makeId","push","_save","put","updatedEntity","idx","findIndex","splice","remove","postMany","newEntities","map","gStays","gUsers","users","JSON","parse","localStorage","getItem","regex","RegExp","filter","test","loc","address","split","Promise","resolve","setItem","stringify","length","text","possible","i","charAt","Math","floor","random","BASE_URL","axios","Axios","create","withCredentials","httpService","endpoint","data","ajax","a","method","url","params","res","response","status","sessionStorage","clear","window","assign","STORAGE_KEY_LOGGEDIN_USER","gWatchedUser","userService","login","logout","signup","getLoggedinUser","getUsers","getById","userId","update","user","updatedUser","_saveLocalUser","userCred","isHost","imgUrl","myStays","notifications","mySaves","removeItem","addEventListener","freshUsers","watchedUser","u","count","reviews","isLoading","orders","order","rootReducer","combineReducers","stayModule","cart","state","action","newState","type","stayId","stayState","userModule","systemModule","reviewModule","reviewId","orderModule","lastRemovedOrder","orderId","orderState","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","listeners","stayService","save","subscribe","listener","filterPageStays","filterdStays","isStay","forEach","amenity","includes","placeType","PropertyType","toLowerCase","price","priceRange","UpdatedStay","loadStays","dispatch","onRemoveStay","getState","onAddStay","stayToAdd","savedStay","setFilter","setMiniHeader","onEditStay","stayToSave","updatedStay","console","log","cs","_notifySubscribersStaysChanged","locations","city","country","_HomePage","onSetMiniHeader","ev","target","scrollingElement","scrollTop","props","setHeaderDisplay","innerWidth","removeEventListener","changeCount","diff","onClickLoc","val","newFilter","history","scrollTo","this","className","to","src","alt","onClick","duplex","pet","cap","unique","React","Component","mapDispatchToProps","HomePage","connect","FancyBox","style","float","onClose","children","Contacts","height","backgroundColor","Projects","useState","projs","setProjs","projList","proj","stopPropagation","p","transitionName","transitionEnterTimeout","transitionLeaveTimeout","Date","now","SplitPane","width","setWidth","display","left","flex","right","AboutUs","onTellMeMore","clearInterval","interval","toLocaleString","MyErrorBoundary","error","errorInfo","setState","whiteSpace","toString","componentStack","utilService","makeId","txt","makeLorem","size","words","getRandomIntInclusive","min","max","ceil","delay","ms","setTimeout","toTimestamp","strDate","timeToShow","date","timeStamp","time","day","getDate","month","getMonth","year","getFullYear","substr","getAmenitiesIcons","FastfoodTwoTone","Pool","FireplaceOutlined","Kitchen","icon","LocalLaundryService","Deck","OutdoorGrill","Crib","BeachAccess","Checkroom","KingBed","Bathtub","Balcony","Iron","RoomService","CoffeeMaker","Speaker","SportsEsports","loadUsers","loadUser","removeUser","updateUser","userToSave","onLogin","credentials","onSignup","catch","err","onLogout","onToggleLikedStay","savedStayId","isLiked","saved","savedUser","onBookTrip","trip","host","hostUser","userTrip","id","hostOrder","myTrips","updatedHost","LazyLoad","imgs","dots","infinite","speed","slidesToShow","slidesToScroll","arrows","img","_StayPreview","onToggleLikeStay","isStayLiked","name","baseVal","imgUrls","color","reviewsAvg","demoReviews","StayPreview","StaysList","DynamicModal","styleClass","child","index","AirbnbSlider","styled","Slider","theme","padding","border","boxShadow","marginLeft","marginRight","palette","mode","opacity","undefined","AirbnbThumbComponent","other","PriceRangeSlider","onSetPageFilter","allStaysPriceAvg","value","setValue","Box","sx","toFixed","m","components","Thumb","getAriaLabel","defaultValue","onChange","event","newValue","htmlFor","ExploreFilter","closeAllModals","modals","placeTypeIsOpen","PropertyTypeIsOpen","PriceIsOpen","AmenitiesTypeIsOpen","ameintiesOptions","onToggleModals","isChecked","onSetAmenity","onClearPageFilter","_Explore","isScreenOpen","frontFilter","updatedAmeintiesOpts","prevState","filterType","newStays","onToggleScreen","clearState","calcAllStaysPriceAvg","prompt","modal","staysAvg","reduce","acc","prevProps","loader","Explore","_AdminApp","username","AdminApp","BasicInfo","onToogleLikeStay","isMobilePics","AssetSum","AssetAmenities","orderService","UpdatedOrder","_notifySubscribersOrdersChanged","socketService","socket","setup","io","on","eventName","cb","off","removeAllListeners","emit","terminate","createSocketService","loadOrders","onRemoveOrder","onUpdateOrder","updatedOrder","DatesPicker2","handleSelect","selection","onSelectDates","toTimeStamp","selectionRange","key","classNames","rangeColors","ranges","GuestsCheckoutModal","onSelectGuests","toggleGuestsModal","guests","adults","kids","infants","_CheckoutForm","isGuestPopupOn","isCheckoutToReserve","isStayReserved","isReqModalOpen","toggleDatesModal","getTripPrice","start","totalNights","totalPrice","calcGuestNum","fullname","buyer","onAddOrder","onCloseModal","getMouseCord","getBtnDivs","divStr","datesModalPos","handleChange","getBoundingClientRect","bottom","orderToAdd","notif","byUser","fullName","createdAt","isRead","savedOrder","CheckoutForm","ReadMore","onToogleReadModal","CloseRounded","ReviewsPreview","isReadMoreOn","by","substring","_ReviewsList","slice","ReviewsList","_StayMap","center","lat","lng","onMapClicked","latLng","onMarkerClicked","isInfoWindowOn","onInfoWindowClose","containerStyle","position","margin","google","zoom","initialCenter","visible","StayMap","GoogleApiWrapper","apiKey","_AddReview","newReview","cleanliness","communication","checkIn","accuracy","onRemove","removeReview","clearReview","field","changeRating","score","formSubmited","preventDefault","onSubmit","initialRating","fullSymbol","emptySymbol","TextareaAutosize","resize","borderRadius","borderColor","fontFamily","fontSize","placeholder","autoComplete","AddReview","ReviewAvg","totalAvg","getAvrage","avgScore","getTotalAvg","totalReviewAvg","Object","keys","setReviewsAvg","types","toUpperCase","AmenitiesModal","onToggleAmenitiesModal","_StayDetails","stayReviews","isAmenitiesModalOpen","setMobliePicsDisplay","match","loadStay","summary","StayDetails","_LoginSignup","password","email","isSignup","clearTemplate","editedNotif","notifTxt","toggleSignup","responseGoogle","LoginSignup","withRouter","_LoginPage","isSignUp","byUserImg","goBack","toggleSignUp","required","LoginPage","_TripPreview","getTime","onCancelTrip","onRemoveTrip","tripId","onCancelOrder","buyerId","TripPreview","TripsList","trips","_TripsPage","travelImg","TripsPage","_AddStayMap","selectedPlace","geocodeByAddress","results","getLatLng","handleAddressChange","onSelect","getInputProps","suggestions","getSuggestionItemProps","loading","TextField","suggestion","active","cursor","description","AddStayMap","_AddStay","newStay","assetSpace","labels","countryCode","handleAmenityChange","nameIdx","checked","handleSelectChange","onAddsStay","noImg","onUploadImg","UPLOAD_URL","file","files","formData","FormData","append","fetch","body","json","ImgUrl","options","label","variant","AddStay","_HostStaysList","getData","editedOrder","dataStays","stayName","link","unshift","title","columns","sort","HostStaysList","_OrdersDashboard","timestamp","dataOrders","buyerName","buyerImg","checkOut","approveBtn","onApproveOrder","onDeclinelOrder","getTotalRate","totalRate","getTotalPrice","getOrdersStatus","Intl","NumberFormat","currency","format","OrdersDashboard","_HostPage","selectedTab","onClearFilter","onGetHostStays","onChangeTab","Tabs","textColor","indicatorColor","Tab","HostPage","_BecomeAHost","onBecomeHost","BecomeAHost","_NotificationsPage","editedNotification","dataNotifications","notification","userUnreadNotifs","NotificationsPage","_WishList","userSavedStays","loadUserStays","userStays","savedId","WishList","AirBnbBtn","btnAction","btnInnerTxt","_UserProfile","editedUser","isEditMode","isImgModalOpen","onToggleEditMode","onToggleImgModal","onDeleteImg","onSaveUser","routes","path","component","GuestsModal","onSelectAmount","LocationsPopUp","onSetLocationPopUp","onPushTo","_SearchBar","onGetQueryParams","urlParams","URLSearchParams","search","capitalizeArray","str","newStr","currWord","capitalize","join","guestType","onSetFilter","urlQuery","locModal","onToggleSearchModals","onToggleMiniSearchBar","back","SearchBar","_UserMenu","isLoginModalOn","onCloseLogin","onOpenLogin","onOpenBotLogin","some","UserMenu","_AppHeader","isUserMenuOpen","isLoginBotmodal","isMiniInput","isNotifRead","onScrollCloseModals","onCheckRead","AppHeader","TopRatedStays","eventBusService","callListener","detail","dispatchEvent","CustomEvent","showUserMsg","myBus","UserMsg","msg","removeEvent","msgClass","FooterLocations","NearbyStays","_AppFooter","isCartShown","topRatedStays","nearbyStays","filterLocs","removeFromCart","checkout","carId","AppFooter","_UserDetails","loadAndWatchUser","UserDetails","RootCmp","route","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.62e0ea27.chunk.js","sourcesContent":["const initialState = {\r\n    stays: [],\r\n    bookedTrip: null,\r\n    stay: null,\r\n    review: null,\r\n    lastRemovedStay: null,\r\n    isMiniHeader: true,\r\n    filterBy: {\r\n        startDate: null,\r\n        endDate: null,\r\n        location: '',\r\n        adultNumber: 0,\r\n        kidsNumber: 0,\r\n        infantsNumber: 0,\r\n        capacity: 0,\r\n        amenities: '',\r\n        assetType: '',\r\n        uniqueStay: '',\r\n        guestModal: false,\r\n        datesModal: false,\r\n        hostId: ''\r\n    }\r\n}\r\nexport function stayReducer(state = initialState, action) {\r\n    var newState = state\r\n    var stays\r\n    var cart\r\n    switch (action.type) {\r\n        case 'SET_STAYS':\r\n            newState = { ...state, stays: action.stays }\r\n            break\r\n        case 'SET_STAY':\r\n            newState = { ...state, stay: action.stay }\r\n            break\r\n        case 'REMOVE_STAY':\r\n            const lastRemovedStay = state.stays.find(stay => stay._id === action.stayId)\r\n            stays = state.stays.filter(stay => stay._id !== action.stayId)\r\n            newState = { ...state, stays, lastRemovedStay }\r\n            break\r\n        case 'ADD_STAY':\r\n            newState = { ...state, stays: [...state.stays, action.stay] }\r\n            break\r\n        case 'SET_HEADER':\r\n            newState = { ...state, isMiniHeader: action.isMiniHeader }\r\n            break\r\n        case 'SET_FILTER':\r\n            newState = { ...state, filterBy: { ...action.filter } }\r\n            break;\r\n        case 'UPDATE_STAY':\r\n            stays = state.stays.map(stay => (stay._id === action.stay._id) ? action.stay : stay)\r\n            newState = { ...state, stays, stay: action.stay }\r\n            break\r\n\r\n        case 'REMOVE_FROM_CART':\r\n            cart = state.cart.filter(stay => stay._id !== action.stayId)\r\n            newState = { ...state, cart }\r\n            break\r\n        case 'CLEAR_CART':\r\n            newState = { ...state, cart: [] }\r\n            break\r\n        case 'UNDO_REMOVE_STAY':\r\n            if (state.lastRemovedStay) {\r\n                newState = { ...state, stays: [...state.stays, state.lastRemovedStay], lastRemovedStay: null }\r\n            }\r\n            break\r\n        default:\r\n    }\r\n    // For debug:\r\n    window.stayState = newState\r\n\r\n    return newState\r\n\r\n}\r\n","import * as stays from '../data/stays-data.json';\r\nimport * as users from '../data/users-data.json';\r\nexport const storageService = {\r\n    query,\r\n    get,\r\n    post,\r\n    put,\r\n    remove,\r\n    postMany\r\n}\r\nlet gStays = stays.default;\r\nlet gUsers = users.default;\r\n\r\nfunction query(entityType, delay = 200, filterBy) {\r\n    var entities;\r\n    var filterdEntities = []\r\n    if (entityType === 'stay') entities = JSON.parse(localStorage.getItem(entityType)) || _save('stay', gStays);\r\n    if (entityType === 'user') entities = JSON.parse(localStorage.getItem(entityType)) || _save('user', gUsers);\r\n    if (entityType === 'order') entities = JSON.parse(localStorage.getItem(entityType)) || _save('order',[]);\r\n    // var entities = JSON.parse(localStorage.getItem(entityType)) \r\n    if (filterBy) {\r\n        if (filterBy.location) {\r\n            const regex = new RegExp(filterBy.location, 'i');\r\n            filterdEntities = entities.filter(entity => regex.test(entity.loc.address.split(',')[0]))\r\n            return filterdEntities\r\n        }\r\n        if (filterBy.assetType) {\r\n            const regex = new RegExp(filterBy.assetType, 'i');\r\n            filterdEntities = entities.filter(entity => regex.test(entity.assetType))\r\n            return filterdEntities\r\n        }\r\n        if (filterBy.amenities) {\r\n            const regex = new RegExp(filterBy.amenities, 'i');\r\n            filterdEntities = entities.filter(entity => regex.test(entity.amenities))\r\n            return filterdEntities\r\n\r\n        }\r\n        if (filterBy.capacity) {\r\n            filterdEntities = entities.filter(entity => entity.capacity >= filterBy.capacity)\r\n            return filterdEntities\r\n        }\r\n        if (filterBy.uniqueStay) {\r\n            filterdEntities = entities.filter(entity => entity.uniqueStay)\r\n            return filterdEntities;\r\n        }\r\n\r\n\r\n    }\r\n    // return new Promise((resolve, reject) => {\r\n    //     setTimeout(() => {\r\n    //         // reject('OOOOPs')\r\n    //         resolve(entities)\r\n    //     }, delay)\r\n    // })\r\n    return Promise.resolve(entities)\r\n}\r\n\r\n\r\n\r\nfunction get(entityType, entityId) {\r\n    return query(entityType)\r\n        .then(entities => entities.find(entity => entity._id === entityId))\r\n    // .then(entities =>)\r\n}\r\nfunction post(entityType, newEntity) {\r\n    newEntity._id = _makeId()\r\n    return query(entityType)\r\n    .then(entities => {\r\n            entities.push(newEntity)\r\n            _save(entityType, entities)\r\n            return newEntity\r\n        })\r\n}\r\n\r\nfunction put(entityType, updatedEntity) {\r\n    return query(entityType)\r\n        .then(entities => {\r\n            const idx = entities.findIndex(entity => entity._id === updatedEntity._id)\r\n            entities.splice(idx, 1, updatedEntity)\r\n            _save(entityType, entities)\r\n            return updatedEntity\r\n        })\r\n}\r\n\r\nfunction remove(entityType, entityId) {\r\n    return query(entityType)\r\n        .then(entities => {\r\n            const idx = entities.findIndex(entity => entity._id === entityId)\r\n            entities.splice(idx, 1)\r\n            _save(entityType, entities)\r\n        })\r\n}\r\n\r\n\r\nfunction _save(entityType, entities) {\r\n    localStorage.setItem(entityType, JSON.stringify(entities))\r\n}\r\n\r\nfunction _makeId(length = 5) {\r\n    var text = ''\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\r\n    for (var i = 0; i < length; i++) {\r\n        text += possible.charAt(Math.floor(Math.random() * possible.length))\r\n    }\r\n    return text\r\n}\r\n\r\nfunction postMany(entityType, newEntities) {\r\n    return query(entityType)\r\n        .then(entities => {\r\n            newEntities = newEntities.map(entity => ({ ...entity, _id: _makeId() }))\r\n            entities.push(...newEntities)\r\n            _save(entityType, entities)\r\n            return entities\r\n        })\r\n}","import Axios from 'axios'\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/'\r\n    : '//localhost:3030/api/'\r\n\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n})\r\n\r\nexport const httpService = {\r\n    get(endpoint, data) {\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint, data) {\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data) {\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data) {\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\nasync function ajax(endpoint, method = 'GET', data = null) {\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            method,\r\n            data,\r\n            params: (method === 'GET') ? data : null\r\n        })\r\n        return res.data\r\n    } catch (err) {\r\n        if (err.response && err.response.status === 401) {\r\n            sessionStorage.clear();\r\n            window.location.assign('/')\r\n        }\r\n        throw err\r\n    }\r\n}","import { storageService } from './async-storage.service'\r\nimport { httpService } from './http.service'\r\n// import { socketService, SOCKET_EVENT_USER_UPDATED } from './socket.service'\r\nconst STORAGE_KEY_LOGGEDIN_USER = 'loggedinUser'\r\nvar gWatchedUser = null;\r\n\r\nexport const userService = {\r\n    login,\r\n    logout,\r\n    signup,\r\n    getLoggedinUser,\r\n    getUsers,\r\n    getById,\r\n    remove,\r\n    update,\r\n}\r\n\r\nwindow.userService = userService\r\n\r\n\r\nasync function getUsers() {\r\n    const users = await httpService.get(`user`)\r\n    return users\r\n\r\n}\r\n\r\nasync function getById(userId) {\r\n    const user = await httpService.get(`user/${userId}`)\r\n    gWatchedUser = user;\r\n    return user;\r\n}\r\nfunction remove(userId) {\r\n    return httpService.delete(`user/${userId}`)\r\n}\r\n\r\nasync function update(user) {\r\n    // await storageService.put('user', user)\r\n    // Handle case in which admin updates other user's details\r\n    const updatedUser = await httpService.put(`user/${user._id}`, user)\r\n    if (getLoggedinUser()._id === user._id) _saveLocalUser(updatedUser)\r\n    return updatedUser;\r\n}\r\n\r\nasync function login(userCred) {\r\n    // const user = users.find(user => user.username === userCred.username)\r\n    // return _saveLocalUser(user)\r\n\r\n    const user = await httpService.post('auth/login', userCred)\r\n    // socketService.emit('set-user-socket', user._id);\r\n    if (user) return _saveLocalUser(user)\r\n}\r\nasync function signup(userCred) {\r\n    userCred.isHost = false;\r\n    userCred.imgUrl = '';\r\n    userCred.myStays = [];\r\n    userCred.notifications = [];\r\n    userCred.mySaves = []\r\n    const user = await httpService.post('auth/signup', userCred)\r\n    // socketService.emit('set-user-socket', user._id);\r\n    return _saveLocalUser(user)\r\n}\r\nasync function logout() {\r\n    sessionStorage.removeItem(STORAGE_KEY_LOGGEDIN_USER)\r\n    // socketService.emit('unset-user-socket');\r\n    return await httpService.post('auth/logout')\r\n}\r\n\r\nfunction _saveLocalUser(user) {\r\n    sessionStorage.setItem(STORAGE_KEY_LOGGEDIN_USER, JSON.stringify(user))\r\n    return user\r\n}\r\n\r\nfunction getLoggedinUser() {\r\n    return JSON.parse(sessionStorage.getItem(STORAGE_KEY_LOGGEDIN_USER) || 'null')\r\n}\r\n\r\n// This IIFE functions for Dev purposes \r\n// It allows testing of real time updates (such as sockets) by listening to storage events\r\n(async () => {\r\n    // Dev Helper: Listens to when localStorage changes in OTHER browser\r\n\r\n    // Here we are listening to changes for the watched user (comming from other browsers)\r\n    window.addEventListener('storage', async () => {\r\n        if (!gWatchedUser) return;\r\n        const freshUsers = await storageService.query('user')\r\n        const watchedUser = freshUsers.find(u => u._id === gWatchedUser._id)\r\n        if (!watchedUser) return;\r\n        //     socketService.emit(SOCKET_EVENT_USER_UPDATED, watchedUser)\r\n        // }\r\n        gWatchedUser = watchedUser\r\n    })\r\n})();\r\n\r\n// This is relevant when backend is connected\r\n// (async () => {\r\n//     var user = getLoggedinUser()\r\n//     if (user) socketService.emit('set-user-socket', user._id)\r\n// })();\r\n\r\n","import { userService } from '../services/user.service.js'\r\n\r\n\r\nconst initialState = {\r\n    count: 10,\r\n    user: userService.getLoggedinUser(),\r\n    users: [],\r\n    watchedUser: null\r\n}\r\nexport function userReducer(state = initialState, action) {\r\n    var newState = state;\r\n    var users\r\n    switch (action.type) {\r\n      \r\n        case 'SET_USER':\r\n            newState = { ...state, user: action.user }\r\n            break;\r\n        case 'SET_WATCHED_USER':\r\n            newState = { ...state, watchedUser: action.user }\r\n            break;\r\n        case 'REMOVE_USER':\r\n            newState = {\r\n                ...state,\r\n                users: state.users.filter(user => user._id !== action.userId)\r\n            }\r\n            break;\r\n        case 'SET_USERS':\r\n            newState = { ...state, users: action.users }\r\n            break;\r\n        case 'UPDATE_USER':\r\n            users = state.users.map(user => (user._id === action.user._id) ? action.user : user)\r\n            newState = { ...state, users,user:action.user }\r\n            break\r\n        default:\r\n    }\r\n    // For debug:\r\n    // window.userState = newState;\r\n\r\n    return newState;\r\n\r\n}\r\n","const initialState = {\r\n  reviews: [],\r\n}\r\n\r\nexport function reviewReducer(state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'SET_REVIEWS':\r\n      return { ...state, reviews: action.reviews }\r\n    case 'ADD_REVIEW':\r\n      return { ...state, reviews: [...state.reviews, action.review] }\r\n    case 'REMOVE_REVIEW':\r\n      return { ...state, reviews: state.reviews.filter(review => review._id !== action.reviewId) }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","const initialState = {\r\n  isLoading: false\r\n};\r\n\r\nexport function systemReducer (state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'LOADING_START':\r\n      return { ...state, isLoading: true }\r\n    case 'LOADING_DONE':\r\n      return { ...state, isLoading: false }\r\n    default: return state\r\n  }\r\n}\r\n","const initialState = {\r\n    orders: [],\r\n    order: null\r\n}\r\nexport function orderReducer(state = initialState, action) {\r\n    var newState = state\r\n    var orders\r\n    switch (action.type) {\r\n        case 'SET_ORDERS':\r\n            newState = { ...state, orders: action.orders }\r\n            break\r\n        case 'SET_ORDER':\r\n            newState = { ...state, order: action.order }\r\n            break\r\n        case 'REMOVE_ORDER':\r\n            const lastRemovedOrder = state.orders.find(order => order._id === action.orderId)\r\n            orders = state.orders.filter(order => order._id !== action.orderId)\r\n            newState = { ...state, orders, lastRemovedOrder }\r\n            break\r\n        case 'ADD_ORDER':\r\n            newState = { ...state, orders: [...state.orders, action.order] }\r\n            break\r\n        case 'UPDATE_ORDER':\r\n            orders = state.orders.map(order => (order._id === action.order._id) ? action.order : order)\r\n            newState = { ...state, orders, order: action.order }\r\n            break\r\n        default:\r\n            break;\r\n    }\r\n\r\n    // For debug:\r\n    window.orderState = newState\r\n\r\n    return newState\r\n\r\n}\r\n","// const { createStore, applyMiddleware, combineReducers, compose } = Redux\r\n// const thunk = ReduxThunk.default\r\n\r\nimport { createStore, applyMiddleware, combineReducers, compose } from 'redux'\r\nimport thunk from 'redux-thunk'\r\n\r\n\r\nimport { stayReducer } from './stay.reducer.js'\r\nimport { userReducer } from './user.reducer.js'\r\nimport { reviewReducer } from './review.reducer'\r\nimport { systemReducer } from './system.reducer'\r\nimport { orderReducer } from './order.reducer'\r\n\r\nconst rootReducer = combineReducers({\r\n    stayModule: stayReducer,\r\n    userModule: userReducer,\r\n    systemModule: systemReducer,\r\n    reviewModule: reviewReducer,\r\n    orderModule: orderReducer\r\n})\r\n\r\n\r\n// export const store = createStore(rootReducer, applyMiddleware(thunk))\r\n// window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__();\r\n// Lets wire up thunk and also redux-dev-tools:\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)))\r\n// export const store = createStore(rootReducer, applyMiddleware(thunk))\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/pets-allowed.3367843a.jpg\";","export default __webpack_public_path__ + \"static/media/entire-duplex.ffefbac4.jpg\";","export default __webpack_public_path__ + \"static/media/large-capacity.009296c6.jpg\";","export default __webpack_public_path__ + \"static/media/unique-stays.a435de4d.jpg\";","import { httpService } from './http.service.js'\r\n\r\nconst listeners = []\r\n\r\nexport const stayService = {\r\n    query,\r\n    getById,\r\n    save,\r\n    remove,\r\n    subscribe,\r\n    update,\r\n    filterPageStays\r\n}\r\nwindow.cs = stayService;\r\n\r\nasync function query(filterBy = {}) {\r\n    const stays = await httpService.get('stay', { params: filterBy })\r\n    return stays\r\n}\r\nasync function getById(stayId) {\r\n    const stay = await httpService.get(`stay/${stayId}`)\r\n    return stay\r\n}\r\nfunction remove(stayId) {\r\n    return httpService.delete(`stay/${stayId}`)\r\n}\r\nasync function save(stay) {\r\n    return httpService.post('stay', stay)\r\n\r\n}\r\nasync function update(stay) {\r\n    const UpdatedStay = await httpService.put(`stay/${stay._id}`, stay)\r\n    return UpdatedStay;\r\n}\r\n\r\n\r\nfunction filterPageStays(filterBy, stays) {\r\n    var filterdStays = stays\r\n    // if (!Object.values(filterBy.amenities).includes(true)) {\r\n    //     filterdStays = stays\r\n    // } else {\r\n\r\n    //     filterdStays = filterdStays.filter(stay => {\r\n    //     })\r\n    // }\r\n    if (filterBy.amenities.length) {\r\n        filterdStays = filterdStays.filter(stay => {\r\n            let isStay = true\r\n            filterBy.amenities.forEach(amenity => {\r\n                if (!stay.amenities.includes(amenity)) isStay = false\r\n            })\r\n            return isStay\r\n        })\r\n    }\r\n\r\n    if (filterBy.placeType) {\r\n        filterdStays = filterdStays.filter(stay => stay.assetType.split(' ')[0] === filterBy.placeType.split(' ')[0])\r\n    }\r\n    if (filterBy.PropertyType) {\r\n        filterdStays = filterdStays.filter(stay => stay.assetType.toLowerCase().split(' ')[1] === filterBy.PropertyType.toLowerCase())\r\n    }\r\n    filterdStays = filterdStays.filter(stay => stay.price >= filterBy.priceRange[0] && stay.price <= filterBy.priceRange[1])\r\n    return filterdStays\r\n}\r\nfunction subscribe(listener) {\r\n    listeners.push(listener)\r\n}\r\n\r\nfunction _notifySubscribersStaysChanged(stays) {\r\n    listeners.forEach(listener => listener(stays))\r\n}\r\n\r\nwindow.addEventListener('storage', () => {\r\n    query()\r\n        .then(stays => {\r\n            _notifySubscribersStaysChanged(stays)\r\n        })\r\n})\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import { stayService } from \"../services/stay.service.js\";\r\nimport { userService } from \"../services/user.service.js\";\r\nexport function loadStays(filterBy = null) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const stays = await stayService.query(filterBy)\r\n            dispatch({\r\n                type: 'SET_STAYS',\r\n                stays\r\n            })\r\n        } catch (err) {\r\n        }\r\n    }\r\n}\r\n\r\nexport function loadStay(stayId) {\r\n    return async dispatch => {\r\n        try {\r\n            dispatch({ type: 'LOADING_START' })\r\n            const stay = await stayService.getById(stayId)\r\n            dispatch({ type: 'SET_STAY', stay })\r\n        } catch (err) {\r\n\r\n        } finally {\r\n            dispatch({ type: 'LOADING_DONE' })\r\n        }\r\n    }\r\n}\r\n\r\nexport function onRemoveStay(stayId) {\r\n    return async (dispatch, getState) => {\r\n        try {\r\n            await stayService.remove(stayId)\r\n            dispatch({\r\n                type: 'REMOVE_STAY',\r\n                stayId\r\n            })\r\n        } catch (err) {\r\n        }\r\n    }\r\n}\r\n\r\nexport function onAddStay(stayToAdd) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const savedStay = await stayService.save(stayToAdd)\r\n\r\n            dispatch({\r\n                type: 'ADD_STAY',\r\n                stay: savedStay\r\n            })\r\n        }\r\n        catch (err) {\r\n        }\r\n    }\r\n}\r\n\r\nexport function setFilter(filterBy) {\r\n    return async (dispatch) => {\r\n        try {\r\n            await dispatch({\r\n                type: 'SET_FILTER',\r\n                filter: filterBy\r\n            })\r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n}\r\nexport function setMiniHeader(isMiniHeader) {\r\n    return async (dispatch, getState) => {\r\n        try {\r\n            await dispatch({\r\n                type: 'SET_HEADER',\r\n                isMiniHeader\r\n            })\r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n}\r\nexport function onEditStay(stayToSave) {\r\n\r\n    return async (dispatch) => {\r\n        try {\r\n            const updatedStay = await stayService.update(stayToSave)\r\n            console.log('after send', updatedStay);\r\n\r\n            dispatch({\r\n                type: 'UPDATE_STAY',\r\n                stay: updatedStay\r\n            })\r\n        } catch (err) {\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport function removeFromCart(carId) {\r\n    return (dispatch) => {\r\n        dispatch({\r\n            type: 'REMOVE_FROM_CART',\r\n            carId\r\n        })\r\n    }\r\n}\r\n\r\nexport function checkout() {\r\n    return async (dispatch, getState) => {\r\n        try {\r\n            const state = getState()\r\n            const total = state.stayModule.cart.reduce((acc, stay) => acc + stay.price, 0)\r\n            dispatch({ type: 'CLEAR_CART' })\r\n        } catch (err) {\r\n        }\r\n    }\r\n}\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport pet from '../assets/img/pets-allowed.jpg'\r\nimport duplex from '../assets/img/entire-duplex.jpg'\r\nimport cap from '../assets/img/large-capacity.jpg'\r\nimport unique from '../assets/img/unique-stays.jpg'\r\nimport { setFilter, setMiniHeader } from '../store/stay.actions';\r\nconst locations = [{ city: 'Porto', country: 'Portugal', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-1_avfpxl.png' }, { city: 'Barcelona', country: 'Spain', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-2_qchnx7.png' }, { city: 'Tel Aviv', country: 'Israel', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521280/location%20previews/location-preview-3_fndewl.png' }, { city: 'Paris', country: \"France\", imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-4_nqshaa.jpg' }, { city: 'London', country: 'United Kingdom', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-5_pbuhtd.jpg' }, { city: 'New York', country: 'United States', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-6_kynrq5.png' }, { city: 'Amsterdam', country: 'Netherlands', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521278/location%20previews/location-preview-7_unmsuc.jpg' }, { city: 'Rome', country: 'Italy', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-8_yjbewa.png' }]\r\n\r\nclass _HomePage extends React.Component {\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0)\r\n        this.props.setMiniHeader(false)\r\n        window.addEventListener('resize', this.setHeaderDisplay)\r\n        this.setHeaderDisplay()\r\n    }\r\n    componentWillUnmount() {\r\n        this.props.setMiniHeader(true)\r\n        window.removeEventListener('resize', this.setHeaderDisplay)\r\n        window.removeEventListener('scroll', this.onSetMiniHeader)\r\n    }\r\n    onSetMiniHeader = (ev) => {\r\n        if (ev.target.scrollingElement.scrollTop > 50) {\r\n            this.props.setMiniHeader(true)\r\n        } else {\r\n            this.props.setMiniHeader(false)\r\n        }\r\n    }\r\n    setHeaderDisplay = () => {\r\n        if (window.innerWidth <= 780) {\r\n            window.removeEventListener('scroll', this.onSetMiniHeader)\r\n            this.props.setMiniHeader(true)\r\n        } else {\r\n            window.addEventListener('scroll', this.onSetMiniHeader)\r\n            this.props.setMiniHeader(false)\r\n        }\r\n    }\r\n    changeCount = (diff) => {\r\n        const action = { type: 'CHANGE_COUNT', diff }\r\n        this.props.dispatch(action)\r\n    }\r\n    onClickLoc = (val, type) => {\r\n        const newFilter = { ...this.props.filterBy }\r\n        newFilter[type] = val\r\n        this.props.setFilter(newFilter)\r\n        this.props.history.push('/explore')\r\n    }\r\n    render() {\r\n        return (\r\n            <section className=\"home-page flex column main-container\">\r\n                <div className=\"hero  full flex justify-center align-center\">\r\n                    <div className=\"where-to-go flex justify-center align-center\">\r\n                        <h3>Not sure where to go? Perfect.</h3>\r\n                        <button className=\"flex-btn flex justify-center align-center\">\r\n                            <Link to=\"/explore\">I'm flexible\r\n                            </Link>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"sug-loc\">\r\n                    <h2>Popular destinations</h2>\r\n                    <div className=\"locations\">\r\n                        {locations.map((location, idx) => <div key={idx + 1} className=\"loc-section flex\">\r\n                            <img src={location.imgUrl} alt=\"\" className=\"loc-img\" onClick={() => { this.onClickLoc(location.city, 'location') }} />\r\n                            <div className=\"loc-info flex column justify-center\">\r\n                                <p className=\"city-name\">{location.city}</p>\r\n                                <p className=\"country-name\">{location.country}</p>\r\n                            </div>\r\n                        </div>)}\r\n                    </div>\r\n                </div>\r\n                <div className=\"live-any flex column\">\r\n                    <h2>Live Anywhere</h2>\r\n                    <div className=\"live-loc flex space-between\">\r\n\r\n                        <div className=\"live-card flex column\">\r\n                            <img className=\"live-img\" alt=\"alt-live\" onClick={() => { this.onClickLoc('duplex', 'assetType') }} src={duplex} />\r\n                            <p>Entire duplex</p>\r\n                        </div>\r\n                        <div className=\"live-card flex column\">\r\n                            <img className=\"live-img\" alt=\"alt-live\" onClick={() => { this.onClickLoc('Pets allowed', 'amenity') }} src={pet} />\r\n                            <p>Pets Allowed</p>\r\n                        </div>\r\n                        <div className=\"live-card flex column\">\r\n                            <img className=\"live-img\" alt=\"alt-live\" onClick={() => { this.onClickLoc(7, 'capacity') }} src={cap} />\r\n                            <p>Large capacity</p>\r\n                        </div>\r\n                        <div className=\"live-card flex column\">\r\n                            <img className=\"live-img\" alt=\"alt-live\" onClick={() => { this.onClickLoc('unique', 'uniqueStay') }} src={unique} />\r\n                            <p>Unique stays</p>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n                <div className=\"host-banner flex column justify-center\">\r\n                    <h1>Try hosting</h1>\r\n                    <p>Earn extra income and unlock new opportunities by sharing your space</p>\r\n                    <button className=\"try-host-btn\" onClick={()=>(this.props.user.isHost) ?this.props.history.push('/host') : this.props.history.push('/become-a-host')}>Learn More</button>\r\n                </div>\r\n            </section >\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        count: state.userModule.count,\r\n        filterBy: state.stayModule.filterBy,\r\n        user: state.userModule.user,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    setFilter,\r\n    setMiniHeader\r\n}\r\n\r\nexport const HomePage = connect(mapStateToProps, mapDispatchToProps)(_HomePage)","import React, { useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { CSSTransitionGroup } from 'react-transition-group'\r\n\r\n\r\nfunction FancyBox(props) {\r\n    return <div className=\"fancy-box\">\r\n        <button style={{ float: 'right' }} onClick={props.onClose}>x</button>\r\n        {props.children}\r\n        {/* //loggiii// */}\r\n    </div>\r\n}\r\n\r\nFancyBox.propTypes = {\r\n    onClose: PropTypes.func.isRequired\r\n}\r\n\r\nfunction Contacts() {\r\n    return <section style={{ height: '50vh', backgroundColor: 'pink' }}>\r\n        <h2>Contacts</h2>\r\n    </section>\r\n}\r\nfunction Projects() {\r\n    const [projs, setProjs] = useState(['Puki Proj', 'Muki Proj'])\r\n    const projList = projs.map((proj, idx) => (\r\n        <div className=\"proj-preview\" key={proj} onClick={(ev) => {\r\n            ev.stopPropagation();\r\n            setProjs(projs.filter(p => p !== proj))\r\n        }}>\r\n            {proj}\r\n        </div>\r\n    ));\r\n    return <section style={{ height: '50vh', backgroundColor: 'lightblue' }}>\r\n        <h2>Projects</h2>\r\n        <CSSTransitionGroup transitionName=\"example\" transitionEnterTimeout={500}\r\n            transitionLeaveTimeout={300}>\r\n            {projList}\r\n        </CSSTransitionGroup>\r\n        <button onClick={ev => {\r\n            ev.stopPropagation();\r\n            setProjs([...projs, 'Babu Proj' + Date.now() % 100])\r\n        }}>Add</button>\r\n    </section >\r\n}\r\n\r\nfunction SplitPane(props) {\r\n\r\n    const [width, setWidth] = useState(30)\r\n\r\n    if (false && width === 60) {\r\n        throw new Error('Projects cannot load')\r\n    }\r\n    return (\r\n        <div className=\"split-pane\" style={{\r\n            display: 'flex'\r\n        }}>\r\n            <div style={{ width: width + '%' }} onClick={() => {\r\n                if (width + 10 <= 100) setWidth(width + 10)\r\n            }}>\r\n                {props.left}\r\n            </div>\r\n            <div style={{ flex: 1 }} onClick={() => {\r\n                if (width > 10) setWidth(width - 10)\r\n            }}>\r\n                {props.right}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport class AboutUs extends React.Component {\r\n    state = {\r\n        count: 1000,\r\n    }\r\n    componentDidMount() {\r\n        // this.interval = setInterval(() => {\r\n        //     this.setState(({ count }) => ({ count: count + utilService.getRandomIntInclusive(5, 20) }))\r\n        // }, 2500)\r\n    }\r\n    componentWillUnmount() {\r\n        clearInterval(this.interval)\r\n    }\r\n\r\n    shouldComponentUpdate() {\r\n        return true\r\n    }\r\n\r\n    onTellMeMore = () => {\r\n    }\r\n    render() {\r\n        const { count } = this.state\r\n        return (\r\n            <section>\r\n                <h2>About Us</h2>\r\n                <MyErrorBoundary>\r\n\r\n                    <SplitPane\r\n                        left={\r\n                            <Contacts />\r\n                        }\r\n                        right={\r\n                            <Projects />\r\n                        } />\r\n\r\n                </MyErrorBoundary>\r\n\r\n            <FancyBox >\r\n                    <h3>{count.toLocaleString()} Followers</h3>\r\n                    <button onClick={this.onTellMeMore}>Tell me More</button>\r\n                </FancyBox>\r\n\r\n                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Magni aperiam quo veniam velit dolor reprehenderit, laudantium consequatur neque numquam labore quae. Accusamus libero perferendis ducimus? Alias unde hic quisquam doloremque.</p>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nclass MyErrorBoundary extends React.Component {\r\n    state = { error: null, errorInfo: null };\r\n\r\n    componentDidCatch(error, errorInfo) {\r\n        // Catch errors in children and re-render with error message\r\n        // Note: in development the error is still presented on screen and you need to ESC to see the fallback UI\r\n        this.setState({\r\n            error,\r\n            errorInfo\r\n        })\r\n        // TODO: Log error to an error reporting service\r\n        // logger.report(error)\r\n    }\r\n    render() {\r\n        if (this.state.errorInfo) {\r\n            // Error path\r\n            return (\r\n                <div>\r\n                    <h2>Something went wrong.</h2>\r\n\r\n                    <details style={{ whiteSpace: 'pre-wrap' }}>\r\n                        {this.state.error && this.state.error.toString()}\r\n                        <br />\r\n                        {this.state.errorInfo.componentStack}\r\n                    </details>\r\n                </div>\r\n            );\r\n        }\r\n        // Normally, just render children\r\n        return this.props.children;\r\n    }\r\n}\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { FastfoodTwoTone, FireplaceOutlined, BeachAccess, OutdoorGrill, Kitchen, KingBed, Deck, LocalLaundryService, Pool, Bathtub, RoomService, Speaker, SportsEsports } from '@material-ui/icons';\r\nimport { Balcony, Checkroom, CoffeeMaker, Crib, Iron } from '@mui/icons-material';\r\nimport {\r\n    FaSnowflake, FaBlender, FaCar, FaHotTub, FaPaw, FaSmoking, FaSmokingBan, FaTv, FaWifi,\r\n    FaLock, FaThermometerHalf, FaDoorClosed, FaWineGlassAlt, FaSwimmingPool, FaAccessibleIcon\r\n} from 'react-icons/fa';\r\n\r\nexport const utilService = {\r\n    makeId,\r\n    makeLorem,\r\n    getRandomIntInclusive,\r\n    delay,\r\n    toTimestamp,\r\n    timeToShow,\r\n    getAmenitiesIcons\r\n}\r\n\r\nfunction makeId(length = 6) {\r\n    var txt = '';\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n\r\n    for (var i = 0; i < length; i++) {\r\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n\r\n    return txt;\r\n}\r\n\r\nfunction makeLorem(size = 100) {\r\n    var words = ['The sky', 'above', 'the port', 'was', 'the color of television', 'tuned', 'to', 'a dead channel', '.', 'All', 'this happened', 'more or less', '.', 'I', 'had', 'the story', 'bit by bit', 'from various people', 'and', 'as generally', 'happens', 'in such cases', 'each time', 'it', 'was', 'a different story', '.', 'It', 'was', 'a pleasure', 'to', 'burn'];\r\n    var txt = '';\r\n    while (size > 0) {\r\n        size--;\r\n        txt += words[Math.floor(Math.random() * words.length)] + ' ';\r\n    }\r\n    return txt;\r\n}\r\n\r\nfunction getRandomIntInclusive(min, max) {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min + 1)) + min; //The maximum is inclusive and the minimum is inclusive \r\n}\r\n\r\nfunction delay(ms = 1500) {\r\n    return new Promise(resolve => {\r\n        setTimeout(resolve, ms)\r\n    })\r\n}\r\n\r\n\r\nfunction toTimestamp(strDate) {\r\n    var datum = Date.parse(strDate);\r\n    return datum / 1000;\r\n}\r\nfunction timeToShow(date) {\r\n    var timeStamp = (typeof date === 'string') ? Date.parse(date) : date;\r\n    var time = new Date(timeStamp);\r\n    var day = \"0\" + time.getDate();\r\n    var month = \"0\" + (time.getMonth() + 1);\r\n    var year = \"0\" + time.getFullYear();\r\n    var formattedTime = day.substr(-2) + '/' + month.substr(-2) + '/' + year.substr(-2);\r\n    return formattedTime\r\n}\r\nfunction getAmenitiesIcons(amenity) {\r\n    switch (amenity) {\r\n        case 'TV':\r\n            return <FaTv />\r\n        case 'Wifi':\r\n            return <FaWifi />\r\n        case 'Kitchen':\r\n            return <FastfoodTwoTone />\r\n        case 'Smoking allowed':\r\n            return <FaSmoking />\r\n        case 'Hot tub':\r\n            return <FaHotTub />\r\n        case 'Pets allowed':\r\n            return <FaPaw />\r\n        case 'No smoking':\r\n            return <FaSmokingBan />\r\n        case 'Cooking basics':\r\n            return <FaBlender />\r\n        case 'Air conditioning':\r\n            return <FaSnowflake />\r\n        case 'Heating':\r\n            return <FaThermometerHalf />\r\n        case 'Pool':\r\n            return <Pool />\r\n        case 'Indoor fireplace':\r\n            return <FireplaceOutlined />\r\n        case 'Refrigerator':\r\n            return < Kitchen />\r\n        case 'Refrigerator':\r\n            return <FontAwesomeIcon icon=\"refrigerator\" />\r\n        case 'Dishwasher':\r\n            return <LocalLaundryService />\r\n        case 'Backyard':\r\n            return <Deck />\r\n        case 'BBQ grill':\r\n            return <OutdoorGrill />\r\n        case 'Crib':\r\n            return <Crib />\r\n        case 'Private entrance':\r\n            return <FaDoorClosed />\r\n        case 'Lockbox':\r\n            return <FaLock />\r\n        case 'Beachfront':\r\n            return <BeachAccess />\r\n        case 'Hangers':\r\n            return < Checkroom />\r\n        case 'Wine glasses':\r\n            return <FaWineGlassAlt />\r\n        case 'Free parking':\r\n            return <FaCar />\r\n        case 'Accessible':\r\n            return <FaAccessibleIcon />\r\n        case 'King size bed':\r\n            return <KingBed />\r\n        case 'Bathub':\r\n            return <Bathtub />\r\n        case 'Balcony':\r\n            return <Balcony />\r\n        case 'Iron':\r\n            return <Iron />\r\n        case 'Room service':\r\n            return <RoomService />\r\n        case 'Coffee machine':\r\n            return <CoffeeMaker />\r\n        case 'Laundry machine':\r\n            return <LocalLaundryService />\r\n        case 'Speakers':\r\n            return < Speaker />\r\n        case 'Gaming console':\r\n            return < SportsEsports />\r\n        default:\r\n            break;\r\n\r\n    }\r\n}","import { userService } from \"../services/user.service.js\";\r\nimport { utilService } from \"../services/util.service.js\";\r\n// import { socketService, SOCKET_EMIT_USER_WATCH, SOCKET_EVENT_USER_UPDATED } from \"../services/socket.service.js\";\r\n\r\n\r\nexport function loadUsers() {\r\n    return async dispatch => {\r\n        try {\r\n            dispatch({ type: 'LOADING_START' })\r\n            const users = await userService.getUsers()\r\n            dispatch({ type: 'SET_USERS', users })\r\n        } catch (err) {\r\n\r\n        } finally {\r\n            dispatch({ type: 'LOADING_DONE' })\r\n        }\r\n    }\r\n}\r\nexport function loadUser(userId) {\r\n    return async dispatch => {\r\n        try {\r\n            dispatch({ type: 'LOADING_START' })\r\n            const user = await userService.getById(userId)\r\n            dispatch({ type: 'SET_USER', user })\r\n        } catch (err) {\r\n\r\n        } finally {\r\n            dispatch({ type: 'LOADING_DONE' })\r\n        }\r\n    }\r\n}\r\n\r\nexport function removeUser(userId) {\r\n    return async dispatch => {\r\n        try {\r\n            await userService.remove(userId)\r\n            dispatch({ type: 'REMOVE_USER', userId })\r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n}\r\nexport function updateUser(userToSave) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const updatedUser = await userService.update(userToSave)\r\n            dispatch({\r\n                type: 'UPDATE_USER',\r\n                user: updatedUser\r\n            })\r\n        } catch (err) {\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nexport function onLogin(credentials) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const user = await userService.login(credentials)\r\n            dispatch({\r\n                type: 'SET_USER',\r\n                user\r\n            })\r\n        } catch (err) {\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function onSignup(credentials) {\r\n    return (dispatch) => {\r\n        userService.signup(credentials)\r\n            .then(user => {\r\n                dispatch({\r\n                    type: 'SET_USER',\r\n                    user\r\n                })\r\n            })\r\n            .catch(err => {\r\n            })\r\n\r\n    }\r\n}\r\n\r\nexport function onLogout() {\r\n    return (dispatch) => {\r\n        userService.logout()\r\n            .then(() => dispatch({\r\n                type: 'SET_USER',\r\n                user: null\r\n            }))\r\n            .catch(err => {\r\n            })\r\n    }\r\n}\r\nexport function onBecomeHost(userId) {\r\n    return async (dispatch, getState) => {\r\n        try {\r\n            const user = await userService.getById(userId)\r\n            user.isHost = true\r\n            const updatedUser = await userService.update(user)\r\n            dispatch({\r\n                type: 'UPDATE_USER', user: updatedUser\r\n            })\r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n\r\n}\r\nexport function onToggleLikedStay(savedStayId, isLiked, userId) {\r\n    return async (dispatch, getState) => {\r\n        try {\r\n            const user = await userService.getById(userId)\r\n            if (isLiked) {\r\n                user.mySaves.push(savedStayId)\r\n            } else {\r\n                user.mySaves = user.mySaves.filter(saved => saved !== savedStayId)\r\n            }\r\n            const savedUser = await userService.update(user)\r\n            dispatch({ type: 'UPDATE_USER', savedUser })\r\n        } catch (err) {\r\n        }\r\n    }\r\n}\r\nexport function onBookTrip(trip) {\r\n    return async (dispatch, getState) => {\r\n        try {\r\n            const user = await userService.getById(trip.user._id)\r\n            const hostUser = await userService.getById(trip.stay.host._id)\r\n            const orderId = utilService.makeId()\r\n\r\n            const userTrip = trip\r\n            userTrip.id = orderId\r\n            const hostOrder = trip\r\n            hostOrder.id = orderId\r\n\r\n            if (!hostUser.orders) hostUser.orders = []\r\n            if (!user.myTrips) user.myTrips = []\r\n            hostUser.orders.push(hostOrder)\r\n            user.myTrips.push(userTrip)\r\n\r\n            const updatedUser = await userService.update(user)\r\n            const updatedHost = await userService.update(hostUser)\r\n            dispatch({ type: 'UPDATE_USER', user: updatedUser })\r\n            dispatch({ type: 'UPDATE_USER', user: updatedHost })\r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n}\r\n\r\nexport function loadAndWatchUser(userId) {\r\n    return async (dispatch) => {\r\n        try {\r\n            // const user = await userService.getById(userId);\r\n            // dispatch({ type: 'SET_WATCHED_USER', user })\r\n            // socketService.emit(SOCKET_EMIT_USER_WATCH, userId)\r\n            // socketService.off(SOCKET_EVENT_USER_UPDATED)\r\n            // socketService.on(SOCKET_EVENT_USER_UPDATED, user => {\r\n            //     dispatch({ type: 'SET_WATCHED_USER', user })\r\n            // })\r\n        } catch (err) {\r\n        }\r\n    }\r\n}\r\n\r\n","import React, { Component } from \"react\";\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport Slider from \"react-slick\";\r\n\r\nexport default class LazyLoad extends Component {\r\n\r\n    render() {\r\n        var settings = {\r\n            dots: true,\r\n            infinite: true,\r\n            speed: 500,\r\n            slidesToShow: 1,\r\n            slidesToScroll: 1,\r\n            arrows: true,\r\n      \r\n        };\r\n\r\n        const { imgs } = this.props\r\n\r\n        return (\r\n            <Slider {...settings} className=\"preview-slider\">\r\n                {imgs.map((img,idx) => {\r\n                    return (\r\n                        <div key={idx}>\r\n                            <img  src={img} alt=\"Preview img\" />\r\n                        </div>\r\n                    )\r\n                })}\r\n            </Slider>\r\n        );\r\n    }\r\n}","import React from \"react\";\r\nimport { connect } from 'react-redux'\r\nimport { FaStar, } from \"react-icons/fa\";\r\nimport { onToggleLikedStay, updateUser } from '../store/user.actions.js'\r\n\r\nimport LazyLoad from \"./preview-slider\"\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nclass _StayPreview extends React.Component {\r\n    state = {\r\n        isLiked: false\r\n    }\r\n    componentDidMount() {\r\n        this.isStayLiked()\r\n    }\r\n    onToggleLikeStay = (ev, stay) => {\r\n        ev.stopPropagation()\r\n        const { user } = this.props\r\n        const { isLiked } = this.state\r\n        if (user) {\r\n            this.setState({ isLiked: !isLiked }, () => {\r\n                this.props.onToggleLikedStay(stay._id, !isLiked, user._id)\r\n            })\r\n        }\r\n        else {\r\n           \r\n        }\r\n    }\r\n    isStayLiked = () => {\r\n        const { user, stay } = this.props\r\n        if (user) {\r\n            if (user.mySaves && user.mySaves.length) {\r\n                const isLiked = user.mySaves.filter(saved => saved === stay._id)\r\n                if (isLiked.length) {\r\n                    this.setState({ isLiked: true })\r\n                }\r\n            }\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n\r\n                {this.props.stay.name && <div className=\"stay-preview square-ratio\" onClick={(ev) => {\r\n                    if (ev.target.className === 'slick-arrow slick-prev' || ev.target.className === 'slick-arrow slick-next' || ev.target.className.baseVal === 'MuiSvgIcon-root') return\r\n                    this.props.history.push(`/stay/${this.props.stay._id}`)\r\n                }} >\r\n                    <div className=\"preview-wrapper flex column\">\r\n                        <div className=\"\r\n                           \">\r\n                            {!this.state.isLiked ? <FavoriteIcon className=\"unliked\" onClick={(ev) => this.onToggleLikeStay(ev, this.props.stay)} /> :\r\n                                <FavoriteIcon size={13} onClick={(ev) => this.onToggleLikeStay(ev, this.props.stay)} />\r\n                            }\r\n                            {/* {this.state.isLiked && <FavoriteIcon size={13} onClick={(ev) => this.onToggleLikeStay(ev, this.props.stay)} />} */}\r\n                            <LazyLoad imgs={this.props.stay.imgUrls} />\r\n                        </div>\r\n                        <div className=\"preview-details \">\r\n                            <div className=\"preview-rating flex align-center\">\r\n                                <span className=\"rating-star\">\r\n                                    <FaStar size={13} color=\"#FF5A5F\" />\r\n                                </span>\r\n                                <p className=\"preview-rating-amount\">{this.props.stay.reviewsAvg ? this.props.stay.reviewsAvg : 0}</p>\r\n                                <span className=\"preview-review-count flex\"><span>(</span>{this.props.stay.demoReviews} reviews<span>)</span></span>\r\n                            </div>\r\n                            <div className=\"stay-style flex\">\r\n                                <h3><span>{this.props.stay.assetType}</span> &#183; <span>{this.props.stay.loc.address.split(',')[0]}</span></h3>\r\n                            </div>\r\n                            <div className=\"stay-name\" >\r\n                                <h3>{this.props.stay.name}</h3>\r\n                            </div>\r\n                            <div className=\"preview-price\" >\r\n                                <h3><span className=\"preview-price-amount\">${this.props.stay.price}</span> / night</h3>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onToggleLikedStay,\r\n    updateUser\r\n}\r\n\r\n\r\n\r\nexport const StayPreview = connect(mapStateToProps, mapDispatchToProps)(_StayPreview)","import { StayPreview } from \"./stay-preview\";\r\n\r\nexport function StaysList({ stays, history }) {\r\n    return (\r\n        <div className=\"stay-list\">\r\n            {stays.map((stay, idx) =>\r\n                <StayPreview key={idx} stay={stay} history={history}  />\r\n            )}\r\n        </div>)\r\n}","import React from \"react\"\r\nexport class DynamicModal extends React.Component {\r\n\r\n    render() {\r\n        const styleClass = this.props.children.length ? this.props.children[0].props.className : this.props.children.props.className\r\n\r\n        return (\r\n            <div className={`dynamic-sort-modal ${styleClass}`}>\r\n                {/* {this.props.children} */}\r\n                {this.props.children.length ? this.props.children.map((child, index) => (<div key={index}>{child}</div>)) : this.props.children}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}","import * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Slider, { SliderThumb } from '@mui/material/Slider';\r\nimport { styled } from '@mui/material/styles';\r\nimport Tooltip from '@mui/material/Tooltip';\r\nimport Box from '@mui/material/Box';\r\n\r\nfunction ValueLabelComponent(props) {\r\n  const { children, value } = props;\r\n\r\n  return (\r\n    <Tooltip enterTouchDelay={0} placement=\"top\" title={value}>\r\n      {children}\r\n    </Tooltip>\r\n  );\r\n}\r\n\r\nValueLabelComponent.propTypes = {\r\n  children: PropTypes.element.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\n\r\n\r\n\r\n\r\nconst AirbnbSlider = styled(Slider)(({ theme }) => ({\r\n  color: '#3a8589',\r\n  height: 3,\r\n  padding: '13px 0',\r\n  '& .MuiSlider-thumb': {\r\n    height: 27,\r\n    width: 27,\r\n    backgroundColor: '#fff',\r\n    border: '1px solid currentColor',\r\n    '&:hover': {\r\n      boxShadow: '0 0 0 8px rgba(58, 133, 137, 0.16)',\r\n    },\r\n    '& .airbnb-bar': {\r\n      height: 9,\r\n      width: 1,\r\n      backgroundColor: 'currentColor',\r\n      marginLeft: 1,\r\n      marginRight: 1,\r\n    },\r\n  },\r\n  '& .MuiSlider-track': {\r\n    height: 3,\r\n  },\r\n  '& .MuiSlider-rail': {\r\n    color: theme.palette.mode === 'dark' ? '#bfbfbf' : '#d8d8d8',\r\n    opacity: theme.palette.mode === 'dark' ? undefined : 1,\r\n    height: 3,\r\n  },\r\n}));\r\n\r\nfunction AirbnbThumbComponent(props) {\r\n  const { children, ...other } = props;\r\n  return (\r\n    <SliderThumb {...other}>\r\n      {children}\r\n      <span className=\"airbnb-bar\" />\r\n      <span className=\"airbnb-bar\" />\r\n      <span className=\"airbnb-bar\" />\r\n    </SliderThumb>\r\n  );\r\n}\r\n\r\nAirbnbThumbComponent.propTypes = {\r\n  children: PropTypes.node,\r\n};\r\n\r\nexport default function PriceRangeSlider({ onSetPageFilter, allStaysPriceAvg }) {\r\n  const [value, setValue] = React.useState([20, 600])\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue)\r\n    onSetPageFilter('priceRange', newValue)\r\n  }\r\n\r\n  return (\r\n    <div className=\"price-range-container flex \">\r\n      <Box sx={{ width: 320 }}>\r\n        <p className=\"stays-price-avg\">{`The average nightly price is  $${allStaysPriceAvg.toFixed(0) ? allStaysPriceAvg.toFixed(0) : ''}`}</p>\r\n        <Box sx={{ m: 3 }} />\r\n        <div className=\"price-slider-container flex justify-center align-center\">\r\n\r\n          <AirbnbSlider\r\n            components={{ Thumb: AirbnbThumbComponent }}\r\n            getAriaLabel={(index) => (index === 0 ? 'Minimum price' : 'Maximum price')}\r\n            defaultValue={[20, 600]}\r\n            onChange={handleChange}\r\n            max={600}\r\n          />\r\n        </div>\r\n        <div className=\"picks-container \">\r\n          <div className=\"min-price flex column \">\r\n            <span className=\"price-range-span\" htmlFor=\"minPrice\">Min price</span>\r\n            <div>\r\n              <span className=\"price-range-span\">$</span>\r\n              <input className=\"min-input\" type=\"number\" value={value[0]} />\r\n            </div>\r\n          </div>\r\n          <div className=\"max-price flex column \">\r\n            <span className=\"price-range-span\" htmlFor=\"maxPrice\">Max price</span>\r\n            <div>\r\n              <span className=\"price-range-span\">$</span>\r\n              <input className=\"max-input\" type=\"number\" value={value[1]} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Box>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport { DynamicModal } from './DynamicModal'\r\nimport PriceRangeSlider from './price-range-slider'\r\nexport class ExploreFilter extends React.Component {\r\n    componentDidMount() {\r\n        window.addEventListener('scroll', (ev) => {\r\n            if (ev.target.scrollingElement.scrollTop > 150) {\r\n                this.props.closeAllModals()\r\n            }\r\n        })\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener('scroll', (ev) => {\r\n            if (ev.target.scrollingElement.scrollTop > 150) {\r\n                this.props.closeAllModals()\r\n\r\n            }\r\n        })\r\n    }\r\n    render() {\r\n        const { placeTypeIsOpen, PropertyTypeIsOpen, PriceIsOpen, AmenitiesTypeIsOpen } = this.props.modals\r\n        const {allStaysPriceAvg, ameintiesOptions } = this.props\r\n        const propertyTypes = ['Loft', 'Studio', 'Penthouse', 'Appartment', 'Hotel', 'Villa', 'Duplex', 'Home']\r\n        return (\r\n            <div className=\"explore-filter flex\">\r\n                <div className=\"sort-type type-of-place\">\r\n                    <button onClick={() => { this.props.onToggleModals('placeTypeIsOpen') }}>Type of place</button>\r\n                    {placeTypeIsOpen && <DynamicModal >\r\n                        <div className=\"place-type\" onClick={(ev) => { this.props.onSetPageFilter('placeType', 'Entire Place') }}>\r\n                            <h1>Entire Place</h1>\r\n                            <p>You'll Have The Place To Yourself</p>\r\n                        </div>\r\n                        <div className=\"place-type\" onClick={(ev) => { this.props.onSetPageFilter('placeType', 'Private Room') }}>\r\n                            <h1>Private Room</h1>\r\n                            <p>You'll Have A Private Room To Yourself</p>\r\n                        </div>\r\n                    </DynamicModal>}\r\n                </div>\r\n                <div className=\"sort-type property-type\">\r\n                    <button onClick={() => { this.props.onToggleModals('PropertyTypeIsOpen') }}>Property Type</button>\r\n                    {PropertyTypeIsOpen && <DynamicModal >\r\n                        {propertyTypes.map((type, idx) => {\r\n                            return (<div key={idx} className='property-type' onClick={(ev) => { this.props.onSetPageFilter('PropertyType', type) }}>\r\n                                <h1>\r\n                                    {type}\r\n                                </h1>\r\n                            </div>)\r\n                        })}\r\n                    </DynamicModal>}\r\n                </div>\r\n                <div className=\"sort-type price\">\r\n                    <button onClick={() => { this.props.onToggleModals('PriceIsOpen') }}>Price</button>\r\n                    {PriceIsOpen && <DynamicModal >\r\n                        <PriceRangeSlider  onSetPageFilter={this.props.onSetPageFilter} allStaysPriceAvg={allStaysPriceAvg} />\r\n                    </DynamicModal>}\r\n                </div>\r\n                <div className=\"\">\r\n                </div>\r\n                <div className=\"sort-type amenities-type\">\r\n                    <button onClick={() => { this.props.onToggleModals('AmenitiesTypeIsOpen') }}>Amenities</button>\r\n                    {AmenitiesTypeIsOpen && <DynamicModal >\r\n                        {ameintiesOptions.map((amenity, idx) => {\r\n                            return (<div key={idx} className={amenity.isChecked ? 'amenities-type active' : 'amenities-type'} onClick={() => { this.props.onSetAmenity({ name: amenity.name, isChecked: !amenity.isChecked }) }}>\r\n                                <h1>\r\n                                    {amenity.name}\r\n                                </h1>\r\n                            </div>)\r\n                        })}\r\n                    </DynamicModal>}\r\n                </div>\r\n                <div className=\"sort-type type-of-place\">\r\n                    <button onClick={this.props.onClearPageFilter}>Clear</button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/three-dots.27debe2c.svg\";","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { loadStays, onAddStay, onEditStay, onRemoveStay, setFilter } from '../store/stay.actions.js'\r\nimport { onBookTrip, loadUser } from '../store/user.actions.js'\r\nimport { StaysList } from '../cmps/stays-list.jsx'\r\nimport { ExploreFilter } from '../cmps/explore-filter.jsx'\r\nimport loader from '../assets/img/three-dots.svg'\r\nimport { stayService } from '../services/stay.service.js'\r\nclass _Explore extends React.Component {\r\n    state = {\r\n        stays: [],\r\n        isScreenOpen: false,\r\n        allStaysPriceAvg: null,\r\n        modals: {\r\n            placeTypeIsOpen: false,\r\n            PropertyTypeIsOpen: false,\r\n            PriceIsOpen: false,\r\n            AmenitiesTypeIsOpen: false,\r\n        },\r\n        frontFilter: {\r\n            placeType: '',\r\n            PropertyType: '',\r\n            priceRange: [20, 600],\r\n            amenities: []\r\n        },\r\n        ameintiesOptions: [\r\n            { name: 'TV', isChecked: false },\r\n            { name: 'Wifi', isChecked: false },\r\n            { name: 'Kitchen', isChecked: false },\r\n            { name: 'Smoking allowed', isChecked: false },\r\n            { name: 'Hot tub', isChecked: false },\r\n            { name: 'Pets allowed', isChecked: false },\r\n            { name: 'No smoking', isChecked: false },\r\n            { name: 'Cooking basics', isChecked: false },\r\n            { name: 'Air conditioning', isChecked: false },\r\n            { name: 'Heating', isChecked: false },\r\n            { name: 'Pool', isChecked: false },\r\n            { name: 'Indoor fireplace', isChecked: false },\r\n            { name: 'Refrigerator', isChecked: false },\r\n            { name: 'Dishwasher', isChecked: false },\r\n            { name: 'Backyard', isChecked: false },\r\n            { name: 'BBQ grill', isChecked: false },\r\n            { name: 'Crib', isChecked: false },\r\n            { name: 'Private entrance', isChecked: false },\r\n            { name: 'Lockbox', isChecked: false },\r\n            { name: 'Beachfront', isChecked: false },\r\n            { name: 'Hangers', isChecked: false },\r\n            { name: 'Wine glasses', isChecked: false },\r\n            { name: 'Free parking', isChecked: false },\r\n            { name: 'Accessible', isChecked: false },\r\n            { name: 'King size bed', isChecked: false },\r\n            { name: 'Bathub', isChecked: false },\r\n            { name: 'Balcony', isChecked: false },\r\n            { name: 'Iron', isChecked: false },\r\n            { name: 'Room service', isChecked: false },\r\n            { name: 'Coffee machine', isChecked: false },\r\n            { name: 'Laundry machine', isChecked: false },\r\n            { name: 'Speakers', isChecked: false },\r\n            { name: 'Gaming console', isChecked: false }\r\n        ]\r\n\r\n    }\r\n    async componentDidMount() {\r\n        try {\r\n            const { user } = this.props\r\n            window.scrollTo(0, 0)\r\n            await this.props.loadStays(this.props.filterBy);\r\n            this.setState({ stays: this.props.stays }, () => {\r\n                this.calcAllStaysPriceAvg(this.state.stays)\r\n            })\r\n            if (user) this.props.loadUser(this.props.user._id)\r\n        } catch (err) {\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevProps.filterBy !== this.props.filterBy) {\r\n            this.props.loadStays(this.props.filterBy);\r\n        }\r\n    }\r\n    onSetAmenity = (amenity) => {\r\n        const name = amenity.name\r\n        const isChecked = amenity.isChecked\r\n        const { ameintiesOptions } = this.state\r\n        const { amenities } = this.state.frontFilter\r\n\r\n        const updatedAmeintiesOpts = ameintiesOptions.map(amenity => (amenity.name === name) ? { name, isChecked } : amenity)\r\n        if (isChecked) amenities.push(name)\r\n        else {\r\n            const idx = amenities.findIndex(amenity => amenity === name)\r\n            amenities.splice(idx, 1)\r\n        }\r\n        this.setState(prevState => ({ ...prevState, frontFilter: { ...this.state.frontFilter, amenities }, ameintiesOptions: updatedAmeintiesOpts }), () => { this.onSetPageFilter('ameneties', this.state.frontFilter.amenities) })\r\n    }\r\n\r\n    onSetPageFilter = (filterType, val, ev) => {\r\n        this.setState({ frontFilter: { ...this.state.frontFilter, [filterType]: val } }, () => {\r\n            const newStays = stayService.filterPageStays(this.state.frontFilter, this.props.stays)\r\n            this.setState({ stays: newStays })\r\n        })\r\n    }\r\n    onToggleScreen = (val) => {\r\n        this.setState({ isScreenOpen: val })\r\n    }\r\n    onClearPageFilter = () => {\r\n        const clearState = {\r\n            stays: this.props.stays,\r\n            isScreenOpen: false,\r\n            allStaysPriceAvg: null,\r\n            modals: {\r\n                placeTypeIsOpen: false,\r\n                PropertyTypeIsOpen: false,\r\n                PriceIsOpen: false,\r\n                AmenitiesTypeIsOpen: false,\r\n            },\r\n            frontFilter: {\r\n                placeType: '',\r\n                PropertyType: '',\r\n                priceRange: [20, 600],\r\n                amenities: []\r\n            },\r\n            ameintiesOptions: [\r\n                { name: 'TV', isChecked: false },\r\n                { name: 'Wifi', isChecked: false },\r\n                { name: 'Kitchen', isChecked: false },\r\n                { name: 'Smoking allowed', isChecked: false },\r\n                { name: 'Cooking basics', isChecked: false },\r\n                { name: 'Pets Allowed', isChecked: false },\r\n                { name: 'Hot tub', isChecked: false }\r\n            ]\r\n\r\n        }\r\n        this.setState({ ...clearState }, () => {\r\n            this.calcAllStaysPriceAvg(this.state.stays)\r\n        })\r\n        this.closeAllModals()\r\n    }\r\n\r\n    onRemoveStay = (stayId) => {\r\n        this.props.onRemoveStay(stayId)\r\n    }\r\n    onAddStay = () => {\r\n        this.props.onAddStay()\r\n    }\r\n    onEditStay = (stay) => {\r\n        const price = +prompt('New price?')\r\n        const stayToSave = { ...stay, price }\r\n        this.props.onEditStay(stayToSave)\r\n    }\r\n    onToggleModals = (modal) => {\r\n        this.setState({ modals: { placeTypeIsOpen: false, PropertyTypeIsOpen: false, PriceIsOpen: false, AmenitiesTypeIsOpen: false } }, () => {\r\n            this.onToggleScreen(!this.state.modals[modal])\r\n            this.setState({ modals: { ...this.state.modals, [modal]: !this.state[modal] } })\r\n        })\r\n    }\r\n    closeAllModals = () => {\r\n        this.onToggleScreen(false)\r\n        this.setState({ modals: { placeTypeIsOpen: false, PropertyTypeIsOpen: false, PriceIsOpen: false, AmenitiesTypeIsOpen: false } })\r\n    }\r\n    calcAllStaysPriceAvg = (stays) => {\r\n        let staysAvg = stays\r\n        staysAvg = staysAvg.reduce((acc, stay) => {\r\n            acc += stay.price\r\n            return acc\r\n        }, 0)\r\n        this.setState({ allStaysPriceAvg: (staysAvg / stays.length) })\r\n    }\r\n\r\n    render() {\r\n        const { stays, filterBy } = this.props\r\n        const { isScreenOpen, ameintiesOptions } = this.state\r\n        if (!stays.length) return <div className=\"loader-container flex align-center justify-center page-padding\"><img src={loader} alt=\"loader\" /></div>\r\n        return (\r\n            <main className=\"explore-mega-container main-container page-padding\">\r\n                <div className=\"explore-page-container\">\r\n                    <div className={isScreenOpen ? \"screen screen-open full\" : \"screen full\"} onClick={() => { this.closeAllModals() }}></div>\r\n                    <div className=\"stays-headline\">\r\n                        <p>{this.state.stays.length === 1 ? `1 stay` : `${this.state.stays.length} stays`}</p>\r\n                        <h1>{filterBy.location ? `Places to stay at ${filterBy.location}` : 'Find places to stay'}</h1>\r\n                    </div>\r\n                    <ExploreFilter ameintiesOptions={ameintiesOptions} stays={this.state.stays} closeAllModals={this.closeAllModals} onSetAmenity={this.onSetAmenity} onSetPageFilter={this.onSetPageFilter} onClearPageFilter={this.onClearPageFilter} modals={this.state.modals} onToggleModals={this.onToggleModals} allStaysPriceAvg={this.state.allStaysPriceAvg} amenities={this.state.frontFilter.amenities} />\r\n                    {stays.length && <StaysList stays={this.state.stays} history={this.props.history} />}\r\n                </div>\r\n            </main>\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stays: state.stayModule.stays,\r\n        filterBy: state.stayModule.filterBy,\r\n        user: state.userModule.user\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadStays,\r\n    onRemoveStay,\r\n    onAddStay,\r\n    onEditStay,\r\n    onBookTrip,\r\n    setFilter,\r\n    loadUser\r\n}\r\n\r\n\r\nexport const Explore = connect(mapStateToProps, mapDispatchToProps)(_Explore)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nimport {loadUsers, removeUser} from '../store/user.actions'\r\n\r\n\r\nclass _AdminApp extends React.Component {\r\n    state = {}\r\n\r\n    componentDidMount() {\r\n        this.props.loadUsers()\r\n    }\r\n\r\n    \r\n\r\n    render() {\r\n        const { isLoading, users, removeUser, loadUsers } = this.props\r\n        return <section className=\"admin\">\r\n                <button onClick={loadUsers}>Refresh Users</button>\r\n                {isLoading && 'Loading...'}\r\n                {users && <ul>\r\n\r\n                    {users.map(user => (\r\n                        <li key={user._id}>\r\n                            <pre>{JSON.stringify(user, null, 2)}</pre>\r\n                            <button\r\n                                onClick={() => {\r\n                                    removeUser(user._id)\r\n                                }}\r\n                            >\r\n                                Remove {user.username}\r\n                            </button>\r\n                        </li>\r\n                    ))}\r\n                </ul>}\r\n        </section>\r\n\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        isLoading: state.systemModule.isLoading,\r\n        users: state.userModule.users\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    loadUsers,\r\n    removeUser\r\n}\r\n\r\n\r\nexport const AdminApp = connect(mapStateToProps, mapDispatchToProps)(_AdminApp)","import { FaStar } from 'react-icons/fa'\r\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport IosShareIcon from '@mui/icons-material/IosShare';\r\nimport LazyLoad from '../preview-slider';\r\n\r\nexport function BasicInfo({ stay, isLiked, onToogleLikeStay, isMobilePics }) {\r\n    return (\r\n        <section className=\"info-imgs-container\">\r\n            <section className=\"stay-info\">\r\n                <div className=\"stay-name-conatiner\">\r\n                    <h2>{stay.name}</h2>\r\n                </div>\r\n                <section className=\"info-line flex space-between\">\r\n                    <div className=\"stay-info-conatiner flex\">\r\n                        <div className=\"stay-avg-info flex align-end\">\r\n                            <p className=\"info-star\"><FaStar size={14} color=\"#FF5A5F\" /></p>\r\n                            <p className=\"info-line-score\">{stay.reviewsAvg ? stay.reviewsAvg : 0}</p>\r\n                            <p className=\"info-line-reviews\">{`(${stay.reviews.length} reviews)`}</p>\r\n                        </div>\r\n                        <p className=\"dot\">•</p>\r\n                        <div className=\"host-location-container flex align-end\">\r\n                            <p className=\"info-line-loc\">{stay.loc.address}</p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"user-btns-container flex\">\r\n                        <div className=\"share-btn-container flex align-center\">\r\n                            <p className=\"details-share\"  ><IosShareIcon /></p>\r\n                            <p>Share</p>\r\n                        </div>\r\n                        <div className=\"save-btn-container flex align-center\" onClick={() => { onToogleLikeStay() }}>\r\n                            <p className=\"details-like\" >{!isLiked ? <FavoriteBorderIcon /> : <FavoriteIcon className=\"liked\" />}</p>\r\n                            <p>Save</p>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </section>\r\n            <section className=\"asset-imgs-container flex  \">\r\n\r\n                {!isMobilePics ? <div className=\"asset-imgs flex\">\r\n                    <div className=\"primary-img square-ratio\"><img src={stay.imgUrls[0]} alt=\"\" /></div>\r\n                    <div className=\"imgs-container flex\">\r\n                        <div className=\"asset-img square-ratio\"><img src={stay.imgUrls[1]} alt=\"\" /></div>\r\n                        <div className=\"asset-img square-ratio\"><img src={stay.imgUrls[2]} alt=\"\" /></div>\r\n                    </div>\r\n                    <div className=\"imgs-container flex\">\r\n                        <div className=\"asset-img square-ratio\"><img src={stay.imgUrls[3]} alt=\"\" /></div>\r\n                        <div className=\"asset-img square-ratio\"><img src={stay.imgUrls[4]} alt=\"\" /></div>\r\n                    </div>\r\n                </div> : <div className=\"asset-imgs flex\">\r\n                    <div className=\"primary-img square-ratio\"> <LazyLoad imgs={stay.imgUrls} /></div>\r\n                </div>}\r\n            </section>\r\n        </section>\r\n    )\r\n\r\n}","import { FaHome, FaBroom, FaDoorClosed, FaKey } from 'react-icons/fa'\r\n\r\nexport function AssetSum(stay) {\r\n    return (<section className=\"asset-sum-container\">\r\n\r\n        <div className=\"asset-sum\">\r\n            <div className=\"asset-sum-item flex\">\r\n                <div className=\"sum-icon-container\">\r\n                    <p className=\"sum-icon\" ><FaHome /></p>\r\n                </div>\r\n                <div className=\"sum-txt\">\r\n                    <h4>Entire Home</h4>\r\n                    <p>You’ll have the apartment to yourself.</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"asset-sum-item flex\">\r\n                <div className=\"sum-icon-container\">\r\n                    <p className=\"sum-icon\" ><FaBroom className=\"sum-icon\" /></p>\r\n                </div>\r\n                <div className=\"sum-txt\">\r\n                    <h4>Enhanced Clean Home</h4>\r\n                    <p>This host committed to Airbnb's 5-step enhanced cleaning process.</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"asset-sum-item flex\">\r\n                <div className=\"sum-icon-container\">\r\n                    <p className=\"sum-icon\" ><FaDoorClosed className=\"sum-icon\" /></p>\r\n                </div>\r\n                <div className=\"sum-txt\">\r\n                    <h4>Self check-in</h4>\r\n                    <p>Check yourself in with the lockbox.</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"asset-sum-item flex\">\r\n                <div className=\"sum-icon-container\">\r\n                    <p className=\"sum-icon\" ><FaKey className=\"sum-icon\" /></p>\r\n                </div>\r\n                <div className=\"sum-txt\">\r\n                    <h4>Great check-in experience</h4>\r\n                    <p>95% of recent guests gave the check-in process a 5-star rating.</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>)\r\n}\r\n\r\n// <div className=\"asset-sum-item flex\">\r\n// <div className=\"sum-icon-container\">\r\n//     {/* <p className=\"sum-icon\" ></p><FaHome  className=\"sum-icon\" /> */}\r\n//     <p className=\"sum-icon\"><HomeOutlinedIcon/></p>\r\n\r\n    \r\n// </div>\r\n// <div className=\"sum-txt\">\r\n//     <h4>Entire Home</h4>\r\n//     <p>You’ll have the apartment to yourself.</p>\r\n// </div>\r\n// </div>\r\n// <div className=\"asset-sum-item flex\">\r\n// <div className=\"sum-icon-container\">\r\n//     <p className=\"sum-icon\"><LocationOnOutlined  /></p>\r\n    \r\n// </div>\r\n// <div className=\"sum-txt\">\r\n//     <h4>Enhanced Clean Home</h4>\r\n//     <p>This host committed to Airbnb's 5-step enhanced cleaning process.</p>\r\n// </div>\r\n// </div>\r\n// <div className=\"asset-sum-item flex\">\r\n// <div className=\"sum-icon-container\">\r\n//     <p className=\"sum-icon\"><DoorBackOutlined  /> </p>\r\n    \r\n// </div>\r\n// <div className=\"sum-txt\">\r\n//     <h4>Self check-in</h4>\r\n//     <p>Check yourself in with the lockbox.</p>\r\n// </div>\r\n// </div>\r\n// <div className=\"asset-sum-item flex\">\r\n// <div className=\"sum-icon-container\">\r\n// <p className=\"sum-icon\"><VpnKeyOutlined  /> </p>\r\n\r\n// </div>\r\n// <div className=\"sum-txt\">\r\n//     <h4>Great check-in experience</h4>\r\n//     <p>95% of recent guests gave the check-in process a 5-star rating.</p>\r\n// </div>\r\n// </div>","\r\nimport React from 'react'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { FastfoodTwoTone, FireplaceOutlined, BeachAccess, OutdoorGrill, Kitchen, KingBed, Deck, LocalLaundryService, Pool, Bathtub, RoomService, Speaker, SportsEsports } from '@material-ui/icons';\r\nimport { Balcony, Checkroom, CoffeeMaker, Crib, Iron } from '@mui/icons-material';\r\nimport {\r\n    FaSnowflake, FaBlender, FaCar, FaHotTub, FaPaw, FaSmoking, FaSmokingBan, FaTv, FaWifi,\r\n    FaLock, FaThermometerHalf, FaDoorClosed, FaWineGlassAlt, FaSwimmingPool, FaAccessibleIcon\r\n} from 'react-icons/fa';\r\nimport { utilService } from '../../services/util.service';\r\nexport class AssetAmenities extends React.Component {\r\n\r\n    render() {\r\n        const { amenities } = this.props\r\n        return (\r\n            <ul className=\"amenities-list flex\">\r\n                {amenities && amenities.map((amenity, idx) => {\r\n                    if (idx <= 9) {\r\n                        return <li key={amenity} className=\"amenity-item flex\">\r\n                            <div className=\"amenity-icon-container\">\r\n                                {utilService.getAmenitiesIcons(amenity)}\r\n                            </div>\r\n                            <div className=\"amenity-txt\">\r\n                                <p>{amenity}</p>\r\n                            </div>\r\n                        </li>\r\n                    }\r\n                })}\r\n            </ul>\r\n        )\r\n    }\r\n\r\n}","import { httpService } from './http.service.js'\r\nconst listeners = []\r\n\r\nexport const orderService = {\r\n    query,\r\n    getById,\r\n    save,\r\n    update,\r\n    remove,\r\n    subscribe\r\n\r\n}\r\nwindow.cs = orderService;\r\n\r\nasync function query(userId, type) {\r\n    // add userId and type to parameters in query\r\n    const orders = await httpService.get('order', { params: { userId, type } })\r\n    return orders\r\n}\r\nasync function getById(orderId) {\r\n    // return storageService.get(STORAGE_KEY, orderId)\r\n    const order = await httpService.get(`order/${orderId}`)\r\n    return order\r\n}\r\nfunction remove(orderId) {\r\n    return httpService.delete(`order/${orderId}`)\r\n}\r\n\r\nfunction save(order) {\r\n    const savedOrder = httpService.post('order', order)\r\n    return savedOrder\r\n}\r\nasync function update(order) {\r\n    const UpdatedOrder = await httpService.put(`order/${order._id}`, order)\r\n    return UpdatedOrder;\r\n}\r\n\r\nfunction subscribe(listener) {\r\n    listeners.push(listener)\r\n}\r\n\r\nfunction _notifySubscribersOrdersChanged(orders) {\r\n    listeners.forEach(listener => listener(orders))\r\n}\r\n\r\nwindow.addEventListener('storage', () => {\r\n    query()\r\n        .then(orders => {\r\n            _notifySubscribersOrdersChanged(orders)\r\n        })\r\n})\r\n\r\n\r\n\r\n","import io from 'socket.io-client'\r\n\r\nexport const SOCKET_EMIT_USER_WATCH = 'user-watch';\r\nexport const SOCKET_EVENT_USER_UPDATED = 'user-updated';\r\nexport const SOCKET_EVENT_REVIEW_ADDED = 'review-added';\r\nexport const SOCKET_EVENT_REVIEW_ABOUT_YOU = 'review-about-you';\r\n\r\n\r\nconst baseUrl = (process.env.NODE_ENV === 'production')? '' : '//localhost:3030'\r\nexport const socketService = createSocketService()\r\n// export const socketService = createDummySocketService()\r\n\r\nwindow.socketService = socketService\r\n\r\n// var socketIsReady = false;\r\nsocketService.setup()\r\n\r\n\r\nfunction createSocketService() {\r\n  var socket = null;\r\n  const socketService = {\r\n    setup() {\r\n      socket = io(baseUrl)\r\n    },\r\n    on(eventName, cb) {\r\n      socket.on(eventName, cb)\r\n    },\r\n    off(eventName, cb=null) {\r\n      if (!socket) return;\r\n      if (!cb) socket.removeAllListeners(eventName)\r\n      else socket.off(eventName, cb)\r\n    },\r\n    emit(eventName, data) {\r\n      socket.emit(eventName, data)\r\n    },\r\n    terminate() {\r\n      socket = null\r\n    }\r\n  }\r\n  return socketService\r\n}\r\n\r\n// eslint-disable-next-line\r\nfunction createDummySocketService() {\r\n  var listenersMap = {}\r\n  const socketService = {\r\n    listenersMap,\r\n    setup() {\r\n      listenersMap = {}\r\n    },\r\n    terminate() {\r\n      this.setup()\r\n    },\r\n    on(eventName, cb) {\r\n      listenersMap[eventName] = [...(listenersMap[eventName]) || [], cb]\r\n    },\r\n    off(eventName, cb) {\r\n      if (!listenersMap[eventName]) return\r\n      if (!cb) delete listenersMap[eventName]\r\n      else listenersMap[eventName] = listenersMap[eventName].filter(l => l !== cb)\r\n    },\r\n    emit(eventName, data) {\r\n      if (!listenersMap[eventName]) return\r\n      listenersMap[eventName].forEach(listener => {\r\n        listener(data)\r\n      })\r\n    },\r\n    debugMsg() {\r\n      this.emit('chat addMsg', {from: 'Someone', txt: 'Aha it worked!'})\r\n    },\r\n  }\r\n  window.listenersMap = listenersMap;\r\n  return socketService\r\n}\r\n\r\n\r\n// Basic Tests\r\n// socketService.on('baba', cb)\r\n// socketService.on('baba', cb)\r\n// socketService.on('baba', cb)\r\n// socketService.on('mama', cb)\r\n// socketService.emit('baba', 'Puk')\r\n// socketService.off('baba', cb)\r\n\r\n\r\nsocketService.on(SOCKET_EVENT_REVIEW_ABOUT_YOU, review => {\r\n  \r\n})\r\n\r\n","import { orderService } from \"../services/order.service.js\";\r\nimport { userService } from \"../services/user.service.js\";\r\nimport { socketService } from \"../services/socket.service.js\";\r\n\r\nexport function loadOrders(userId, type) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const orders = await orderService.query(userId, type)\r\n            dispatch({\r\n                type: 'SET_ORDERS',\r\n                orders\r\n            })\r\n        } catch (err) {\r\n        }\r\n    }\r\n}\r\nexport function loadOrder(orderId) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const order = await orderService.getById(orderId)\r\n            dispatch({\r\n                type: 'SET_ORDER',\r\n                order\r\n            })\r\n        } catch (err) {\r\n        }\r\n    }\r\n}\r\n\r\nexport function onRemoveOrder(orderId) {\r\n    return async (dispatch, getState) => {\r\n        try {\r\n            await orderService.remove(orderId)\r\n            dispatch({\r\n                type: 'REMOVE_ORDER',\r\n                orderId\r\n            })\r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n}\r\n\r\nexport function onAddOrder(orderToAdd) {\r\n    const { buyer } = orderToAdd\r\n\r\n    return async (dispatch) => {\r\n        try {\r\n            const notif = {\r\n                byUser: { fullName: buyer.fullname, imgUrl: buyer.imgUrl, _id: buyer._id },\r\n                createdAt: Date.now(),\r\n                stay: { _id: orderToAdd.stay._id, name: orderToAdd.loc.address, reviewsAvg: orderToAdd.stay.reviewsAvg },\r\n                txt: `Reserved your stay`,\r\n                isRead: false\r\n            }\r\n            const savedOrder = await orderService.save(orderToAdd)\r\n            dispatch({ type: 'ADD_ORDER', order: savedOrder })\r\n            socketService.emit('setNotif', notif)\r\n        }\r\n        catch (err) {\r\n\r\n        }\r\n    }\r\n}\r\nexport function onCancelOrder(tripId, buyerId, hostId) {\r\n    return async (dispatch) => {\r\n        try {\r\n\r\n            const buyer = await userService.getById(buyerId)\r\n            const hostUser = await userService.getById(hostId)\r\n            buyer.myTrips = buyer.myTrips.filter(trip => { return trip._id !== tripId })\r\n            hostUser.orders = hostUser.orders.filter(trip => { return trip._id !== tripId })\r\n            const updatedUser = await userService.update(buyer)\r\n            const updatedHost = await userService.update(hostUser)\r\n            dispatch({ type: 'UPDATE_USER', user: updatedUser })\r\n            dispatch({ type: 'UPDATE_USER', user: updatedHost })\r\n\r\n        }\r\n        catch (err) {\r\n        }\r\n    }\r\n}\r\nexport function onApproveOrder(order) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const updatedOrder = await orderService.update(order)\r\n            dispatch({ type: 'UPDATE_ORDER', order: updatedOrder })\r\n\r\n\r\n        }\r\n        catch (err) {\r\n        }\r\n    }\r\n}\r\nexport function onUpdateOrder(order) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const updatedOrder = await orderService.update(order)\r\n            dispatch({ type: 'UPDATE_ORDER', order: updatedOrder })\r\n\r\n\r\n        }\r\n        catch (err) {\r\n        }\r\n    }\r\n}\r\nexport function setFilter(filterBy) {\r\n    return async (dispatch) => {\r\n        try {\r\n            await dispatch({\r\n                type: 'SET_FILTER',\r\n                filter: filterBy\r\n            })\r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n}\r\nexport function onEditOrder(orderToSave) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const updatedOrder = await orderService.update(orderToSave)\r\n            dispatch({\r\n                type: 'UPDATE_ORDER',\r\n                order: updatedOrder\r\n            })\r\n\r\n        } catch (err) {\r\n        }\r\n    }\r\n}\r\nexport function checkout() {\r\n    return async (dispatch, getState) => {\r\n        try {\r\n            const state = getState()\r\n            const total = state.orderModule.cart.reduce((acc, order) => acc + order.price, 0)\r\n            const score = await userService.changeScore(-total)\r\n            dispatch({ type: 'SET_SCORE', score })\r\n            dispatch({ type: 'CLEAR_CART' })\r\n        } catch (err) {\r\n        }\r\n    }\r\n}\r\n\r\n","import 'react-date-range/dist/styles.css'; // main style file\r\nimport 'react-date-range/dist/theme/default.css'; // theme css file\r\nimport React from \"react\"\r\n\r\nimport { DateRangePicker } from 'react-date-range';\r\n\r\nexport class DatesPicker2 extends React.Component {\r\n    state = {\r\n        startDate: new Date(),\r\n        endDate: new Date()\r\n    }\r\n    handleSelect = ({ selection }) => {\r\n        var { startDate, endDate } = selection\r\n        this.setState({ startDate, endDate }, () => { this.props.onSelectDates(this.state) })\r\n    }\r\n\r\n    toTimeStamp = (strDate) => {\r\n        var datum = Date.parse(strDate);\r\n        return datum / 1000;\r\n    }\r\n    render() {\r\n        const selectionRange = {\r\n            startDate: this.state.startDate,\r\n            endDate: this.state.endDate,\r\n            key: 'selection',\r\n        }\r\n        return (\r\n            <DateRangePicker\r\n                classNames=\"date-picker-2\"\r\n                rangeColors={\"black\"}\r\n                color={\"black\"}\r\n                className=\"date-pick\"\r\n                ranges={[selectionRange]}\r\n                onChange={this.handleSelect}\r\n            />\r\n\r\n        )\r\n    }\r\n}","// import { render } from '@testing-library/react';\r\nimport React from 'react'\r\nimport { FaMinus, FaPlus } from 'react-icons/fa'\r\n\r\nexport class GuestsCheckoutModal extends React.Component {\r\n\r\n    render() {\r\n        const { onSelectGuests, toggleGuestsModal, trip } = this.props\r\n        const { adults, kids, infants } = trip.guests\r\n        // <div className=\"minus-guest-btn flex\" onClick={() => { onSelectGuests('adults', 'minus') }}>\r\n        return (\r\n            <div className=\"guest-mega-container\">\r\n                {trip && <div className=\"guest-popup-container flex column\">\r\n                    <div className=\"screen\" onClick={() => { toggleGuestsModal() }}>\r\n                    </div>\r\n                    <div className=\"guest-card flex space-between  align-center\">\r\n                        <div className=\"column\">\r\n                            <p className=\"guest-type\">Adults</p>\r\n                            <p className=\"guest-desc\">Ages 13 or above</p>\r\n                        </div>\r\n                        <div className=\"guest-amount\">\r\n                            <p className={adults ? \"guest-btn\" : \"guest-btn zero\"} onClick={() => onSelectGuests('adults', 'minus')}><FaMinus /></p>\r\n                            <p className=\"guest-amount-count\">{adults ? adults : 0}</p>\r\n                            <p className=\"guest-btn \" onClick={() => onSelectGuests('adults', 'plus')}><FaPlus />\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"guest-card flex space-between align-center\">\r\n                        <div className=\"column\">\r\n                            <p className=\"guest-type\">Children</p>\r\n                            <p className=\"guest-desc\">Ages 2-12</p>\r\n                        </div>\r\n                        <div className=\"guest-amount\">\r\n                            <p className={kids ? \"guest-btn\" : \"guest-btn zero\"} onClick={() => onSelectGuests('kids', 'minus')}><FaMinus /></p>\r\n                            <p className=\"guest-amount-count\">{kids ? kids : 0}</p>\r\n                            <p className=\"guest-btn \" onClick={() => onSelectGuests('kids', 'plus')}><FaPlus />\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"guest-card flex space-between  align-center\">\r\n                        <div className=\"column\">\r\n                            <p className=\"guest-type\">Infants</p>\r\n                            <p className=\"guest-desc\">Under 2</p>\r\n                        </div>\r\n                        <div className=\"guest-amount \">\r\n                            <p className={infants ? \"guest-btn\" : \"guest-btn zero\"} onClick={() => onSelectGuests('infants', 'minus')}><FaMinus /></p>\r\n                            <p className=\"guest-amount-count\">{infants?infants:0}</p>\r\n                            <p className=\"guest-btn\" onClick={() => onSelectGuests('infants', 'plus')}><FaPlus />\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>}\r\n            </div>)\r\n    }\r\n}\r\n","import React from 'react'\r\nimport 'react-dates/initialize';\r\nimport { connect } from 'react-redux'\r\nimport { onAddOrder } from '../../store/order.actions'\r\nimport { FaStar, FaAngleDown, FaAngleUp } from 'react-icons/fa'\r\nimport 'react-dates/lib/css/_datepicker.css';\r\nimport { DatesPicker2 } from '../dates-picker2.jsx';\r\nimport { GuestsCheckoutModal } from './_guests-modal';\r\nimport { utilService } from '../../services/util.service';\r\n\r\nclass _CheckoutForm extends React.Component {\r\n\r\n    state = {\r\n        trip: {\r\n            startDate: this.props.startDate,\r\n            endDate: this.props.endDate,\r\n            guests: { adults: this.props.filterBy.adultNumber, kids: this.props.filterBy.kidsNumber, infants: this.props.filterBy.infantsNumber }\r\n        },\r\n        isGuestPopupOn: false,\r\n        isCheckoutToReserve: false,\r\n        isStayReserved: false,\r\n        isReqModalOpen: false,\r\n        datesModal: false\r\n\r\n    }\r\n    componentDidMount() {\r\n        const { stay, filterBy } = this.props\r\n        window.addEventListener('scroll', (ev) => { this.setState({ datesModal: false }) })\r\n        this.setState({\r\n            trip: {\r\n                startDate: filterBy.startDate,\r\n                endDate: filterBy.endDate,\r\n                guests: { adults: filterBy.adultNumber, kids: filterBy.kidsNumber, infants: filterBy.infantsNumber },\r\n                loc: stay.loc\r\n            },\r\n            isGuestPopupOn: false,\r\n            isCheckoutToReserve: false,\r\n            datesModal: false,\r\n            datesModalPos: {}\r\n        })\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener('scroll', (ev) => { this.setState({ datesModal: false }) })\r\n    }\r\n    onSelectDates = ({ startDate, endDate }) => {\r\n        if (startDate) {\r\n            this.setState(prevState => ({ trip: { ...prevState.trip, startDate } }))\r\n        }\r\n        if (endDate) {\r\n            this.setState(prevState => ({ trip: { ...prevState.trip, endDate } }))\r\n        }\r\n    }\r\n\r\n    toTimestamp = (strDate) => {\r\n        var datum = Date.parse(strDate);\r\n        return datum / 1000;\r\n    }\r\n\r\n    toggleDatesModal = (val) => {\r\n        this.setState({ datesModal: true, isGuestPopupOn: false })\r\n    }\r\n\r\n    timeToShow = (date, val) => {\r\n        var timeStamp = Date.parse(date);\r\n        var time = new Date(timeStamp);\r\n        var day = \"0\" + time.getDate();\r\n        var month = \"0\" + (time.getMonth() + 1);\r\n        var year = \"0\" + time.getFullYear();\r\n        var formattedTime = day.substr(-2) + '.' + month.substr(-2) + '.' + year.substr(-2);\r\n        return formattedTime\r\n    }\r\n\r\n    getTripPrice = (startDate, endDate, price) => {\r\n        if (!startDate || !endDate) {\r\n            this.setState(prevState => ({ isReqModalOpen: true }), () => {\r\n                setTimeout(() => {\r\n                    this.setState(prevState => ({ isReqModalOpen: false }))\r\n                }, 2000);\r\n\r\n            })\r\n            return\r\n        }\r\n        const start = this.toTimestamp(startDate)\r\n        const end = this.toTimestamp(endDate)\r\n        const timeDiff = (end - start)\r\n        const totalNights = (timeDiff / 86400)\r\n        const totalPrice = price * totalNights + 200\r\n        this.setState(prevState => ({ trip: { ...prevState.trip, totalNights, totalPrice }, isCheckoutToReserve: true }));\r\n    }\r\n\r\n    toggleGuestsModal = () => {\r\n        this.setState({ datesModal: false })\r\n        this.setState({ isGuestPopupOn: !this.state.isGuestPopupOn })\r\n        this.calcGuestNum()\r\n    }\r\n    onSelectGuests = (val, action) => {\r\n\r\n        const { stay } = this.props\r\n        var { adults, kids, infants } = this.state.trip.guests\r\n        switch (val) {\r\n            case 'adults':\r\n                if (action === 'minus') adults = adults - 1\r\n                if (adults < 0) adults = 0\r\n                if (adults + kids + infants >= stay.capacity) return\r\n                if (action === 'plus') adults = adults + 1\r\n                break;\r\n            case 'kids':\r\n                if (action === 'minus') kids = kids - 1\r\n                if (kids < 0) kids = 0\r\n                if (adults + kids + infants >= stay.capacity) return\r\n                if (action === 'plus') kids = kids + 1\r\n                break;\r\n            case 'infants':\r\n                if (action === 'minus') infants = infants - 1\r\n                if (infants < 0) infants = 0\r\n                if (adults + kids + infants >= stay.capacity) return\r\n                if (action === 'plus') infants = infants + 1\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        this.setState(prevState => ({ ...prevState, trip: { ...prevState.trip, guests: { adults, kids, infants } } }));\r\n    }\r\n\r\n    calcGuestNum = () => {\r\n        const { adults, kids, infants } = this.state.trip.guests\r\n        var res = +adults + +kids + +infants\r\n        return res\r\n    }\r\n\r\n    onBookTrip = (stay, trip) => {\r\n        if (!this.props.user) {\r\n        } else {\r\n            const { _id, fullname, imgUrl, username } = this.props.user\r\n            trip.buyer = { _id, fullname, imgUrl, username }\r\n            trip.startDate = this.toTimestamp(trip.startDate)\r\n            trip.endDate = this.toTimestamp(trip.endDate)\r\n            trip.host = stay.host\r\n            trip.stay = {\r\n                _id: stay._id,\r\n                imgUrls: stay.imgUrls,\r\n                name: stay.name,\r\n                reviewsAvg: stay.reviewsAvg\r\n            }\r\n            trip.status = 'pending'\r\n            trip.demoReviews = utilService.getRandomIntInclusive(50, 300)\r\n            this.props.onAddOrder(trip)\r\n            this.setState({\r\n                trip: {\r\n                    startDate: null,\r\n                    endDate: null,\r\n                    guests: { adults: 1, kids: 0, infants: 0 }\r\n                },\r\n                isGuestPopupOn: false,\r\n                isCheckoutToReserve: false,\r\n                isStayReserved: true\r\n            })\r\n            setTimeout(() => {\r\n                this.setState({ isStayReserved: false })\r\n            }, 2000);\r\n        }\r\n\r\n    }\r\n    onCloseModal = (ev) => {\r\n        this.setState({ isGuestPopupOn: false, datesModal: false })\r\n\r\n    }\r\n    getMouseCord = (ev) => {\r\n\r\n    }\r\n    getBtnDivs = () => {\r\n        let divStr = []\r\n        for (let i = 0; i < 100; i++) {\r\n            divStr.push(<div key={i + 1} className=\"cell\" ></div >)\r\n        }\r\n        return divStr\r\n    }\r\n    render() {\r\n        const { stay } = this.props\r\n        const { trip, isCheckoutToReserve, isGuestPopupOn, datesModal, isStayReserved, isReqModalOpen } = this.state\r\n        const { price } = stay\r\n        const { startDate, endDate } = trip\r\n        return (\r\n            <section className=\"checkout-popup flex column\">\r\n                {(isGuestPopupOn || datesModal) && <div className=\"checkout-screen\" onClick={(ev) => { this.onCloseModal(ev) }}></div>}\r\n                <section className=\"checkout-container flex\">\r\n                    <div className=\"checkout-form-container\">\r\n                        <div className=\"checkout-form-header flex space-between align-center\" onClick={() => { this.onCloseModal(false) }}>\r\n                            <div className=\"order-price-container \">\r\n                                <p className=\"order-price\"><span>${price}</span> / night</p>\r\n                            </div>\r\n                            <div className=\"check-rating-container flex align-center\">\r\n                                <p className=\"checkout-star\"><FaStar size={13} color=\"#FF5A5F\" /></p>\r\n                                <p className=\"order-avg-score\">{stay.reviewsAvg}</p>\r\n                                <p className=\"order-reviews\">{`(${stay.reviews.length} reviews)`}</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-container\">\r\n                            {datesModal && <DatesPicker2 onSelectDates={this.onSelectDates} handleChange={this.handleChange} />}\r\n                            <div className=\"select-form\">\r\n                                <div className=\"dates-check-container\">\r\n\r\n                                    <div className=\"dates-container flex  \">\r\n                                        <div className=\"checkin-input flex column\" onClick={(ev) => {\r\n                                            const { bottom, left } = ev.target.getBoundingClientRect()\r\n                                            this.setState({ datesModalPos: { bottom, left } })\r\n                                            this.toggleDatesModal(true)\r\n                                        }}>\r\n\r\n                                            <label className=\"title\" htmlFor=\"\">CHECK-IN</label>\r\n                                            <label htmlFor=\"\" ><span>{startDate ? this.timeToShow(startDate, 'startDate') : 'Add date'}</span></label>\r\n                                        </div>\r\n                                        <div className=\"checkout-input flex column\" onClick={(ev) => {\r\n                                            ev.target.getBoundingClientRect()\r\n                                            this.toggleDatesModal(true)\r\n                                        }} >\r\n                                            <label className=\"title\" htmlFor=\"\" >CHECK-OUT</label>\r\n                                            <label htmlFor=\"\" ><span>{endDate ? this.timeToShow(endDate, 'startDate') : 'Add date'}</span></label>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"guests-check-container flex space-between\" onClick={() => { this.toggleGuestsModal() }}>\r\n                                    <div className=\"guests-input flex column\"  >\r\n                                        <label className=\"title\" htmlFor=\"\" >GUESTS </label>\r\n                                        <label htmlFor=\"\" ><span>{this.calcGuestNum() === 1 ? `${this.calcGuestNum()} guest` : `${this.calcGuestNum()} guests`}</span></label>\r\n                                    </div>\r\n                                    <div className=\"guest-select-arrow flex\">\r\n                                        {isGuestPopupOn ? <FaAngleUp /> : <FaAngleDown />}\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            {isCheckoutToReserve &&\r\n                                <div className=\"summed-trip-info\">\r\n                                    <div className=\"sum-line\">\r\n                                        <p>You won't be charged yet</p>\r\n                                    </div>\r\n                                    <div className=\"calc-price-container flex space-between\">\r\n                                        <p className=\"calc-price\">${price} x {trip.totalNights} nights</p>\r\n                                        <p>${trip.totalPrice}</p>\r\n                                    </div>\r\n                                    <div className=\"service-fee-container flex space-between\">\r\n                                        <p className=\"service-fee\">Service fee</p>\r\n                                        <p>$200</p>\r\n                                    </div>\r\n                                    <div className=\"total-price-container flex space-between\">\r\n                                        <p className=\"total\">Total</p>\r\n                                        <p className=\"total-price\">${trip.totalPrice}</p>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                            {isStayReserved && <div className=\"stay-msg-container\"><h1>Your order is waiting for approval</h1></div>}\r\n                            <div className=\"checkout-btn-container\" onClick={() => { (isCheckoutToReserve) ? this.onBookTrip(stay, trip) : this.getTripPrice(startDate, endDate, price) }}>\r\n                                {this.getBtnDivs()}\r\n                                <div className=\"content\">\r\n                                    {!isCheckoutToReserve && !isStayReserved &&\r\n                                        <button className=\"checkout-btn\" ><span>Check availabilty</span> </button>}\r\n                                    {isCheckoutToReserve &&\r\n                                        <button className=\"checkout-btn\" ><span>Reserve</span> </button>\r\n                                    }\r\n                                    {isStayReserved &&\r\n                                        <button className=\"checkout-btn\" ><span>Order pending</span> </button>\r\n                                    }\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div >\r\n                    {isReqModalOpen && <section className=\"checkout-popup-container flex align-center\">\r\n                        <p>Enter trip dates</p>\r\n                    </section>}\r\n                </section>\r\n                {/* <div className=\"report-container flex \">\r\n                    <FaFlag />\r\n                    <p>Report this listing</p>\r\n                </div> */}\r\n                {isGuestPopupOn && <GuestsCheckoutModal toggleGuestsModal={this.toggleGuestsModal} onSelectGuests={this.onSelectGuests} trip={trip} stay={stay} />}\r\n                {/* {isGuestPopupOn && } */}\r\n\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n        stay: state.stayModule.stay,\r\n        filterBy: state.stayModule.filterBy,\r\n\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onAddOrder\r\n}\r\n\r\nexport const CheckoutForm = connect(mapStateToProps, mapDispatchToProps)(_CheckoutForm)\r\n","import {  CloseRounded } from '@material-ui/icons';\r\nimport { Balcony, Checkroom, CoffeeMaker, Crib, Iron } from '@mui/icons-material';\r\nexport const ReadMore = ({ txt = '', size = 'short', onToogleReadModal }) => {\r\n    const onClosePopup = () => {\r\n        onToogleReadModal()\r\n    }\r\n    return (\r\n        <div className={`popup-container ${size}`}>\r\n            <div className=\"close-btn-container flex \">\r\n                <button className=\"close-btn flex align-center justify-center\" onClick={() => { onClosePopup() }}><CloseRounded className=\"close-icon\"/></button>\r\n            </div>\r\n            <article className=\"popup-txt-container\">\r\n                <p>{txt}</p>\r\n            </article>\r\n        </div>\r\n    )\r\n}","import { Component } from \"react\";\r\nimport { FaUserAlt } from \"react-icons/fa\";\r\nimport { utilService } from \"../../services/util.service\";\r\nimport { ReadMore } from \"../_read-more\";\r\n\r\nexport class ReviewsPreview extends Component {\r\n    state = {\r\n        isReadMoreOn: false\r\n    }\r\n    onToogleReadModal = () => {\r\n        this.setState({ isReadMoreOn: !this.state.isReadMoreOn })\r\n    }\r\n    render() {\r\n        const { review } = this.props\r\n\r\n        const { isReadMoreOn } = this.state\r\n        return (\r\n            <div className=\"review-card-container\">\r\n                <li >\r\n                    <div className=\"review-card flex column align-center\" >\r\n                        <div className=\"review-user-info flex\">\r\n                            {!review.by.imgUrl ? <div className=\"user-review-img-container flex align-center justify-content\">\r\n                                <FaUserAlt />\r\n                            </div> : <div className=\"user-review-img-container\">\r\n                                <img src={review.by.imgUrl} alt=\"\" />\r\n                            </div>}\r\n                            <div className=\"txt-info-container flex column\">\r\n                                <div className=\"review-username-container\">\r\n                                    <p className=\"review-username\">{review.by.fullname} </p>\r\n                                </div>\r\n                                <div className=\"review-username-container\">\r\n                                    {typeof review.createdAt === 'number' ? <p >{utilService.timeToShow(review.createdAt)} </p> : <p >{review.createdAt} </p>}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"review-txt-container\">\r\n\r\n                            {review.txt && review.txt.length >= 100 && (\r\n                                <p >{review.txt.substring(0, 100)} {review.txt.length > 100 && (<span className=\"read-more\" onClick={this.onToogleReadModal}><br /> More...</span>)}</p>\r\n                            )}\r\n\r\n                            {review.txt && review.txt.length < 100 && <p  >{review.txt}</p>}\r\n                        </div>\r\n\r\n                    </div>\r\n                </li >\r\n                {isReadMoreOn && <ReadMore onToogleReadModal={this.onToogleReadModal} txt={review.txt} />}\r\n\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n","// import { FaStar } from 'react-icons/fa'\r\nimport { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { ReviewsPreview } from './reviews-preview'\r\n// import { ReviewAvg } from './_reviews-avg'\r\n\r\nclass _ReviewsList extends Component {\r\n    render() {\r\n        const { reviews } = this.props.stay\r\n        const { isReadMoreOn, onToogleReadModal } = this.props\r\n        return (\r\n            <section className=\"reviews-list-container flex \">\r\n                {!reviews.length && <section className=\"reviews-container flex \">\r\n                    <p>No reviews to show...</p>\r\n                </section>\r\n                }\r\n                {reviews.length ? <section>\r\n                    <div>\r\n\r\n                        {/* <div className=\"reviews-avgs-container\">\r\n                        <ReviewAvg reviews={reviews} />\r\n                    </div> */}\r\n                        <ul className=\"reviews-container flex space-between\">\r\n                            {reviews.slice(0, 6).map(review => <ReviewsPreview review={review} key={review.id} onToogleReadModal={onToogleReadModal} isReadMoreOn={isReadMoreOn} />)}\r\n                        </ul>\r\n                        {reviews?.length &&\r\n                            <div>\r\n                                <button className=\"show-reviews-btn\">Show all {reviews.length} reviews</button>\r\n                            </div>}\r\n                    </div>\r\n                </section> : ''\r\n                }\r\n\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stay: state.stayModule.stay,\r\n    }\r\n}\r\n\r\nexport const ReviewsList = connect(mapStateToProps)(_ReviewsList)","\r\nimport { Component } from 'react';\r\nimport { Map, InfoWindow, Marker, GoogleApiWrapper } from 'google-maps-react';\r\n\r\nclass _StayMap extends Component {\r\n\r\n    state = {\r\n        center: {\r\n            lat: '',\r\n            lng: ''\r\n        },\r\n        loc: {\r\n            lat: '',\r\n            lng: '',\r\n            address: '',\r\n            country: ''\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        const loc = this.props.location\r\n        this.setState({ center: { lng: loc.lng, lat: loc.lat }, loc })\r\n    }\r\n    onMapClicked = (props, map, ev) => {\r\n        this.setState({ center: { lat: ev.latLng.lat(), lng: ev.latLng.lng() } })\r\n    }\r\n\r\n    onMarkerClicked = () => {\r\n        this.setState({ isInfoWindowOn: true })\r\n    }\r\n\r\n    onInfoWindowClose = () => {\r\n        this.setState({ isInfoWindowOn: false })\r\n    }\r\n    render() {\r\n        const { lat, lng } = this.state.loc\r\n\r\n        const style = {\r\n            width: '100%',\r\n            height: '400px',\r\n            position: \"relative\",\r\n            margin: \"0 auto\"\r\n        }\r\n        return (\r\n            <section className=\"main-map-container\">\r\n                <div className=\"map-title-container\">\r\n                    <h1 className=\"map-title\">Where you’ll be</h1>\r\n                </div>\r\n                <div className=\"map-container\">\r\n                    {lat && <Map\r\n                        className=\"stay-map\"\r\n                        containerStyle={style}\r\n                        google={this.props.google}\r\n                        zoom={15}\r\n                        initialCenter={this.state.center}\r\n                        onClick={this.onMapClicked}\r\n                        center={this.state.center}\r\n                    >\r\n                        <Marker\r\n                            position={{ lat, lng }}\r\n                            name={'Current location'}\r\n                        />\r\n\r\n                        <InfoWindow\r\n                            onClose={this.onInfoWindowClose}\r\n                            position={this.state.center}\r\n                            visible={this.state.isInfoWindowOn}\r\n                        >\r\n                            <div>\r\n                                <h1>Hello</h1>\r\n                            </div>\r\n                        </InfoWindow>\r\n                    </Map>}\r\n                    <div>\r\n                        {this.state.loc.address && <h1 className=\"address-title\">{this.state.loc.address.split(',')[0]} , {this.state.loc.address.split(',')[1]}</h1>}\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        );\r\n    }\r\n}\r\n\r\nexport const StayMap = GoogleApiWrapper({\r\n    apiKey: ('AIzaSyCUGOKMnw7Uk2ksGmOSmUZKdpOyeWxg27Y')\r\n})(_StayMap)","import { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { TextareaAutosize } from '@material-ui/core';\r\nimport { onEditStay } from '../../store/stay.actions.js'\r\nimport { loadUser } from '../../store/user.actions'\r\nimport { utilService } from '../../services/util.service.js';\r\nimport Rating from 'react-rating';\r\nimport { FaStar } from 'react-icons/fa';\r\n\r\nclass _AddReview extends Component {\r\n    state = {\r\n        newReview: {\r\n            by: {\r\n                fullname: this.props.user.fullname,\r\n                _id: this.props.user._id,\r\n                imgUrl: this.props.user.imgUrl\r\n            },\r\n            createdAt: null,\r\n            txt: '',\r\n            id: utilService.makeId(8),\r\n            cleanliness: null,\r\n            communication: null,\r\n            checkIn: null,\r\n            accuracy: null,\r\n            location: null,\r\n            value: null\r\n        }\r\n\r\n    }\r\n    componentDidMount() {\r\n        this.clearReview()\r\n        if (this.props.user) this.props.loadUser(this.props.user._id)\r\n        this.setState({\r\n            by: {\r\n                fullname: this.props.user.fullname,\r\n                _id: this.props.user._id,\r\n                imgUrl: this.props.user.imgUrl\r\n            }\r\n        })\r\n    }\r\n    onRemove = async reviewId => {\r\n        await this.props.removeReview(reviewId)\r\n        // this.props.history.push('/login')\r\n    }\r\n    clearReview = () => {\r\n        this.setState({\r\n            newReview: {\r\n                createdAt: null,\r\n                txt: '',\r\n                id: utilService.makeId(),\r\n                cleanliness: null,\r\n                communication: null,\r\n                checkIn: null,\r\n                accuracy: null,\r\n                location: null,\r\n                value: null\r\n            }\r\n        })\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        const field = target.name\r\n        const value = target.type === 'number' ? +target.value : target.value\r\n        this.setState(prevState => ({ newReview: { ...prevState.newReview, [field]: value } }))\r\n    }\r\n    changeRating = (score, name) => {\r\n        this.setState(prevState => ({ newReview: { ...prevState.newReview, [name]: score } }))\r\n    }\r\n\r\n    formSubmited = (ev) => {\r\n        ev.preventDefault()\r\n        const { stay } = this.props\r\n        if (this.props.user._id) {\r\n            this.setState(prevState => ({ newReview: { ...prevState.newReview, createdAt: Date.now() } }), () => {\r\n                const review = this.state.newReview\r\n                review.by = {\r\n                    fullname: this.props.user.fullname,\r\n                    _id: this.props.user._id,\r\n                    imgUrl: this.props.user.imgUrl\r\n                }\r\n\r\n                stay.reviews = [review , ...stay.reviews]\r\n                console.log('before send', stay);\r\n                this.props.onEditStay(stay)\r\n                this.clearReview()\r\n            })\r\n        }\r\n    }\r\n    getBtnDivs = () => {\r\n        let divStr = []\r\n        for (let i = 0; i < 100; i++) {\r\n            divStr.push(<div key={i} className=\"cell\" ></div >)\r\n        }\r\n        return divStr\r\n    }\r\n    render() {\r\n        const { cleanliness, communication, checkIn, accuracy, location, value, txt } = this.state.newReview\r\n        // const reviewStr = { leftReview: ['cleanliness', 'communication', 'checkIn'], rightReview: ['accuracy', 'location', 'value'] }\r\n        const style = {\r\n            padding: '20px',\r\n            width: '100%',\r\n            height: ' 150px',\r\n            resize: 'none',\r\n            borderRadius: '13px',\r\n            borderColor: ' #bdbcbc',\r\n            fontFamily: \"circular-book\",\r\n            fontSize: \"1rem\"\r\n        }\r\n        return (\r\n            <div >\r\n                <div className=\"add-review-title-container\">\r\n                    <h3>Add review</h3>\r\n                </div>\r\n                <form action=\"\" className=\"add-form flex column \" onSubmit={this.formSubmited} >\r\n                    <div className=\" add-review-container flex \">\r\n\r\n                        {/* <div className=\"line flex\">\r\n                            <p>Cleanliness</p>\r\n                            <Rating\r\n                                onChange={(ev) => this.changeRating(ev, 'cleanliness')}\r\n                                initialRating={cleanliness}\r\n                                fullSymbol={<FaStar size={13} color=\"#FF5A5F\" />}\r\n                                emptySymbol={<FaStar size={13} color=\"lightgray\" border=\"1px solid #FF5A5F\" />}\r\n                            />\r\n                        </div> */}\r\n                        <div className=\"left-review\">\r\n                            <div className=\"line flex\">\r\n                                <p>Cleanliness</p>\r\n                                <Rating\r\n                                    onChange={(ev) => this.changeRating(ev, 'cleanliness')}\r\n                                    initialRating={cleanliness}\r\n                                    fullSymbol={<FaStar size={13} color=\"#FF5A5F\" />}\r\n                                    emptySymbol={<FaStar size={13} color=\"lightgray\" border=\"1px solid #FF5A5F\" />}\r\n                                />\r\n                            </div>\r\n                            <div className=\"line flex\">\r\n                                <p>Communication</p>\r\n                                <Rating\r\n                                    onChange={(ev) => this.changeRating(ev, 'communication')}\r\n                                    initialRating={communication}\r\n                                    fullSymbol={<FaStar size={13} color=\"#FF5A5F\" />}\r\n                                    emptySymbol={<FaStar size={13} color=\"lightgray\" border=\"1px solid #FF5A5F\" />}\r\n                                />\r\n                            </div>\r\n                            <div className=\"line flex\">\r\n                                <p>Check in</p>\r\n                                <Rating\r\n                                    onChange={(ev) => this.changeRating(ev, 'checkIn')}\r\n                                    initialRating={checkIn}\r\n                                    fullSymbol={<FaStar size={13} color=\"#FF5A5F\" />}\r\n                                    emptySymbol={<FaStar size={13} color=\"lightgray\" border=\"1px solid #FF5A5F\" />}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"right-review\">\r\n                            <div className=\"line flex\">\r\n                                <p>Accuracy</p>\r\n                                <Rating\r\n                                    onChange={(ev) => this.changeRating(ev, 'accuracy')}\r\n                                    initialRating={accuracy}\r\n                                    fullSymbol={<FaStar size={13} color=\"#FF5A5F\" />}\r\n                                    emptySymbol={<FaStar size={13} color=\"lightgray\" border=\"1px solid #FF5A5F\" />}\r\n                                />\r\n                            </div>\r\n                            <div className=\"line flex\">\r\n                                <p>Location</p>\r\n                                <Rating\r\n                                    onChange={(ev) => this.changeRating(ev, 'location')}\r\n                                    initialRating={location}\r\n                                    fullSymbol={<FaStar size={13} color=\"#FF5A5F\" />}\r\n                                    emptySymbol={<FaStar size={13} color=\"lightgray\" border=\"1px solid #FF5A5F\" />}\r\n                                />\r\n                            </div>\r\n                            <div className=\"line flex\">\r\n                                <p>Value</p>\r\n                                <Rating\r\n                                    onChange={(ev) => this.changeRating(ev, 'value')}\r\n                                    initialRating={value}\r\n                                    fullSymbol={<FaStar size={13} color=\"#FF5A5F\" />}\r\n                                    emptySymbol={<FaStar size={13} color=\"lightgray\" border=\"1px solid #FF5A5F\" />}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"add-txt-container flex\">\r\n                        <TextareaAutosize\r\n                            style={style}\r\n                            value={txt}\r\n                            placeholder=\"Write you opinion about this stay...\"\r\n                            className=\"review-input\"\r\n                            onChange={this.handleChange}\r\n                            name=\"txt\"\r\n                            autoComplete=\"off\" />\r\n                    </div>\r\n                    <div className=\"add-review-btn flex\">\r\n\r\n                        <div className=\"checkout-btn-container\" onClick={this.formSubmited}>\r\n                            {this.getBtnDivs()}\r\n                            <div className=\"content\">\r\n                                <button type=\"submit\" className=\"checkout-btn\" ><span>Add</span></button>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div >\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onEditStay,\r\n    loadUser\r\n}\r\nexport const AddReview = connect(mapStateToProps, mapDispatchToProps)(_AddReview)\r\n// export const AddReview = connect(mapStateToProps)(_AddReview)","import React from \"react\";\r\nimport { FaStar } from \"react-icons/fa\";\r\n\r\nexport class ReviewAvg extends React.Component {\r\n    state = {\r\n        cleanliness: null,\r\n        communication: null,\r\n        checkIn: null,\r\n        accuracy: null,\r\n        location: null,\r\n        value: null,\r\n        totalAvg: null\r\n    }\r\n    componentDidMount() {\r\n        const types = [\"cleanliness\", \"communication\", \"checkIn\", \"accuracy\", \"location\", \"value\"]\r\n        types.forEach(type => {\r\n            this.setState(prevState => ({ ...prevState, [type]: this.getAvrage(type) }), () => {\r\n                this.getTotalAvg()\r\n            })\r\n        })\r\n\r\n\r\n    }\r\n    getAvrage = (type) => {\r\n        const { reviews } = this.props\r\n        let avgScore = 0;\r\n        reviews.map(review => avgScore += +review[type])\r\n        avgScore = ((avgScore / reviews.length)).toFixed(1)\r\n        // if (typeof +avgScore === NaN) avgScore = 0\r\n        return avgScore\r\n    }\r\n    getTotalAvg = () => {\r\n        let totalReviewAvg = 0;\r\n        Object.keys(this.state).forEach((key, index) => {\r\n            totalReviewAvg += +this.state[key]\r\n        })\r\n        totalReviewAvg = (totalReviewAvg / 6).toFixed(1)\r\n        // if (typeof +totalReviewAvg === NaN) totalReviewAvg = 0\r\n        this.setState(prevState => ({ ...prevState, totalAvg: totalReviewAvg }), () => {\r\n            this.props.setReviewsAvg(+totalReviewAvg)\r\n        })\r\n\r\n    }\r\n    render() {\r\n        const { reviews } = this.props\r\n        const types = this.state\r\n        return (\r\n            <section>\r\n                <div className=\"reviews-sec-title-container\">\r\n                    <h1 className=\"reviews-section-title flex\" ><FaStar\r\n                        size={15}\r\n\r\n                        color=\"#FF5A5F\" /> <span>{this.state.totalAvg}</span> <span>Reviews</span> <span>•</span>{reviews.length} Reviews</h1>\r\n                </div>\r\n                <div className=\"review-avg-container flex space-between\" >\r\n                    <div className=\"left-review\">\r\n                        {Object.keys(types).map((key, index) => {\r\n                            if (index <= 2) {\r\n                                return <div key={key} className=\"line flex align-center space-between\">\r\n                                    <p className=\"line-title\">{key.charAt(0).toUpperCase()}{key.slice(1)}</p>\r\n                                    <div className=\"loader-container flex align-center space-between\">\r\n                                        <div className=\"line-loader-container\">\r\n                                            <div className=\"line-loader\" style={{ width: `${+this.state[key] * 20}%` }}></div>\r\n                                        </div>\r\n                                        <p className=\"review-score\">{this.state[key]}</p>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        })}\r\n                    </div>\r\n                    <div className=\"right-review\">\r\n                        {Object.keys(types).map((key, index) => {\r\n                            if (index > 2 && index <= 5) {\r\n                                return <div key={key} className=\"line flex align-center space-between\">\r\n                                    <p className=\"line-title\">{key.charAt(0).toUpperCase()}{key.slice(1)}</p>\r\n                                    <div className=\"loader-container flex align-center space-between\">\r\n                                        <div className=\"line-loader-container\">\r\n                                            <div className=\"line-loader\" style={{ width: `${+this.state[key] * 20}%` }}></div>\r\n                                        </div>\r\n                                        <p className=\"review-score\">{this.state[key]}</p>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        })}\r\n                    </div>\r\n                </div >\r\n            </section >\r\n        )\r\n    }\r\n}\r\n","import { utilService } from \"../services/util.service\"\r\nimport { CloseRounded } from '@material-ui/icons';\r\n\r\nexport function AmenitiesModal({ amenities, onToggleAmenitiesModal }) {\r\n    return (\r\n        <div className=\"amenities-modal-wrapper flex justify-center\">\r\n            <section className=\"amenities-modal-container \">\r\n                <div className=\"close-modal-btn-container flex align-center\">\r\n                    <div className=\"close-btn\">\r\n                        <p onClick={() => { onToggleAmenitiesModal() }}> <CloseRounded /> </p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"amenities-modal-title\">\r\n                    <h4>What this place offers</h4>\r\n                </div>\r\n\r\n                <section className=\"amenities-list-container\">\r\n                    <ul className=\"amenities-list\">\r\n                        {amenities.map(amenity => {\r\n                            return <li key={amenity} className=\"amenity-item flex\">\r\n                                <div className=\"amenity-icon-container\">\r\n                                    {utilService.getAmenitiesIcons(amenity)}\r\n                                </div>\r\n                                <div className=\"amenity-txt\">\r\n                                    <p>{amenity}</p>\r\n                                </div>\r\n                            </li>\r\n                        })}\r\n                    </ul>\r\n                </section>\r\n            </section>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { loadStay, onEditStay } from '../store/stay.actions.js'\r\nimport { loadUser, onToggleLikedStay } from '../store/user.actions.js'\r\nimport { BasicInfo } from '../cmps/stay-details/details-base-info'\r\nimport { AssetSum } from '../cmps/stay-details/details-asset-sum'\r\nimport { AssetAmenities } from '../cmps/stay-details/details-amenities'\r\nimport 'react-dates/initialize'\r\nimport 'react-dates/lib/css/_datepicker.css';\r\nimport { CheckoutForm } from '../cmps/stay-details/details-checkout-form'\r\nimport { ReviewsList } from '../cmps/stay-details/reviews-list'\r\nimport { StayMap } from '../cmps/stay-details/stay-map'\r\nimport { AddReview } from '../cmps/stay-details/add-review'\r\nimport { ReviewAvg } from '../cmps/stay-details/_reviews-avg'\r\nimport loader from '../assets/img/three-dots.svg'\r\nimport { socketService } from '../services/socket.service'\r\nimport { AmenitiesModal } from '../cmps/amenities-modal.jsx'\r\nimport { FaUserAlt } from 'react-icons/fa'\r\nclass _StayDetails extends React.Component {\r\n    state = {\r\n        stayReviews: [],\r\n        trip: {\r\n            startDate: null,\r\n            endDate: null,\r\n            guests: { adults: 1, kids: 0, infants: 0 },\r\n\r\n        },\r\n        isReadMoreOn: false,\r\n        isLiked: null,\r\n        isMobilePics: false,\r\n        isAmenitiesModalOpen: false\r\n    }\r\n    setMobliePicsDisplay = () => {\r\n        if (window.innerWidth <= 780) {\r\n            this.setState({ isMobilePics: true })\r\n        } else {\r\n            this.setState({ isMobilePics: false })\r\n        }\r\n    }\r\n    async componentDidMount() {\r\n        this.setMobliePicsDisplay()\r\n        const { user } = this.props\r\n        const { stayId } = this.props.match.params\r\n        window.addEventListener('resize', this.setMobliePicsDisplay)\r\n        if (!stayId) this.props.history.push('/')\r\n        else await this.props.loadStay(stayId)\r\n        window.scrollTo(0, 0)\r\n        if (this.props.stay) {\r\n            socketService.setup()\r\n            socketService.emit('setHost', this.props.stay.host._id)\r\n            // socketService.on('getNotif', (ev) => {})\r\n        }\r\n        if (user) this.props.loadUser(user._id)\r\n\r\n        this.isStayLiked()\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener('resize', this.setMobliePicsDisplay)\r\n        // socketService.off('getNotif', (ev) => {})\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        const { user } = this.props\r\n        if (prevState.isLiked !== this.state.isLiked) {\r\n            this.isStayLiked()\r\n            if (user) this.props.loadUser(user._id)\r\n        }\r\n    }\r\n\r\n    onToogleLikeStay = () => {\r\n        const { user, stay } = this.props\r\n        const { isLiked } = this.state\r\n        if (user) {\r\n            this.setState({ isLiked: !isLiked }, () => {\r\n                this.props.onToggleLikedStay(stay._id, !isLiked, user._id)\r\n            })\r\n        }\r\n    }\r\n\r\n    isStayLiked = () => {\r\n        const { user, stay } = this.props\r\n        if (user && stay) {\r\n            if (user.mySaves) {\r\n                const isLiked = user.mySaves.filter(saved => saved === stay._id)\r\n                if (isLiked.length) {\r\n                    this.setState({ isLiked: true })\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    handleChange = ({ startDate, endDate }) => {\r\n        if (startDate) {\r\n            this.setState(prevState => ({ trip: { ...prevState.trip, startDate } }))\r\n        }\r\n        if (endDate) {\r\n            this.setState(prevState => ({ trip: { ...prevState.trip, endDate } }))\r\n        }\r\n    }\r\n\r\n    setReviewsAvg = (avgScore) => {\r\n        const { stay } = this.props\r\n        stay.reviewsAvg = avgScore\r\n        this.props.onEditStay(stay)\r\n        this.setState(prevState => ({ stay: { ...prevState.stay, reviewsAvg: avgScore } }))\r\n\r\n    }\r\n    onToggleAmenitiesModal = () => {\r\n        this.setState({ isAmenitiesModalOpen: !this.state.isAmenitiesModalOpen })\r\n\r\n    }\r\n    render() {\r\n        const { isReadMoreOn, isLiked, isMobilePics, isAmenitiesModalOpen } = this.state\r\n        const { stay, user } = this.props\r\n        return (\r\n            <section className=\"stay-details-section main-container\">\r\n                {(!stay) && <div className=\"loader-container flex align-center justify-center\"><img src={loader} alt=\"loader\" /></div>}\r\n                {stay && <div className=\"stay-details-container\">\r\n                    <BasicInfo isMobilePics={isMobilePics} user={user} stay={stay} isLiked={isLiked} reviewsAvg={stay.reviewsAvg} onToogleLikeStay={this.onToogleLikeStay} />\r\n                    <section className=\" details-main-conatiner flex\">\r\n                        <div className=\"details-left-container\">\r\n                            <section className=\"host-info-container flex align-center space-between\">\r\n                                <div className=\"asset-short-info flex\">\r\n                                    <div className=\"host-by\">\r\n                                        <p>{`${stay.assetType} hosted by ${stay.host.fullname}`}</p>\r\n                                    </div>\r\n                                    <div className=\"asset-info\">\r\n                                        <p><span>{`${stay.capacity} guests`}</span> • <span >{`${stay.host.fullname} is Superhost!`}</span> •  <span>{`${stay.capacity} beds`}</span> </p>\r\n                                    </div>\r\n                                </div>\r\n                                {!stay.host.imgUrl ? <div className=\"host-img-container\">\r\n                                    <FaUserAlt />\r\n                                </div> : <div className=\"host-img-container\">\r\n                                    <img src={stay.host.imgUrl} alt=\"\" />\r\n                                </div>}\r\n                            </section>\r\n                            <AssetSum />\r\n                            <section className=\"asset-desc-container\">\r\n                                <div className=\"asset-desc\">\r\n                                    {stay.summary > 100 ? <p >{stay.summary.substring(0, 100)} <span className=\"read-more\" > More...</span></p> : <p  >{stay.summary}</p>}\r\n                                </div>\r\n                            </section>\r\n                            <section className=\"amenities-container\">\r\n                                <h4>What this place offers</h4>\r\n                                <div >\r\n                                    <AssetAmenities amenities={stay.amenities} />\r\n                                </div>\r\n                                {stay.amenities.length > 10 && <div>\r\n                                    <button className=\"amenities-btn\" onClick={this.onToggleAmenitiesModal}>Show all {stay.amenities.length} amenities</button>\r\n                                </div>}\r\n                            </section>\r\n                        </div>\r\n                        <div className=\"details-right-container\">\r\n                            <CheckoutForm reviewsAvg={stay.reviewsAvg} />\r\n                        </div>\r\n                    </section>\r\n                    <section className=\"page-bottom-container\">\r\n                        <div className=\"reviews-section-container\" >\r\n                            <ReviewAvg reviews={stay.reviews} setReviewsAvg={this.setReviewsAvg} />\r\n                            <ReviewsList isReadMoreOn={isReadMoreOn} onToogleReadModal={this.onToogleReadModal} />\r\n                            {user && <div className=\"add-review\">\r\n                                <AddReview stay={stay} />\r\n                            </div>}\r\n                        </div>\r\n                        <StayMap location={stay.loc} />\r\n                    </section>\r\n                </div >}\r\n                {isAmenitiesModalOpen ? <div className={\"amenities-screen screen-open \"} onClick={this.onToggleAmenitiesModal}></div> : ''}\r\n\r\n                {stay ? isAmenitiesModalOpen && <AmenitiesModal onToggleAmenitiesModal={this.onToggleAmenitiesModal} amenities={stay.amenities} /> : ''}\r\n                {/* {isReadMoreOn && <ReadMore txt={this.state.txt} onCloseReadModal={this.onCloseReadModal} />} */}\r\n            </section>\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n        stay: state.stayModule.stay,\r\n        reviews: state.reviewModule.reviews\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadStay,\r\n    onToggleLikedStay,\r\n    loadUser,\r\n    onEditStay\r\n}\r\nexport const StayDetails = connect(mapStateToProps, mapDispatchToProps)(_StayDetails)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { withRouter } from 'react-router'\r\nimport { socketService } from '../services/socket.service';\r\nimport { onLogin, onLogout, onSignup, loadUsers, updateUser, loadUser } from '../store/user.actions'\r\nclass _LoginSignup extends React.Component {\r\n    state = {\r\n        credentials: {\r\n            username: '',\r\n            password: '',\r\n            email: '',\r\n            fullname: ''\r\n        },\r\n        isSignup: false,\r\n        users: []\r\n    }\r\n    async componentDidMount() {\r\n\r\n        try {\r\n            await this.props.loadUsers()\r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n    clearState = () => {\r\n        const clearTemplate = {\r\n            credentials: {\r\n                username: '',\r\n                password: '',\r\n                email: '',\r\n                fullname: ''\r\n            },\r\n            isSignup: false\r\n        }\r\n        this.setState({ clearTemplate })\r\n    }\r\n\r\n    handleChange = (ev) => {\r\n        const field = ev.target.name;\r\n        const value = ev.target.value;\r\n        this.setState({ credentials: { ...this.state.credentials, [field]: value } });\r\n    }\r\n\r\n    onLogin = async (ev = null) => {\r\n        if (ev) ev.preventDefault();\r\n        if (!this.state.credentials.username) return;\r\n        await this.props.onLogin(this.state.credentials);\r\n        await this.props.loadUser(this.props.user._id)\r\n        const { user } = this.props\r\n        if (user.isHost) {\r\n            socketService.setup()\r\n            socketService.emit('setHost', user._id)\r\n            socketService.on('getNotif', async (notif) => {\r\n                // {\r\n                //     \"byUser\": {\r\n                //         \"fullName\": \"Houston Anderson\",\r\n                //         \"\": \" \",\r\n                //         \"_id\": \"615856f7cb4c045b46874e45\"\r\n                //     },\r\n                //     \"createdAt\": 1633891364304,\r\n                //     \"stay\": {\r\n                //         \"_id\": \"61585943cb4c045b46874e50\",\r\n                //         \"name\": \"New York, United States\"\r\n                //     },\r\n                //     \"txt\": \"Reserved your stay\",\r\n                //     \"isRead\": false\r\n                // }\r\n                const editedNotif = {\r\n                    notifTxt: `${notif.txt} at ${notif.stay.name}`,\r\n                    byUser: notif.byUser.fullName,\r\n                    // byUserImg: <div className=\"user-order-img-container flex align-center\" >\r\n                    //     <div>\r\n                    //         <img src={`https://i.pravatar.cc/100?u=${notif.byUser._id.substr(notif.byUser._id.length - 8)}`} alt=\"user-icon\" />\r\n                    //     </div>\r\n                    //     <p>{notif.byUser.fullName}</p>\r\n                    // </div>,\r\n                    isRead: notif.isRead,\r\n                    createdAt: notif.createdAt,\r\n                    // approveBtn: <div className=\"host-action-btns flex align-center\">\r\n                    //     <NavLink to={`host`} className=\"approve-order-btn\">Go to order</NavLink>\r\n                    // </div>\r\n                }\r\n                user.notifications = [editedNotif, ...user.notifications]\r\n                await this.props.updateUser(user)\r\n            })\r\n        }\r\n        this.clearState()\r\n    }\r\n\r\n    onSignup = (ev = null) => {\r\n        if (ev) ev.preventDefault();\r\n        if (!this.state.credentials.username || !this.state.credentials.password || !this.state.credentials.fullname) return;\r\n        this.props.onSignup(this.state.credentials);\r\n        this.clearState()\r\n        this.props.history.push('/')\r\n    }\r\n\r\n    toggleSignup = () => {\r\n        this.setState({ isSignup: !this.state.isSignup })\r\n    }\r\n    responseGoogle = (response) => {\r\n    }\r\n    render() {\r\n        const { username , email} = this.state.credentials;\r\n        const { isSignup } = this.state;\r\n        const { user, users } = this.props\r\n        return (\r\n            <div className=\"login-page\">\r\n                {!isSignup && !user && <form className=\"login-form\" onSubmit={this.onLogin}>\r\n                    {users && <select\r\n                        name=\"username\"\r\n                        value={username}\r\n                        onChange={this.handleChange}\r\n                    >\r\n                        <option value=\"\">Select User</option>\r\n                        {users.map(user => <option key={user._id} value={user.username}>{user.fullname}</option>)}\r\n                    </select>}\r\n                    <button>Login!</button>\r\n                </form>}\r\n                {/* <GoogleLoginCmp /> */}\r\n            </div>\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n        users: state.userModule.users\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onLogin,\r\n    onLogout,\r\n    onSignup,\r\n    loadUsers,\r\n    loadUser,\r\n    updateUser\r\n}\r\n\r\nexport const LoginSignup = withRouter(connect(mapStateToProps, mapDispatchToProps)(_LoginSignup))\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { withRouter } from 'react-router'\r\nimport { LoginSignup } from '../cmps/login-signup'\r\nimport { socketService } from '../services/socket.service'\r\nimport { userService } from '../services/user.service'\r\nimport { onLogin, onLogout, onSignup, updateUser, loadUser } from '../store/user.actions'\r\nclass _LoginPage extends React.Component {\r\n    state = {\r\n        credentials: {\r\n            username: '',\r\n            password: '',\r\n            email: '',\r\n            fullname: ''\r\n        },\r\n        isSignUp: false,\r\n        users: []\r\n    }\r\n    async componentDidMount() {\r\n        window.scrollTo(0, 0);\r\n        const users = await userService.getUsers()\r\n        this.setState({ users })\r\n    }\r\n\r\n    clearState = () => {\r\n        const clearTemplate = {\r\n            credentials: {\r\n                username: '',\r\n                password: '',\r\n                email: '',\r\n                fullname: ''\r\n            },\r\n            isSignUp: false\r\n        }\r\n        this.setState({ clearTemplate })\r\n    }\r\n\r\n    handleChange = (ev) => {\r\n        const field = ev.target.name;\r\n        const value = ev.target.value;\r\n        this.setState({ credentials: { ...this.state.credentials, [field]: value } });\r\n    }\r\n    onLogin = async (ev = null) => {\r\n        if (ev) ev.preventDefault();\r\n        if (!this.state.credentials.username) return;\r\n        await this.props.onLogin(this.state.credentials);\r\n        await this.props.loadUser(this.props.user._id)\r\n        const { user } = this.props\r\n        if (user.isHost) {\r\n            socketService.setup()\r\n            socketService.emit('setHost', user._id)\r\n            socketService.on('getNotif', async (notif) => {\r\n                const editedNotif = {\r\n                    notifTxt: `${notif.txt} at ${notif.stay.name}`,\r\n                    byUser: notif.byUser.fullName,\r\n                    byUserImg: `https://i.pravatar.cc/100?u=${notif.byUser._id.substr(notif.byUser._id.length - 8)}`,\r\n                    isRead: notif.isRead,\r\n                    createdAt: notif.createdAt,\r\n                }\r\n                user.notifications = [editedNotif, ...user.notifications]\r\n                await this.props.updateUser(user)\r\n            })\r\n        }\r\n        this.clearState()\r\n        this.props.history.goBack()\r\n    }\r\n    onSignup = async (ev = null) => {\r\n        if (ev) ev.preventDefault();\r\n        if (!this.state.credentials.username || !this.state.credentials.password || !this.state.credentials.fullname) return;\r\n        await this.props.onSignup(this.state.credentials);\r\n        this.clearState()\r\n        this.props.history.push('/')\r\n    }\r\n    toggleSignUp = (ev) => {\r\n        ev.preventDefault()\r\n        this.setState({ isSignUp: !this.state.isSignUp })\r\n    }\r\n    render() {\r\n        const { username, password, fullname, email } = this.state.credentials;\r\n        const { isSignUp, users } = this.state;\r\n        if (!users) return <div>loading...</div>\r\n        return (\r\n            <section className=\"items-center main-container page-padding\">\r\n                <form className=\"login flex column justify-center align-center\">\r\n                    <h1>{isSignUp ? 'Sign Up' : 'Login'}</h1>\r\n                    <h2>{isSignUp ? 'Welcome to AnyGo' : 'Welcome back'}</h2>\r\n                    <div className=\"input-fields flex column align-center\">\r\n                        {isSignUp && <div className='fullname-input'>\r\n                            <input className='flex' type=\"text\" name=\"fullname\" placeholder=\"fullname\" value={fullname} onChange={this.handleChange} required />\r\n                        </div>}\r\n                        <div className={isSignUp ? 'login-input border-top' : 'login-input'}>\r\n                            <input className='flex' type=\"text\" name=\"username\" placeholder=\"Username\" value={username} onChange={this.handleChange} required />\r\n                        </div>\r\n                        {isSignUp && <div className='fullname-input'>\r\n                            <input className='flex' type=\"email\" name=\"email\" placeholder=\"Email\" value={email} onChange={this.handleChange} required />\r\n                        </div>}\r\n                        <div className='password-input'>\r\n                            <input className='flex' type=\"password\" name=\"password\" placeholder=\"Password\" value={password} onChange={this.handleChange} required />\r\n                        </div>\r\n                    </div>\r\n                    <button className=\"login-btn\" onClick={isSignUp ? this.onSignup : this.onLogin}>{isSignUp ? 'Sign Up' : 'Login'}</button>\r\n                    <div className=\"new-user\">\r\n                        <button className=\"new-user-btn\" onClick={this.toggleSignUp}>{isSignUp ? 'Already have an account ?' : 'New user ?'}</button>\r\n                    </div>\r\n                </form>\r\n            </section>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onLogin,\r\n    onLogout,\r\n    onSignup,\r\n    updateUser,\r\n    loadUser\r\n}\r\n\r\nexport const LoginPage = withRouter(connect(mapStateToProps, mapDispatchToProps)(_LoginPage))\r\n","export default __webpack_public_path__ + \"static/media/undraw_off_road_-9-oae.ad390807.svg\";","\r\nimport React from \"react\";\r\nimport { connect } from 'react-redux'\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { onCancelOrder, onRemoveOrder, onUpdateOrder } from '../../store/order.actions'\r\nimport LazyLoad from \"../preview-slider\"\r\n\r\nclass _TripPreview extends React.Component {\r\n    state = {\r\n        trip: null\r\n    }\r\n\r\n    getTime = (timeStamp) => {\r\n        var time = new Date(timeStamp * 1000);\r\n        var date = '0' + time.getDate();\r\n        var month = \"0\" + (time.getMonth() + 1);\r\n        var year = \"0\" + time.getFullYear();\r\n        var formattedTime = date.substr(-2) + '.' + month.substr(-2) + '.' + year.substr(-2);\r\n        return formattedTime\r\n    }\r\n    onCancelTrip = (trip) => {\r\n        trip.status = \"canceled\"\r\n        this.props.onUpdateOrder(trip)\r\n    }\r\n    onRemoveTrip = (tripId) => {\r\n        this.props.onRemoveOrder(tripId)\r\n    }\r\n    render() {\r\n        const { trip } = this.props\r\n        var startDate = this.getTime(trip.startDate)\r\n        var endDate = this.getTime(trip.endDate)\r\n        return (\r\n            <div className=\"trip-preview-container\"  >\r\n                {trip.stay &&\r\n                    <section>\r\n                        <div>\r\n                            <NavLink to={`/stay/${trip.stay._id}`} className=\"trip-img-container\">\r\n                                {trip.stay.imgUrls.length && <LazyLoad imgs={trip.stay.imgUrls} />}\r\n                            </NavLink>\r\n                        </div>\r\n                        <div className=\"trip-preview-details\">\r\n                            <div className=\"name-dates-container flex space-between\">\r\n                                <div><h4>{trip.stay.name}</h4></div>\r\n                                <div>\r\n                                    <div>{startDate}</div>\r\n                                    <div>{endDate}</div>\r\n                                </div>\r\n                            </div>\r\n                            {trip.status === 'pending' && <div className=\"container flex space-between align-center\">\r\n                                <div>\r\n                                    <p>Wait for approval</p>\r\n                                </div>\r\n                                <div>\r\n                                    <p onClick={() => { this.onCancelTrip(trip) }} className=\"cancel-btn\">Cancel</p>\r\n                                </div>\r\n                            </div>}\r\n                            {trip.status === 'canceled' && <div className=\"container flex space-between align-center\">\r\n                                <div>\r\n                                    <p>Canceled</p>\r\n                                </div>\r\n                                <div>\r\n                                    <p onClick={() => { this.onRemoveTrip(trip._id) }} className=\"cancel-btn\">Remove</p>\r\n                                </div>\r\n                            </div>}\r\n                            {trip.status === 'declined' && <div className=\"container flex space-between align-center\">\r\n                                <div>\r\n                                    <p>Declined by host</p>\r\n                                </div>\r\n                                <div>\r\n                                    <p onClick={() => { this.onRemoveTrip(trip._id) }} className=\"cancel-btn\">Remove</p>\r\n                                </div>\r\n                            </div>}\r\n                            {trip.status === 'approved' && <div className=\"container flex space-between align-center\">\r\n                                <div>\r\n                                    <p>Approved by host!</p>\r\n                                </div>\r\n                                <div>\r\n                                    <p onClick={() => { this.onCancelTrip(trip) }} className=\"cancel-btn\">Cancel</p>\r\n                                </div>\r\n                            </div>}\r\n                            {/* <div className=\"flex space-between\">\r\n                                {trip.status === 'pending' && <div>\r\n                                    <p>Wait for approval</p>\r\n                                </div>}\r\n                                {trip.status === 'approved' && <div>\r\n                                    <p>Approved by host!</p>\r\n                                </div>}\r\n                                <div><p className=\"user-cancel\" onClick={() => { this.onCancelTrip(trip) }}>Cancel order</p></div>\r\n                            </div> */}\r\n                        </div >\r\n                    </section>}\r\n            </div >\r\n        )\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n        stays: state.stayModule.stays\r\n\r\n\r\n\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    onCancelOrder,\r\n    onRemoveOrder,\r\n    onUpdateOrder\r\n}\r\n\r\n\r\nexport const TripPreview = connect(mapStateToProps, mapDispatchToProps)(_TripPreview)","import { TripPreview } from \"./trip-preview\";\r\n\r\nexport function TripsList({ trips, isHost, stays }) {\r\n\r\n    return (\r\n        <div className=\"trip-list flex\">\r\n            {trips.map((trip, idx) =>\r\n                <TripPreview key={idx} trip={trip} />\r\n            )}\r\n        </div>)\r\n}","export default __webpack_public_path__ + \"static/media/undraw_navigator_a479.823b0f9f.svg\";","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { loadUser } from '../store/user.actions'\r\nimport travelImg from '../assets/svgs/undraw_off_road_-9-oae.svg'\r\nimport { TripsList } from '../cmps/trips-page/trips-list.jsx'\r\nimport { loadOrders } from '../store/order.actions'\r\nimport TravelSvg from '../assets/svgs/undraw_navigator_a479.svg'\r\nclass _TripsPage extends React.Component {\r\n    state = {\r\n        user: null,\r\n        trips: []\r\n    }\r\n    async componentDidMount() {\r\n        window.scrollTo(0, 0)\r\n        await this.props.loadUser(this.props.user._id)\r\n        await this.props.loadOrders(this.props.user._id, 'buyer')\r\n    }\r\n    render() {\r\n        const { user, orders } = this.props\r\n        return (\r\n            <main className=\"trips-page-container main-container\">\r\n                {user && <section className=\"trips-container page-padding\">\r\n                    <div className=\"trips-title-container\">\r\n                        <h1>Trips</h1>\r\n                    </div>\r\n                    {!orders.length && <div className=\"no-trips-txt\">\r\n                        <p>When you’re ready to start planning your next trip, we’re here to help. </p>\r\n                        <div className=\"trips-img-container\">\r\n                            <img src={travelImg} alt=\"\" />\r\n                        </div>\r\n                    </div>}\r\n\r\n                    {orders && orders.length ? <section className=\"trips-container\">\r\n                        <TripsList trips={orders} isHost={user.isHost} />\r\n                    </section> : ''}\r\n                </section>}\r\n            </main>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n        orders: state.orderModule.orders\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadUser,\r\n    loadOrders\r\n}\r\n\r\n\r\nexport const TripsPage = connect(mapStateToProps, mapDispatchToProps)(_TripsPage)","\r\nimport { Component } from 'react';\r\nimport { GoogleApiWrapper } from 'google-maps-react';\r\nimport PlacesAutocomplete, { geocodeByAddress, getLatLng, } from 'react-places-autocomplete';\r\nimport { TextField } from '@material-ui/core';\r\n\r\nclass _AddStayMap extends Component {\r\n\r\n    state = {\r\n        selectedPlace: '',\r\n        loc: {\r\n            lat: '',\r\n            lng: '',\r\n            address: '',\r\n            country: ''\r\n        }\r\n\r\n    }\r\n    handleChange = (address) => {\r\n        this.setState({ selectedPlace: address });\r\n    }\r\n    handleSelect = async (address) => {\r\n        const results = await geocodeByAddress(address)\r\n        const latLng = await getLatLng(results[0])\r\n        this.setState({ selectedPlace: address, loc: { lat: latLng.lat, lng: latLng.lng, address: address } }, () => {\r\n            this.props.handleAddressChange(this.state.loc)\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { selectedPlace } = this.state\r\n        return (\r\n            <section className=\"add-stay-location-container\" >\r\n                <div className=\"add-form-line flex align-center\">\r\n                    <label className=\"add-line\" htmlFor=\"\">Address</label>\r\n\r\n                    <PlacesAutocomplete\r\n                        value={selectedPlace}\r\n                        onChange={this.handleChange}\r\n                        onSelect={this.handleSelect}\r\n                    >\r\n                        {({ getInputProps, suggestions, getSuggestionItemProps, loading }) => (\r\n                            <div>\r\n                                <TextField\r\n                                    value={selectedPlace}\r\n                                    {...getInputProps({\r\n                                        placeholder: 'Search Places ...',\r\n                                        className: 'location-search-input',\r\n                                    })}\r\n                                />\r\n                                <div className=\"autocomplete-dropdown-container\">\r\n                                    {loading && <div>Loading...</div>}\r\n                                    {suggestions.map((suggestion, idx) => {\r\n                                        const className = suggestion.active\r\n                                            ? 'suggestion-item--active'\r\n                                            : 'suggestion-item';\r\n                                        // inline style for demonstration purpose\r\n                                        const style = suggestion.active\r\n                                            ? { backgroundColor: '#fafafa', cursor: 'pointer' }\r\n                                            : { backgroundColor: '#ffffff', cursor: 'pointer' };\r\n                                        return (\r\n                                            <div\r\n                                                key={idx}\r\n                                                {...getSuggestionItemProps(suggestion, {\r\n                                                    className,\r\n                                                    style,\r\n                                                })}\r\n                                            >\r\n                                                <span>{suggestion.description}</span>\r\n                                            </div>\r\n                                        );\r\n                                    })}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </PlacesAutocomplete>\r\n                </div>\r\n            </section>\r\n        );\r\n    }\r\n}\r\n\r\nexport const AddStayMap = GoogleApiWrapper({\r\n    apiKey: ('AIzaSyCUGOKMnw7Uk2ksGmOSmUZKdpOyeWxg27Y')\r\n})(_AddStayMap)","export default __webpack_public_path__ + \"static/media/no-img.b21add8f.png\";","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { withRouter } from 'react-router';\r\nimport { onAddStay } from '../../store/stay.actions'\r\nimport { AddStayMap } from './add-stay-map';\r\nimport { TextField } from '@material-ui/core';\r\nimport { TextareaAutosize } from \"@material-ui/core\";\r\nimport Select from 'react-select';\r\nimport noImg from '../../assets/img/no-img.png'\r\nclass _AddStay extends React.Component {\r\n    state = {\r\n        newStay: {\r\n            name: '',\r\n            assetType: '',\r\n            assetSpace: '',\r\n            summary: '',\r\n            uniqueStay: false,\r\n            imgUrls: [],\r\n            price: '',\r\n            capacity: '',\r\n            amenities: [],\r\n            labels: [],\r\n            loc: {\r\n                country: '',\r\n                countryCode: '',\r\n                address: '',\r\n                lat: '',\r\n                lng: ''\r\n            },\r\n            host: '',\r\n            reviews: []\r\n        },\r\n        ameintiesOptions: [\r\n            { name: 'TV', isChecked: false },\r\n            { name: 'Wifi', isChecked: false },\r\n            { name: 'Kitchen', isChecked: false },\r\n            { name: 'Smoking allowed', isChecked: false },\r\n            { name: 'Hot tub', isChecked: false },\r\n            { name: 'Pets allowed', isChecked: false },\r\n            { name: 'No smoking', isChecked: false },\r\n            { name: 'Cooking basics', isChecked: false },\r\n            { name: 'Air conditioning', isChecked: false },\r\n            { name: 'Heating', isChecked: false },\r\n            { name: 'Pool', isChecked: false },\r\n            { name: 'Indoor fireplace', isChecked: false },\r\n            { name: 'Refrigerator', isChecked: false },\r\n            { name: 'Dishwasher', isChecked: false },\r\n            { name: 'Backyard', isChecked: false },\r\n            { name: 'BBQ grill', isChecked: false },\r\n            { name: 'Crib', isChecked: false },\r\n            { name: 'Private entrance', isChecked: false },\r\n            { name: 'Lockbox', isChecked: false },\r\n            { name: 'Beachfront', isChecked: false },\r\n            { name: 'Hangers', isChecked: false },\r\n            { name: 'Wine glasses', isChecked: false },\r\n            { name: 'Free parking', isChecked: false },\r\n            { name: 'Accessible', isChecked: false },\r\n            { name: 'King size bed', isChecked: false },\r\n            { name: 'Bathub', isChecked: false },\r\n            { name: 'Balcony', isChecked: false },\r\n            { name: 'Iron', isChecked: false },\r\n            { name: 'Room service', isChecked: false },\r\n            { name: 'Coffee machine', isChecked: false },\r\n            { name: 'Laundry machine', isChecked: false },\r\n            { name: 'Speakers', isChecked: false },\r\n            { name: 'Gaming console', isChecked: false }\r\n        ]\r\n    }\r\n    handleChange = ({ target }) => {\r\n        const field = target.name;\r\n        const value = target.type === 'number' ? +target.value : target.value;\r\n        this.setState(prevState => ({ ...prevState, newStay: { ...this.state.newStay, [field]: value } }))\r\n    }\r\n    handleAmenityChange = (name) => {\r\n        const { amenities } = this.state.newStay\r\n        const { ameintiesOptions } = this.state\r\n        const nameIdx = ameintiesOptions.findIndex(amenity => amenity.name === name)\r\n        const checked = !ameintiesOptions[nameIdx].isChecked\r\n        const updatedAmeintiesOpts = ameintiesOptions.map(amenity => (amenity.name === name) ? { name, isChecked: checked } : amenity)\r\n        if (checked) amenities.push(name)\r\n        else {\r\n            const idx = amenities.findIndex(amenity => amenity === name)\r\n            amenities.splice(idx, 1)\r\n        }\r\n        this.setState(prevState => ({ ...prevState, newStay: { ...this.state.newStay, amenities }, ameintiesOptions: updatedAmeintiesOpts }))\r\n    }\r\n    handleAddressChange = (address) => {\r\n        this.setState(prevState => ({ ...prevState, newStay: { ...this.state.newStay, loc: address } }))\r\n    }\r\n    handleSelectChange = (target) => {\r\n        const field = target.name\r\n        const value = target.value\r\n        this.setState(prevState => ({ ...prevState, newStay: { ...this.state.newStay, [field]: value } }))\r\n    }\r\n\r\n    onAddsStay = (ev) => {\r\n        ev.preventDefault()\r\n        const { newStay } = this.state\r\n        const { _id, fullname, imgUrl } = this.props.user\r\n        newStay.assetType = `${newStay.assetSpace.split(' ')[1]} ${newStay.assetType}`\r\n        newStay.host = { fullname, _id, imgUrl }\r\n        this.props.onAddStay(newStay)\r\n        this.setState({\r\n            newStay: {\r\n                name: '',\r\n                assetType: '',\r\n                assetSpace: '',\r\n                summary: '',\r\n                uniqueStay: false,\r\n                imgUrls: [noImg, noImg, noImg, noImg, noImg],\r\n                price: '',\r\n                capacity: '',\r\n                amenities: [],\r\n                labels: [],\r\n                loc: {\r\n                    country: '',\r\n                    countryCode: '',\r\n                    address: '',\r\n                    lat: '',\r\n                    lng: ''\r\n                },\r\n                host: '',\r\n                reviews: []\r\n            }\r\n        })\r\n        this.props.history.push('/explore')\r\n    }\r\n    onUploadImg = (ev) => {\r\n        const CLOUD_NAME = 'dkbfdybze'\r\n        const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`\r\n        const file = ev.target.files[0]\r\n        const formData = new FormData()\r\n        formData.append(\"file\", file)\r\n        formData.append(\"upload_preset\", \"ewa9mksh\")\r\n        return fetch(UPLOAD_URL, {\r\n            method: 'POST',\r\n            body: formData\r\n        })\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                const state = this.state\r\n                const ImgUrl = res.url\r\n                state.newStay.imgUrls.push(ImgUrl)\r\n                this.setState((state))\r\n            })\r\n            .catch(err => console.error(err))\r\n    }\r\n    getBtnDivs = () => {\r\n        let divStr = []\r\n        for (let i = 0; i < 100; i++) {\r\n            divStr.push(<div key={i + 1} className=\"cell\" ></div >)\r\n        }\r\n        return divStr\r\n    }\r\n    render() {\r\n        const { imgUrls, name, assetSpace, assetType, capacity, summary, price } = this.state.newStay\r\n        const { ameintiesOptions } = this.state\r\n        const spaceOptions = [\r\n            { name: 'assetSpace', value: 'An Entire place', label: 'An Entire place' },\r\n            { name: 'assetSpace', value: 'A Private room', label: 'A Private room' },\r\n            { name: 'assetSpace', value: 'A Shared room', label: 'A Shared room' },\r\n        ];\r\n\r\n        const assetTypeOptions = [\r\n            { name: 'assetType', value: 'Duplex', label: 'Duplex' },\r\n            { name: 'assetType', value: 'Villa', label: 'Villa' },\r\n            { name: 'assetType', value: 'Loft', label: 'Loft' },\r\n            { name: 'assetType', value: 'Farm', label: 'Farm' },\r\n            { name: 'assetType', value: 'Cabin', label: 'Cabin' },\r\n        ];\r\n        const style = {\r\n            margin: '20px 0',\r\n            padding: '20px',\r\n            width: '100%',\r\n            height: ' 150px',\r\n            resize: 'none',\r\n            borderRadius: '13px',\r\n            borderColor: ' #bdbcbc',\r\n            fontFamily: \"circular-book\",\r\n            fontSize: \"1rem\"\r\n        }\r\n        if (!imgUrls) return (<div>Loading</div>)\r\n        return (\r\n            <section className=\"add-stay-container\">\r\n                <div className=\"add-stay-form-container flex\" onSubmit={this.onAddsStay}>\r\n                    <form className=\"add-stay-form\">\r\n                        <section className=\"add-basic-info-container flex align-center\">\r\n                            <div className=\"add-form-line flex align-center\">\r\n                                <label className=\"add-line\">Name</label>\r\n                                <TextField className=\"stay-name-input\" required type=\"text\" autoComplete=\"off\" value={name} name=\"name\" placeholder=\"Asset name...\" onChange={this.handleChange} />\r\n                            </div>\r\n                            <div className=\"add-stay-location-wrapper\">\r\n                                <AddStayMap handleAddressChange={this.handleAddressChange} />\r\n                            </div>\r\n                            <div className=\"add-form-line flex align-center\">\r\n                                <label className=\"add-line\">Price</label>\r\n                                <TextField required type=\"number\" value={price} name=\"price\" placeholder=\"Price\" onChange={this.handleChange} />\r\n                                <label className=\"add-line\">/per night</label>\r\n                            </div>\r\n                        </section>\r\n                        <section className=\"add-stay-imgs-container flex\">\r\n                            <div className=\"add-stay-imgs flex\">\r\n                                <div className=\"primary-img square-ratio\" >\r\n\r\n                                    {imgUrls[0] ? <img src={imgUrls[0]} alt=\"\" /> : <div>\r\n                                        <div className=\"upload-img-txt flex align-center\">\r\n                                            <label>Upload image</label>\r\n                                        </div>\r\n                                        <input type=\"file\" placeholder=\"Upload Image\" name=\"imgUrls\" onChange={this.onUploadImg} />\r\n                                    </div>}\r\n\r\n                                </div>\r\n                                <div className=\"add-small-imgs-container flex column space-between\">\r\n                                    <div className=\"new-stay-img square-ratio\">\r\n                                        {imgUrls[1] ? <img src={imgUrls[1]} alt=\"\" /> : <div>\r\n                                            <div className=\"upload-img-txt flex align-center\">\r\n                                                <label>Upload image</label>\r\n                                            </div>\r\n                                            <input type=\"file\" placeholder=\"Upload Image\" name=\"imgUrls\" onChange={this.onUploadImg} />\r\n                                        </div>}\r\n\r\n                                    </div>\r\n                                    <div className=\"new-stay-img square-ratio\">\r\n                                        {imgUrls[2] ? <img src={imgUrls[2]} alt=\"\" /> : <div>\r\n                                            <div className=\"upload-img-txt flex align-center\">\r\n                                                <label >Upload image</label>\r\n                                            </div>\r\n                                            <input type=\"file\" placeholder=\"Upload Image\" name=\"imgUrls\" onChange={this.onUploadImg} />\r\n                                        </div>}\r\n\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"add-small-imgs-container flex column space-between\">\r\n                                    <div className=\"new-stay-img square-ratio\">\r\n                                        {imgUrls[3] ? <img src={imgUrls[3]} alt=\"\" /> : <div>\r\n                                            <div className=\"upload-img-txt flex align-center\">\r\n                                                <label>Upload image</label>\r\n                                            </div>\r\n                                            <input type=\"file\" placeholder=\"Upload Image\" name=\"imgUrls\" onChange={this.onUploadImg} />\r\n                                        </div>}\r\n\r\n                                    </div>\r\n                                    <div className=\"new-stay-img square-ratio\">\r\n                                        {imgUrls[4] ? <img src={imgUrls[4]} alt=\"\" /> : <div>\r\n                                            <div className=\"upload-img-txt flex align-center\">\r\n                                                <label>Upload image</label>\r\n                                            </div>\r\n                                            <input type=\"file\" placeholder=\"Upload Image\" name=\"imgUrls\" onChange={this.onUploadImg} />\r\n                                        </div>}\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </section>\r\n                        <section className=\"add-stay-details-container flex space-between\">\r\n                            <div className=\"add-form-line flex align-center\">\r\n                                <label className=\"add-line\">Capacity</label>\r\n                                <TextField required type=\"number\" value={capacity} name=\"capacity\" placeholder=\"Capacity...\" onChange={this.handleChange} />\r\n                            </div>\r\n                            <div className=\"add-form-line flex align-center\">\r\n                                <label className=\"add-line\">What is your asset space?</label>\r\n                                <Select\r\n                                    required\r\n                                    placeholder=\"Space type\"\r\n                                    onChange={this.handleSelectChange}\r\n                                    name=\"assetSpace\"\r\n                                    className=\"add-stay-select\"\r\n                                    value={assetSpace}\r\n                                    options={spaceOptions}\r\n                                />\r\n                            </div>\r\n                            <div className=\"add-form-line flex align-center\">\r\n                                <label className=\"add-line\">What is your asset type?</label>\r\n                                <Select\r\n                                    required\r\n                                    placeholder=\"Asset type\"\r\n                                    onChange={this.handleSelectChange}\r\n                                    name=\"assetType\"\r\n                                    className=\"add-stay-select\"\r\n                                    value={assetType}\r\n                                    options={assetTypeOptions}\r\n                                />\r\n                            </div>\r\n\r\n                        </section>\r\n\r\n                        <section className=\"add-stay-summary\">\r\n                            <div className=\"add-desc-line flex column\">\r\n                                <label className=\"add-line\">Describe your asset</label>\r\n                                <TextareaAutosize\r\n                                    required\r\n                                    style={style}\r\n                                    value={summary}\r\n                                    placeholder=\"Describe your asset...\"\r\n                                    className=\"asset-desc-input\"\r\n                                    onChange={this.handleChange}\r\n                                    name=\"summary\"\r\n                                    autoComplete=\"off\" />\r\n                            </div>\r\n                        </section>\r\n                        <section className=\"add-amenities-container flex align-center\">\r\n                            <ul className=\"amenities-list flex column align-center\">\r\n                                {ameintiesOptions.map((amenity, idx) => {\r\n                                    if (idx <= 31) {\r\n                                        return <li key={idx} className=\"add-amenities-line flex align-center\" onClick={() => this.handleAmenityChange(amenity.name)}>\r\n                                            <label variant=\"h5\">{amenity.name}</label>\r\n                                            <input type=\"checkbox\" checked={amenity.isChecked} />\r\n                                        </li>\r\n                                    }\r\n                                })}\r\n                            </ul>\r\n                        </section>\r\n                        <section className=\"add-stay-btn-container flex\">\r\n                            <div className=\"checkout-btn-container \" onClick={this.onAddsStay}>\r\n                                {this.getBtnDivs()}\r\n                                <div className=\"content\">\r\n                                    <button className=\"checkout-btn\" ><span>Add stay</span> </button>\r\n                                </div>\r\n                            </div>\r\n                        </section>\r\n                    </form>\r\n\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n        stays: state.stayModule.stays\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onAddStay\r\n}\r\n\r\n\r\nexport const AddStay = withRouter(connect(mapStateToProps, mapDispatchToProps)(_AddStay))","import MUIDataTable from \"mui-datatables\";\r\nimport { connect } from 'react-redux'\r\nimport { Component } from \"react\";\r\nimport { FaStar } from \"react-icons/fa\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport {onRemoveStay} from '../../store/stay.actions'\r\n// import { HoststayPreview } from \"./host-stay-preview\";\r\n\r\n class _HostStaysList extends Component {\r\n    getData = () => {\r\n        const { stays, orders } = this.props\r\n        const dataStays = [];\r\n        let editedOrder;\r\n        if (stays) {\r\n            stays.forEach(stay => {\r\n                editedOrder = {\r\n                    stayName: stay.name,\r\n                    address: stay.loc.address,\r\n                    price: `$${stay.price}`,\r\n                    reviews: <div className=\"host-stays-reviews flex align-center\">\r\n                        <p className=\"checkout-star\"><FaStar size={13} color=\"#FF5A5F\" /></p>\r\n                        <p >{stay.reviewsAvg}</p>\r\n                        <p >({stay.reviews.length} reviews)</p>\r\n                    </div>,\r\n                    // reviews: stay.reviews.length,\r\n                    // reviewsAvg: stay.reviewsAvg,\r\n                    orders: orders.filter(order => order.stay._id === stay._id).length,\r\n                    link: <div className=\"flex align-center\">\r\n                        <button className=\"remove-stay-btn\" onClick={()=>this.onRemoveStay(stay._id)}>Remove stay</button>\r\n                        <NavLink className=\"stay-link\" to={`/stay/${stay._id}`}>Go to stay</NavLink>\r\n                    </div>\r\n                }\r\n                dataStays.unshift(editedOrder)\r\n                editedOrder = null\r\n            })\r\n            return dataStays\r\n        }\r\n    }\r\n    onRemoveStay = (id) => {\r\n        this.props.onRemoveStay(id)\r\n    }\r\n    render() {\r\n        const columns = [\r\n\r\n            {\r\n                name: 'stayName',\r\n                label: \"Name\",\r\n                options: {\r\n                    filter: true,\r\n                    sort: true\r\n                }\r\n            },\r\n            {\r\n                name: \"address\",\r\n                label: \"Address\",\r\n                options: {\r\n                    filter: true,\r\n                    sort: true\r\n                }\r\n            },\r\n            {\r\n                name: \"price\",\r\n                label: \"Price\",\r\n                options: {\r\n                    filter: true,\r\n                    sort: true\r\n                }\r\n            },\r\n            {\r\n                name: \"reviews\",\r\n                label: \"Reviews\",\r\n                options: {\r\n                    filter: true,\r\n                    sort: true\r\n                }\r\n            },\r\n            {\r\n                name: \"orders\",\r\n                label: \"Total orders\",\r\n\r\n            },\r\n            {\r\n                name: \"link\",\r\n                label: \" \",\r\n\r\n            }\r\n        ];\r\n        const options = {\r\n            filter: true,\r\n            filterType: \"dropdown\",\r\n        };\r\n        return (\r\n            <div className=\"notifications-page-container\">\r\n                <section className=\"notifications-container\">\r\n                    <MUIDataTable\r\n                        title={\"Your orders\"}\r\n                        data={this.getData()}\r\n                        columns={columns}\r\n                        options={options}\r\n\r\n                    />\r\n                </section>\r\n                {/* {stays.map((stay, idx) => */}\r\n                {/* <HoststayPreview key={idx} stay={stay} /> */}\r\n                {/* )} */}\r\n\r\n            </div>)\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n        orders: state.orderModule.orders,\r\n        stays: state.stayModule.stays,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\nonRemoveStay\r\n}\r\n\r\n\r\nexport const HostStaysList = connect(mapStateToProps, mapDispatchToProps)(_HostStaysList)","import { Component } from \"react\";\r\nimport { connect } from 'react-redux'\r\nimport { loadUser } from '../../store/user.actions'\r\nimport { onUpdateOrder, onRemoveOrder } from '../../store/order.actions'\r\nimport MUIDataTable from \"mui-datatables\";\r\nimport { FaStar } from 'react-icons/fa'\r\nimport ArrowRightAltRoundedIcon from '@mui/icons-material/ArrowRightAltRounded';\r\n\r\nclass _OrdersDashboard extends Component {\r\n    state = {\r\n        user: null,\r\n        orders: null\r\n    }\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0)\r\n        const { user, orders } = this.props\r\n        this.setState({ orders })\r\n\r\n        if (user) this.props.loadUser(user._id)\r\n\r\n    }\r\n    getTime = (timestamp) => {\r\n        var time = new Date(timestamp * 1000);\r\n        var day = \"0\" + time.getDate();\r\n        var month = \"0\" + (time.getMonth() + 1);\r\n        var year = \"0\" + time.getFullYear();\r\n        var formattedTime = day.substr(-2) + '.' + month.substr(-2) + '.' + year.substr(-2);\r\n        return formattedTime\r\n    }\r\n\r\n    getData = () => {\r\n        const { orders } = this.props\r\n        const dataOrders = [];\r\n        let editedOrder;\r\n        if (orders) {\r\n            orders.forEach(order => {\r\n                editedOrder = {\r\n                    stayName: order.stay.name,\r\n                    buyerName: order.buyer.fullname,\r\n                    buyerImg: <div className=\"user-order-img-container flex align-center\">\r\n                        <img src={order.buyer.imgUrl} alt=\"\" />\r\n                        <p>{order.buyer.fullname}</p>\r\n                    </div>,\r\n                    price: `$${order.totalPrice}`,\r\n                    status: `${order.status.charAt(0).toUpperCase()}${order.status.substr(1)}`,\r\n                    checkIn: this.getTime(order.startDate),\r\n                    checkOut: this.getTime(order.endDate),\r\n                    approveBtn: <div className=\"host-action-btns flex\">\r\n                        {order.status === 'pending' && <button className=\"approve-order-btn\" onClick={() => { this.onApproveOrder(order._id) }}>Approve</button>}\r\n                        <button className=\"approve-order-btn\" onClick={() => { (order.status === \"declined\") ? this.onRemoveOrder(order._id) : this.onDeclinelOrder(order._id) }}>\r\n                            {(order.status === \"pending\") ? 'Decline' : (order.status === \"approved\") ? 'Cancel' : 'Remove'}</button>\r\n                    </div>\r\n\r\n                }\r\n                dataOrders.unshift(editedOrder)\r\n                editedOrder = null\r\n            })\r\n            return dataOrders\r\n        }\r\n    }\r\n    getTotalRate = (orders) => {\r\n        let totalRate = 0;\r\n        orders.forEach(order => { totalRate += order.stay.reviewsAvg })\r\n        totalRate = totalRate / orders.length\r\n        return totalRate\r\n    }\r\n    getTotalPrice = (orders) => {\r\n        let totalPrice = 0;\r\n        orders.forEach(order => { totalPrice += +order.totalPrice })\r\n        return totalPrice\r\n    }\r\n    onApproveOrder = (orderId) => {\r\n        const { orders } = this.props\r\n        const order = orders.filter(order => order._id === orderId)\r\n        order[0].status = \"approved\"\r\n        this.props.onUpdateOrder(order[0])\r\n    }\r\n    onDeclinelOrder = (orderId) => {\r\n        const { orders } = this.props\r\n        const order = orders.filter(order => order._id === orderId)\r\n        order[0].status = \"declined\"\r\n        this.props.onUpdateOrder(order)\r\n    }\r\n    onRemoveOrder = (orderId) => {\r\n        this.props.onRemoveOrder(orderId)\r\n    }\r\n    getOrdersStatus = (status) => {\r\n        const { orders } = this.props\r\n        const filterdOrders = orders.filter(order => order.status === status)\r\n        return filterdOrders.length\r\n    }\r\n    render() {\r\n        const { orders } = this.props\r\n        const columns = [\r\n            {\r\n                name: 'buyerImg',\r\n                label: \"Name\",\r\n            },\r\n            {\r\n                name: \"stayName\",\r\n                label: \"Address\",\r\n                options: {\r\n                    filter: true,\r\n                    sort: true\r\n                }\r\n            },\r\n            {\r\n                name: \"checkIn\",\r\n                label: \"Check in\",\r\n                options: {\r\n                    filter: true,\r\n                    sort: true\r\n                }\r\n            },\r\n            {\r\n                name: \"checkOut\",\r\n                label: \"Check out\",\r\n                options: {\r\n                    filter: true,\r\n                    sort: true\r\n                }\r\n            },\r\n            {\r\n                name: \"price\",\r\n                label: \"Price\",\r\n                options: {\r\n                    filter: true,\r\n                    sort: true\r\n                }\r\n            },\r\n            {\r\n                name: \"status\",\r\n                label: \"Status\",\r\n                options: {\r\n                    filter: true,\r\n                    sort: true\r\n                }\r\n            },\r\n            {\r\n                name: \"approveBtn\",\r\n                label: \"Actions\",\r\n\r\n            }\r\n        ];\r\n        const options = {\r\n            filter: true,\r\n            filterType: \"dropdown\",\r\n        };\r\n\r\n        return (\r\n            <main className=\"notifications-page-container  \">\r\n                <section className=\"dashboard-header-container flex\">\r\n                    <div className=\"total-rate-container flex column space-between\">\r\n                        <div>\r\n                            <p className=\"dashboard-label\">Total Rate</p>\r\n                        </div>\r\n                        <div className=\"dashboard-value flex space-between align-center \">\r\n                            <div className=\"flex  align-center \">\r\n                                <p className=\"checkout-star\"><FaStar size={13} color=\"#FF5A5F\" /></p>\r\n                                <p className=\"dash-avg-score\">{(!this.getTotalRate(orders)) ? 0 : this.getTotalRate(orders).toFixed(1)}</p>\r\n                            </div>\r\n                            <div className=\"dash-stats-arrow-container flex\">\r\n                                <p>{<ArrowRightAltRoundedIcon className={`stat-arrow ${(Math.random() >= 0.5) ? 'down' : 'up'}`} />}</p>\r\n                                <p className=\"dash-review-stat\">{Math.floor(Math.random() * 7) + 1}%</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"dash-earning-container flex column space-between\">\r\n                        <div>\r\n                            <p className=\"dashboard-label\">Monthly earnings</p>\r\n                        </div>\r\n                        <div className=\"dashboard-value\">\r\n                            <p className=\"dash-avg-earning\">{new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(this.getTotalPrice(orders))}</p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"dash-earning-container flex column space-between\">\r\n                        <div>\r\n                            <p className=\"dashboard-label\">Orders</p>\r\n                        </div>\r\n                        <div className=\"orders-sec-dash flex \">\r\n                            <div className=\"dashboard-value flex align-center\">\r\n                                <div className=\"dash-orders-circle approved\"></div>\r\n                                <p className=\"dash-avg-order\">{this.getOrdersStatus('approved')}/{orders.length}</p>\r\n                            </div>\r\n                            <div className=\"dashboard-value flex align-center\">\r\n                                <div className=\"dash-orders-circle pending\"></div>\r\n                                <p className=\"dash-avg-order\">{this.getOrdersStatus('pending')}/{orders.length}</p>\r\n                            </div>\r\n                            <div className=\"dashboard-value flex align-center\">\r\n                                <div className=\"dash-orders-circle declined\"></div>\r\n                                <p className=\"dash-avg-order\">{this.getOrdersStatus('declined')}/{orders.length}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <section className=\"notifications-container\">\r\n                    <MUIDataTable\r\n                        title={\"Your orders\"}\r\n                        data={this.getData()}\r\n                        columns={columns}\r\n                        options={options}\r\n                    />\r\n                </section>\r\n            </main>\r\n        )\r\n    }\r\n\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadUser,\r\n    onUpdateOrder,\r\n    onRemoveOrder\r\n}\r\n\r\nexport const OrdersDashboard = connect(mapStateToProps, mapDispatchToProps)(_OrdersDashboard)","import Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { loadUser } from '../store/user.actions'\r\nimport { AddStay } from '../cmps/host-page/add-stay';\r\nimport { loadOrders } from '../store/order.actions'\r\nimport { loadStays, setFilter } from '../store/stay.actions'\r\nimport { HostStaysList } from '../cmps/host-page/host-stays-list';\r\nimport { OrdersDashboard } from '../cmps/host-page/dash-board';\r\n\r\n// import { OrdersList } from '../cmps/hosts-list.jsx'\r\nclass _HostPage extends React.Component {\r\n    state = {\r\n        user: null,\r\n        orders: [],\r\n        stays: [],\r\n        selectedTab: 'orders'\r\n    }\r\n    async componentDidMount() {\r\n        window.scrollTo(0, 0)\r\n        const { user } = this.props\r\n        this.onGetHostStays()\r\n        if (user) {\r\n            try {\r\n                await this.props.loadOrders(user._id, 'host')\r\n                await this.props.loadStays(this.props.filterBy)\r\n            } catch (err) {\r\n            }\r\n        }\r\n        else {\r\n            this.props.history.push('/')\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        this.onClearFilter()\r\n\r\n    }\r\n    onClearFilter = () => {\r\n        const { filterBy } = this.props\r\n        filterBy.hostId = ''\r\n        this.props.setFilter(filterBy)\r\n    }\r\n    onGetHostStays = () => {\r\n        const newFilter = this.props.filterBy\r\n        newFilter.hostId = this.props.user._id\r\n        this.props.setFilter(newFilter)\r\n    }\r\n\r\n    onChangeTab = (ev, value) => {\r\n        this.setState({ selectedTab: value })\r\n    }\r\n\r\n    render() {\r\n        const { user, orders, stays } = this.props\r\n        const { selectedTab } = this.state\r\n        return (\r\n            <main className=\"host-page-container main-container\">\r\n                {/* <div className=\" page-padding\"> */}\r\n                <div>\r\n                    <section className=\"host-tabs-container\">\r\n                        <Tabs\r\n                            value={selectedTab}\r\n                            onChange={this.onChangeTab}\r\n                            textColor=\"secondary\"\r\n                            indicatorColor=\"secondary\"\r\n                            aria-label=\"secondary tabs example\"\r\n                        >\r\n                            <Tab value=\"orders\" label={orders ? `Orders (${orders.length})` : 'Orders'} />\r\n                            <Tab value=\"my-stays\" label=\"My stays\" />\r\n                            <Tab value=\"add-stay\" label=\"Add a stay\" />\r\n                            {/* <Tab value=\"stats\" label=\"Stats\" /> */}\r\n                        </Tabs>\r\n                    </section>\r\n                    {user && <section className=\"host-container\">\r\n\r\n                        {selectedTab === 'orders' && <div>\r\n                            <div className=\"orders-container\">\r\n                                <OrdersDashboard orders={orders} />\r\n                                {/* <OrdersList orders={orders} /> */}\r\n                            </div>\r\n                        </div>}\r\n                        {selectedTab === 'my-stays' && <div className=\"orders-container\">\r\n                            {stays && <HostStaysList orders={orders} stays={stays} />}\r\n                        </div>}\r\n                        {/* {selectedTab === 'stats' && <div>\r\n                            <HostChart />\r\n                        </div>} */}\r\n                        {selectedTab === 'add-stay' && <div>\r\n                            <AddStay />\r\n                        </div>}\r\n                    </section>}\r\n                </div>\r\n            </main>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n        orders: state.orderModule.orders,\r\n        stays: state.stayModule.stays,\r\n        filterBy: state.stayModule.filterBy\r\n\r\n\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadUser,\r\n    loadOrders,\r\n    loadStays,\r\n    setFilter\r\n\r\n\r\n}\r\n\r\n\r\nexport const HostPage = connect(mapStateToProps, mapDispatchToProps)(_HostPage)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { onBecomeHost, loadUser } from '../store/user.actions.js'\r\nimport { FaAirbnb } from 'react-icons/fa'\r\n\r\n\r\nclass _BecomeAHost extends React.Component {\r\n\r\n    onBecomeHost = () => {\r\n        if (this.props.user) {\r\n            console.log('loloa');\r\n            const userId = this.props.user._id\r\n            this.props.onBecomeHost(userId)\r\n            this.props.history.push('/host')\r\n        }\r\n        else this.props.history.push('/')\r\n    }\r\n    getBtnDivs = () => {\r\n        let divStr = []\r\n        for (let i = 0; i < 100; i++) {\r\n            divStr.push(<div key={i + 1} className=\"cell\" ></div >)\r\n        }\r\n        return divStr\r\n    }\r\n    render() {\r\n        return (\r\n            <section className=\"be-host-container\">\r\n                <div className=\"be-host-left-container flex column \">\r\n                    <div className=\"be-host-logo flex align-center\" onClick={() => { this.props.history.push('/') }}><FaAirbnb color=\"#fff\" size={40} /></div>\r\n                    <div className=\"be-host-txt-container flex column align-center\">\r\n                        <div><h1>Hosting</h1></div>\r\n                        <div><h1>makes AnyGo,</h1></div>\r\n                        <div><h1>AnyGo</h1></div>\r\n                    </div>\r\n                    <section className=\"be-host-btn-container flex align-center\">\r\n                        <div className=\"checkout-btn-container \" onClick={this.onBecomeHost}>\r\n                            {this.getBtnDivs()}\r\n                            <div className=\"content\">\r\n                                {/* <button className=\"checkout-btn\" ><span>Add stay</span> </button> */}\r\n                                <button  className=\"checkout-btn\">Try hosting</button>\r\n                            </div>\r\n                        </div>\r\n                    </section>\r\n                    {/* <div className=\"be-host-btn-container flex  align-center\"> */}\r\n                    {/* </div> */}\r\n                </div>\r\n                <div className=\"be-host-img-container\">\r\n                    <img src=\"https://res.cloudinary.com/dkbfdybze/image/upload/v1633436197/become-host_ufwcx6.jpg\" alt=\"\" />\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n        stays: state.stayModule.stays,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onBecomeHost,\r\n    loadUser\r\n}\r\n\r\nexport const BecomeAHost = connect(mapStateToProps, mapDispatchToProps)(_BecomeAHost)","import { Component } from \"react\";\r\nimport { connect } from 'react-redux'\r\nimport { loadUser, updateUser } from '../store/user.actions'\r\nimport MUIDataTable from \"mui-datatables\";\r\n\r\n\r\nclass _NotificationsPage extends Component {\r\n    state = {\r\n        user: null,\r\n    }\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0)\r\n    }\r\n    async componentWillUnmount() {\r\n        const { user } = this.props\r\n        if (user?.notifications?.length) {\r\n            const userUnreadNotifs = user.notifications.map(notif => ({ ...notif, isRead: true }))\r\n            await this.props.updateUser({ ...user, notifications: userUnreadNotifs })\r\n\r\n        }\r\n    }\r\n    getTime = (timestamp) => {\r\n        var time = new Date(timestamp);\r\n        var day = \"0\" + time.getDate();\r\n        var month = \"0\" + (time.getMonth() + 1);\r\n        var year = \"0\" + time.getFullYear();\r\n        var formattedTime = day.substr(-2) + '.' + month.substr(-2) + '.' + year.substr(-2);\r\n        return formattedTime\r\n    }\r\n    getData = () => {\r\n        const { notifications } = this.props.user\r\n        const dataNotifications = [];\r\n        let editedNotification;\r\n        if (notifications) {\r\n            notifications.forEach(notification => {\r\n                editedNotification = {\r\n                    ...notification,\r\n                    byUserImg: <div className=\"user-order-img-container flex align-center\">\r\n                        <img src={notification.byUserImg} alt=\"\" />\r\n                        <p>{notification.byUser}</p>\r\n                    </div>,\r\n                    createdAt: this.getTime(notification.createdAt)\r\n                    // approveBtn: <div className=\"host-action-btns flex\">\r\n                    //     {notification.status === 'pending' && <button className=\"approve-notification-btn\" onClick={() => { this.onApproveNotification(notification._id) }}>Approve</button>}\r\n                    //     <button className=\"approve-notification-btn\" onClick={() => { (notification.status === \"declined\") ? this.onRemoveNotification(notification._id) : this.onDeclinelNotification(notification._id) }}>\r\n                    //         {(notification.status === \"pending\") ? 'Decline' : (notification.status === \"approved\") ? 'Cancel' : 'Remove'}</button>\r\n                    // </div>\r\n                }\r\n                dataNotifications.unshift(editedNotification)\r\n                editedNotification = null\r\n            })\r\n            return dataNotifications\r\n        }\r\n    }\r\n    render() {\r\n        const { user } = this.props\r\n        const columns = [\r\n            {\r\n                name: \"byUserImg\",\r\n                label: \"Name\",\r\n                options: {\r\n                    filter: true,\r\n                    sort: true\r\n                }\r\n            },\r\n            {\r\n                name: \"notifTxt\",\r\n                label: \"Notification\",\r\n                options: {\r\n                    filter: true,\r\n                    sort: true\r\n                }\r\n            },\r\n            {\r\n                name: \"createdAt\",\r\n                label: \"Time\",\r\n                options: {\r\n                    filter: true,\r\n                    sort: true\r\n                }\r\n            }\r\n        ];\r\n\r\n        const options = {\r\n            filter: true,\r\n            filterType: \"dropdown\",\r\n        };\r\n\r\n        return (\r\n            <main className=\"notifications-page-container  main-container\">\r\n                <section className=\"page-padding\">\r\n                    <div className=\"notifications-title-container\">\r\n                        <h1>Notifications</h1>\r\n                    </div>\r\n                    {user && <section className=\"notifications-container\" >\r\n                        <MUIDataTable\r\n                            title={\"Notifications list\"}\r\n                            data={this.getData()}\r\n                            columns={columns}\r\n                            options={options}\r\n\r\n                        />\r\n                    </section>}\r\n                </section>\r\n            </main>\r\n        )\r\n    }\r\n\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    updateUser,\r\n    loadUser\r\n}\r\n\r\n\r\nexport const NotificationsPage = connect(mapStateToProps, mapDispatchToProps)(_NotificationsPage)","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { StaysList } from '../cmps/stays-list'\r\nimport { loadStays } from '../store/stay.actions'\r\nclass _WishList extends Component {\r\n    state = {\r\n        userSavedStays: []\r\n    }\r\n    componentDidMount() {\r\n        const { user } = this.props\r\n        console.log(user);\r\n        if (user) this.loadUserStays()\r\n    }\r\n    loadUserStays = () => {\r\n        const { stays, user } = this.props\r\n        const userStays = []\r\n        user.mySaves.map(savedId => {\r\n            stays.forEach(stay => {\r\n                if (stay._id === savedId) userStays.push(stay)\r\n            })\r\n        })\r\n        this.setState(({ userSavedStays: userStays }), () => { console.log(this.state); })\r\n    }\r\n    render() {\r\n        const { userSavedStays } = this.state\r\n        return (\r\n            <main className=\"wishlist-page-container page-padding main-container\">\r\n                <div className=\"wishlist-page\">\r\n                    <h1>Wishlist</h1>\r\n                    {userSavedStays.length ? <StaysList stays={userSavedStays} history={this.props.history} /> : <div>\r\n                        <h4>There are no saved stays yet...</h4>\r\n                    </div>}\r\n                </div>\r\n            </main>\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stays: state.stayModule.stays,\r\n        filterBy: state.stayModule.filterBy,\r\n        user: state.userModule.user\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadStays\r\n}\r\n\r\n\r\nexport const WishList = connect(mapStateToProps, mapDispatchToProps)(_WishList)","export const AirBnbBtn = ({ btnAction, btnInnerTxt = '' }) => {\r\n\r\n    const getBtnDivs = () => {\r\n        let divStr = []\r\n        for (let i = 0; i < 100; i++) {\r\n            divStr.push(<div key={i + 1} className=\"cell\" ></div >)\r\n        }\r\n        return divStr\r\n    }\r\n    const onBtnAction = () => {\r\n        btnAction()\r\n    }\r\n    return (\r\n        <div className=\"btn-container\" onClick={() => { onBtnAction() }}>\r\n            {getBtnDivs()}\r\n            <div className=\"content\">\r\n                <button className=\"btn\"><span>{btnInnerTxt}</span> </button>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n\r\n}\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { loadUser, updateUser } from '../store/user.actions'\r\nimport { FaPencilAlt, FaUserAlt } from \"react-icons/fa\";\r\nimport { AirBnbBtn } from '../cmps/AirBnb-Btn';\r\nimport { TextField } from '@material-ui/core';\r\n// import {} from '../store/user.actions'\r\nclass _UserProfile extends React.Component {\r\n    state = {\r\n        user: null,\r\n        editedUser: {\r\n            username: '',\r\n            fullname: '',\r\n            imgUrl: '',\r\n            email: ''\r\n        },\r\n        isEditMode: false,\r\n        isImgModalOpen: false\r\n    }\r\n    async componentDidMount() {\r\n        window.scrollTo(0, 0)\r\n        const { user } = this.props\r\n        if (user) {\r\n            try {\r\n                await this.props.loadUser(user._id)\r\n            } catch (err) {\r\n                console.log('Had Issues', err);\r\n            }\r\n        }\r\n        else {\r\n            this.props.history.push('/')\r\n        }\r\n    }\r\n    componentDidUpdate(prevProps, prevState) {\r\n        const { user } = this.props\r\n        if (prevProps.user !== user) {\r\n            if (!user) this.props.history.push('/')\r\n        }\r\n    }\r\n    onToggleEditMode = () => {\r\n        const { user } = this.props\r\n        const { isEditMode } = this.state\r\n        console.log(user);\r\n        this.setState({ isEditMode: !isEditMode }, () => {\r\n            if (!isEditMode) this.setState(({ editedUser: user }))\r\n            else this.setState(({\r\n                editedUser: {\r\n                    username: '',\r\n                    fullname: '',\r\n                    imgUrl: '',\r\n                    email: ''\r\n                }\r\n            }))\r\n        })\r\n    }\r\n    onToggleImgModal = () => {\r\n        const { isImgModalOpen } = this.state\r\n        this.setState(({ isImgModalOpen: !isImgModalOpen }))\r\n    }\r\n    onDeleteImg = () => {\r\n        this.onToggleImgModal()\r\n        this.setState(prevState => ({ editedUser: { ...prevState.editedUser, imgUrl: '' } }))\r\n    }\r\n    handleChange = ({ target }) => {\r\n        const field = target.name\r\n        const value = target.value\r\n        this.setState(prevState => ({ editedUser: { ...prevState.editedUser, [field]: value } }))\r\n    }\r\n    onUploadImg = (ev) => {\r\n\r\n        const CLOUD_NAME = 'dkbfdybze'\r\n        const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`\r\n        const file = ev.target.files[0]\r\n        const formData = new FormData()\r\n        formData.append(\"file\", file)\r\n        formData.append(\"upload_preset\", \"ewa9mksh\")\r\n        return fetch(UPLOAD_URL, {\r\n            method: 'POST',\r\n            body: formData\r\n        })\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                const imgUrl = res.url\r\n                this.setState(prevState => ({ editedUser: { ...prevState.editedUser, imgUrl: imgUrl } }))\r\n            })\r\n            .catch(err => console.error(err))\r\n    }\r\n    onSaveUser = () => {\r\n        const { editedUser } = this.state\r\n        this.onToggleEditMode()\r\n        this.props.updateUser(editedUser)\r\n    }\r\n    render() {\r\n        const { user } = this.props\r\n        const { isEditMode, editedUser, isImgModalOpen } = this.state\r\n        // Add mail\r\n        const { username, fullname, imgUrl, email } = editedUser\r\n        return (\r\n            <main className=\"profile-page-container main-container\">\r\n                {isImgModalOpen && <div className=\"profile-screen\" onClick={this.onToggleImgModal}></div>}\r\n                <div className=\"page-padding\">\r\n                    <h1>Profile</h1>\r\n                    <section className=\"user-card-container flex align-center justify-center\">\r\n\r\n                        {user && <div className=\"user-card\">\r\n\r\n                            {!isEditMode ? <div className=\"profile-pic-wrapper flex justify-center align-center\">\r\n\r\n                                {!user.imgUrl ? <div className=\"profile-img-container\">\r\n                                    <div className=\"user-icon flex align-center justify-center\">\r\n                                        <FaUserAlt />\r\n                                    </div>\r\n                                </div> : <div className=\"profile-pic-container flex align-center justify-center\">\r\n                                    <div className=\"profile-img-container \">\r\n                                        <img src={isEditMode ? imgUrl : user.imgUrl} alt=\"\" />\r\n                                    </div>\r\n                                </div>}\r\n                            </div> : <div className=\"profile-pic-wrapper flex justify-center align-center\">\r\n                                {!imgUrl ? <div className=\"profile-img-container\">\r\n                                    <div className=\"user-icon flex align-center justify-center\">\r\n                                        <FaUserAlt />\r\n                                    </div>\r\n                                    <div className=\"edit-pencil-container\">\r\n                                        <div className=\"edit-pencil flex justify-center align-center\" >\r\n                                            <FaPencilAlt />\r\n                                        </div>\r\n                                        <input type=\"file\" className=\"profile-pic-uploader\" value={imgUrl} onChange={this.onUploadImg} />\r\n                                    </div>\r\n                                </div> : <div className=\"profile-pic-container flex align-center justify-center\">\r\n                                    <div className=\"profile-img-container \">\r\n\r\n                                        <img src={isEditMode ? imgUrl : user.imgUrl} alt=\"\" />\r\n                                        <div className=\"edit-pencil-container\">\r\n                                            <div className=\"edit-pencil flex justify-center align-center\" onClick={this.onToggleImgModal}>\r\n                                                <FaPencilAlt />\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>}\r\n                            </div>}\r\n                            <div className=\"user-details-container flex column\">\r\n                                <div className=\"full-name-container\">\r\n                                    <div className=\"user-details-line title-line\">\r\n                                        <h4>Full name</h4>\r\n                                    </div>\r\n                                    <div className=\"user-details-line\">\r\n                                        {isEditMode ? <TextField name=\"fullname\" value={fullname} onChange={this.handleChange} required /> : <p>{user.fullname}</p>}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"user-name-container\">\r\n                                    <div className=\"user-details-line title-line\">\r\n                                        <h4>User name</h4>\r\n                                    </div>\r\n                                    <div className=\"user-details-line\">\r\n                                        {isEditMode ? <TextField name=\"username\" value={username} onChange={this.handleChange} required /> : <p>{user.username}</p>}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"user-mail-container\">\r\n                                    <div className=\"user-details-line title-line\">\r\n                                        <h4>Email</h4>\r\n                                    </div>\r\n                                    <div className=\"user-details-line\">\r\n                                        {isEditMode ? <TextField name=\"email\" value={email} onChange={this.handleChange} required /> : <p>{user.email}</p>}\r\n                                    </div>\r\n                                </div>\r\n                                {/* <div className=\"user-details-line\"></div> */}\r\n                            </div>\r\n                            <div className=\"edit-user-btn-container flex justify-center align-center\">\r\n                                {isEditMode ? <div className=\"edit-btns-container flex align-center justify-center\">\r\n                                    <button className=\"user-edit-btn cancel\" onClick={this.onToggleEditMode}>Cancel</button>\r\n                                    <button className=\"user-edit-btn save\" onClick={this.onSaveUser}>Save</button>\r\n                                </div> : <AirBnbBtn btnAction={this.onToggleEditMode} btnInnerTxt=\"Edit User\" />}\r\n                            </div>\r\n                            {isImgModalOpen && <div className=\"pic-edit-popup-container\">\r\n                                <div className=\"pic-edit-popup flex column justify-center\">\r\n                                    <div className=\"pic-popup-line\" onClick={this.onDeleteImg}>\r\n                                        <p>Delete photo</p>\r\n                                    </div>\r\n                                    <div className=\"pic-popup-line\">\r\n                                        <div>\r\n                                            <p>Upload new photo</p>\r\n                                        </div>\r\n                                        <input type=\"file\" onClick={this.onToggleImgModal} onChange={this.onUploadImg} />\r\n                                    </div>\r\n                                </div>\r\n                            </div>}\r\n                        </div>}\r\n                    </section>\r\n\r\n                </div>\r\n            </main>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadUser,\r\n    updateUser\r\n}\r\n\r\n\r\nexport const UserProfile = connect(mapStateToProps, mapDispatchToProps)(_UserProfile)","import { HomePage } from './pages/home-page.jsx'\r\nimport { AboutUs } from './pages/about-us.jsx'\r\nimport { Explore } from './pages/explore.jsx'\r\n// import { ChatApp } from './pages/chat-app.jsx'\r\nimport { AdminApp } from './pages/admin-app.jsx'\r\nimport { StayDetails } from './pages/stay-details.jsx'\r\nimport { LoginPage } from './pages/login.jsx'\r\nimport { TripsPage } from './pages/trips-page.jsx'\r\nimport { HostPage } from './pages/host-page.jsx'\r\nimport { BecomeAHost } from './pages/become-a-host.jsx'\r\nimport { NotificationsPage } from './pages/notifications.jsx'\r\nimport { LoginSignup } from './cmps/login-signup.jsx'\r\nimport { WishList } from './pages/wishlist.jsx'\r\nimport { UserProfile } from './pages/user-profile.jsx'\r\n// import { Login } from './pages/'\r\n\r\n// Routes accesible from the main navigation (in AppHeader)\r\nconst routes = [\r\n    {\r\n        path: '/',\r\n        component: HomePage,\r\n    },\r\n\r\n    {\r\n        path: '/explore/',\r\n        component: Explore,\r\n    },\r\n    {\r\n        path: '/stay/:stayId',\r\n        component: StayDetails,\r\n    },\r\n    {\r\n        path: '/trips',\r\n        component: TripsPage,\r\n    },\r\n    {\r\n        path: '/host',\r\n        component: HostPage,\r\n    },\r\n    {\r\n        path: '/login',\r\n        component: LoginPage\r\n    },\r\n    {\r\n        path: '/login-dev',\r\n        component: LoginSignup\r\n    },\r\n    {\r\n        path: '/become-a-host',\r\n        component: BecomeAHost\r\n    },\r\n\r\n    {\r\n        path: '/about',\r\n        component: AboutUs,\r\n\r\n    },\r\n    {\r\n        path: '/profile',\r\n        component: UserProfile,\r\n\r\n    },\r\n    {\r\n        path: '/wishlist',\r\n        component: WishList,\r\n\r\n    },\r\n    {\r\n        path: '/notifications',\r\n        component: NotificationsPage,\r\n\r\n    },\r\n    {\r\n        path: '/admin',\r\n        component: AdminApp,\r\n    }\r\n]\r\n\r\nexport default routes;","import React from 'react'\r\nimport { FaPlus, FaMinus } from 'react-icons/fa'\r\nexport class GuestsModal extends React.Component {\r\n\r\n\r\n    render() {\r\n        const { adultNumber, kidsNumber, infantsNumber, onSelectAmount } = this.props\r\n        return (\r\n            <div className=\"guest-modal flex column\">\r\n                <div className=\"guest-card flex space-between  align-center\">\r\n                    <div className=\"column\">\r\n                        <p className=\"guest-type\">Adults</p>\r\n                        <p className=\"guest-desc\">Ages 13 or above</p>\r\n                    </div>\r\n                    <div className=\"guest-amount\">\r\n                        <p className={adultNumber ? \"guest-btn\" : \"guest-btn zero\"} onClick={() => onSelectAmount('adultNumber', -1)}><FaMinus /></p>\r\n                        <p className=\"guest-amount-count\">{adultNumber ? adultNumber : 0}</p>\r\n                        <p className=\"guest-btn \" onClick={() => onSelectAmount('adultNumber', 1)}><FaPlus />\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"guest-card flex space-between align-center\">\r\n                    <div className=\"column\">\r\n                        <p className=\"guest-type\">Children</p>\r\n                        <p className=\"guest-desc\">Ages 2-12</p>\r\n                    </div>\r\n                    <div className=\"guest-amount\">\r\n                        <p className={kidsNumber ? \"guest-btn\" : \"guest-btn zero\"} onClick={() => onSelectAmount('kidsNumber', -1)}><FaMinus /></p>\r\n                        <p className=\"guest-amount-count\">{kidsNumber ? kidsNumber : 0}</p>\r\n                        <p className=\"guest-btn \" onClick={() => onSelectAmount('kidsNumber', 1)}><FaPlus />\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"guest-card flex space-between  align-center\">\r\n                    <div className=\"column\">\r\n                        <p className=\"guest-type\">Infants</p>\r\n                        <p className=\"guest-desc\">Under 2</p>\r\n                    </div>\r\n                    <div className=\"guest-amount \">\r\n                        <p className={infantsNumber ? \"guest-btn\" : \"guest-btn zero\"} onClick={() => onSelectAmount('infantsNumber', -1)}><FaMinus /></p>\r\n                        <p className=\"guest-amount-count\">{infantsNumber ? infantsNumber : 0}</p>\r\n                        <p className=\"guest-btn\" onClick={() => onSelectAmount('infantsNumber', 1)}><FaPlus />\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nconst locations = [{ city: 'Porto', country: 'Portugal', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-1_avfpxl.png' }, { city: 'Barcelona', country: 'Spain', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-2_qchnx7.png' }, { city: 'Tel Aviv', country: 'Israel', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521280/location%20previews/location-preview-3_fndewl.png' }, { city: 'Paris', country: \"France\", imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-4_nqshaa.jpg' }, { city: 'London', country: 'United Kingdom', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-5_pbuhtd.jpg' }, { city: 'New York', country: 'United States', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-6_kynrq5.png' }, { city: 'Amsterdam', country: 'Netherlands', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521278/location%20previews/location-preview-7_unmsuc.jpg' }, { city: 'Rome', country: 'Italy', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-8_yjbewa.png' }]\r\nexport function LocationsPopUp({ closeAllModals, onSetLocationPopUp }) {\r\n    async function onPushTo(loc) {\r\n        closeAllModals()\r\n        onSetLocationPopUp(loc)\r\n    }\r\n\r\n    return (\r\n        <div className=\"location-modal flex column\">\r\n            {locations.map((location, idx) => <div key={idx} className=\"location-card flex align-center\" onClick={() => { onPushTo(location.city) }}>\r\n                <img src={location.imgUrl} alt=\"location\" className=\"loc-img\" />\r\n                <div className=\"flex column\">\r\n                    <p className=\"location-city\">{location.city}</p>\r\n                    <p className=\"location-country\">{location.country}</p>\r\n                </div>\r\n            </div>\r\n            )}\r\n        </div>\r\n\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { GuestsModal } from './guests-modal';\r\nimport { FaSearch, FaChevronLeft } from 'react-icons/fa'\r\nimport { withRouter } from \"react-router-dom\"\r\nimport { DatesPicker2 } from \"./dates-picker2\"\r\nimport { LocationsPopUp } from './locations-popup';\r\nclass _SearchBar extends React.Component {\r\n    state = {\r\n        startDate: null,\r\n        endDate: null,\r\n        location: '',\r\n        adultNumber: 0,\r\n        kidsNumber: 0,\r\n        infantsNumber: 0,\r\n        capacity: 0,\r\n        amenities: '',\r\n        assetType: '',\r\n        uniqueStay: '',\r\n        guestModal: false,\r\n        datesModal: false,\r\n        hostId: ''\r\n    }\r\n    componentDidMount() {\r\n        const params = this.onGetQueryParams()\r\n        this.props.setFilter(params)\r\n        this.setState({ ...params })\r\n    }\r\n    onGetQueryParams = () => {\r\n        const urlParams = new URLSearchParams(this.props.location.search);\r\n        const location = urlParams.get('location') || '';\r\n        const startDate = urlParams.get('startDate') || null;\r\n        const endDate = urlParams.get('endDate') || null;\r\n        const adultNumber = +urlParams.get('adults') || 1;\r\n        const kidsNumber = +urlParams.get('kids') || 0;\r\n        const infantsNumber = +urlParams.get('infants') || 0;\r\n        const params = {\r\n            location,\r\n            startDate,\r\n            endDate,\r\n            adultNumber,\r\n            kidsNumber,\r\n            infantsNumber,\r\n            capacity: 0,\r\n            amenities: '',\r\n            assetType: '',\r\n            uniqueStay: '',\r\n            guestModal: false,\r\n            datesModal: false,\r\n            hostId: ''\r\n        }\r\n        return params\r\n    }\r\n    handleChange = (ev) => {\r\n        const value = ev.target.value;\r\n        var newValue = this.capitalizeArray(value)\r\n        this.setState({ location: newValue }, () => { this.props.setFilter(this.state) });\r\n    }\r\n    capitalizeArray = (str) => {\r\n        var newStr = str.split(' ')\r\n        for (var i = 0; i < newStr.length; i++) {\r\n            var currWord = ''\r\n            currWord = newStr[i]\r\n            currWord = this.capitalize(currWord)\r\n            newStr[i] = currWord\r\n        }\r\n        newStr = newStr.join(' ')\r\n        return newStr\r\n    }\r\n    capitalize = (str) => {\r\n        return str.charAt(0).toUpperCase() + str.slice(1).toLowerCase()\r\n    }\r\n    onSelectDates = ({ startDate, endDate }) => {\r\n        this.setState({ startDate, endDate }, () => { this.props.setFilter(this.state) })\r\n    }\r\n\r\n    onSelectAmount = (guestType, diff) => {\r\n        switch (guestType) {\r\n            case 'adultNumber':\r\n                if (this.state.adultNumber + diff >= 0) {\r\n                    this.setState({ adultNumber: this.state.adultNumber + diff }, () => { this.props.setFilter(this.state) })\r\n                }\r\n                break;\r\n            case 'kidsNumber':\r\n                if (this.state.kidsNumber + diff >= 0) {\r\n                    this.setState({ kidsNumber: this.state.kidsNumber + diff }, () => { this.props.setFilter(this.state) })\r\n                }\r\n                break;\r\n            case 'infantsNumber':\r\n                if (this.state.infantsNumber + diff >= 0) {\r\n                    this.setState({ infantsNumber: this.state.infantsNumber + diff }, () => { this.props.setFilter(this.state) })\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    onSetFilter = async () => {\r\n        await this.props.setFilter(this.state)\r\n        const { location, startDate, endDate, adultNumber, kidsNumber, infantsNumber } = this.state\r\n        const urlQuery = `explore/?location=${location}&startDate=${startDate}&endDate=${endDate}&adults=${adultNumber}&kids=${kidsNumber}&infants=${infantsNumber}`\r\n        this.props.closeAllModals()\r\n        await this.props.loadStays(this.props.filterBy)\r\n        this.props.history.push(urlQuery)\r\n    }\r\n    onSetLocationPopUp = (val) => {\r\n        this.setState({ location: val },()=>{this.onSetFilter()})\r\n    }\r\n\r\n    timeToShow = (date, val) => {\r\n        var timeStamp = Date.parse(date);\r\n        var time = new Date(timeStamp);\r\n        var day = \"0\" + time.getDate();\r\n        var month = \"0\" + (time.getMonth() + 1);\r\n        var year = \"0\" + time.getFullYear();\r\n        var formattedTime = day.substr(-2) + '.' + month.substr(-2) + '.' + year.substr(-2);\r\n        return formattedTime\r\n    }\r\n\r\n    render() {\r\n        const { isMiniHeader, guestModal, datesModal, locModal, onToggleSearchModals, onToggleMiniSearchBar, closeAllModals, filterBy } = this.props\r\n        const { location, adultNumber, kidsNumber, infantsNumber, endDate, startDate } = this.state\r\n        return (\r\n            <div >\r\n                <div className=\"search-bar-container flex align-center \">\r\n                    <button className=\"go-back-btn\" onClick={() => { window.history.back() }}><FaChevronLeft size={22} /></button>\r\n                    <div className=\"location-container flex column\" onClick={() => { onToggleSearchModals('locModal') }}>\r\n                        <label htmlFor=\"location\" className=\"loc-inpt\">Location\r\n                            <input type=\"text\" name=\"location\" autoComplete=\"off\" value={location} onChange={this.handleChange} placeholder=\"Where are you going?\" />\r\n                        </label>\r\n                    </div>\r\n                    {locModal && <LocationsPopUp onSetLocationPopUp={this.onSetLocationPopUp}  closeAllModals={closeAllModals}  />}\r\n                    <div className=\"mini-search-input\" onClick={onToggleMiniSearchBar}>\r\n                        <p >\r\n                            {filterBy.location ? filterBy.location : 'Start your search'}\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"dates-container flex \">\r\n                        <div className=\"check-in-input flex column\">\r\n                            <label htmlFor=\"\" onClick={() => { onToggleSearchModals('datesModal') }}>Check in <span>{startDate ? this.timeToShow(startDate, 'startDate') : 'Add date'}</span></label>\r\n                        </div>\r\n                        <div className=\"check-out-input flex column\" >\r\n                            <label htmlFor=\"\" onClick={() => { onToggleSearchModals('datesModal') }}>Check out <span>{endDate ? this.timeToShow(endDate, 'startDate') : 'Add date'}</span></label>\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"guests-container\" >\r\n                        <div className=\"guests-label align-center flex\" onClick={(ev) => { onToggleSearchModals('guestModal',) }}>\r\n                            <label htmlFor=\"\" className=\"flex column\" >\r\n                                <span>Guests</span>\r\n                                <span className=\"guest-placeholder\">Add guests</span>\r\n                            </label>\r\n                        </div>\r\n                        {guestModal && <GuestsModal adultNumber={adultNumber} kidsNumber={kidsNumber} infantsNumber={infantsNumber} onSelectAmount={this.onSelectAmount} />}\r\n                    </div>\r\n                    <div className=\"search-btn-container flex align-center justify-center\" onClick={() => { this.onSetFilter() }} >\r\n                        {isMiniHeader && < FaSearch size={13} />}\r\n                        {!isMiniHeader && < FaSearch size={20} />}\r\n                    </div>\r\n\r\n                </div>\r\n                <div className=\"search-dates-container \">\r\n                    {datesModal && <DatesPicker2 onSelectDates={this.onSelectDates} />}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport const SearchBar = withRouter(_SearchBar)\r\n\r\n// export const SearchBar = withRouter(connect(mapStateToProps, mapDispatchToProps)(_SearchBar))\r\n","import React from 'react'\r\nimport { withRouter } from 'react-router'\r\nimport { connect } from 'react-redux'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { onLogout, loadUser } from '../store/user.actions'\r\nimport NotificationsNoneIcon from '@mui/icons-material/NotificationsNone';\r\nimport { socketService } from '../services/socket.service'\r\nclass _UserMenu extends React.Component {\r\n    state = {\r\n        isLoginModalOn: false\r\n    }\r\n    componentDidMount() {\r\n        if (this.props.user) {\r\n            this.props.loadUser(this.props.user._id)\r\n        }\r\n    }\r\n\r\n    onLogout = () => {\r\n        this.props.onLogout()\r\n        this.props.onToggleSearchModals('menuModal')\r\n        socketService.off('getNotif')\r\n        socketService.terminate()\r\n        // this.props.history.push('/')\r\n    }\r\n\r\n    onCloseLogin = () => {\r\n        this.setState({ isLoginModalOn: false })\r\n        this.props.onToggleSearchModals('menuModal')\r\n    }\r\n    onOpenLogin = () => {\r\n        this.props.history.push('/login')\r\n        this.props.onOpenBotLogin()\r\n        this.props.onToggleSearchModals('menuModal')\r\n    }\r\n\r\n    render() {\r\n        const { user } = this.props\r\n        return (\r\n            <div className=\"user-menu-container flex column\" >\r\n                <section className=\"user-menu top-section \">\r\n                    <div >\r\n                        {user && <NavLink onClick={() => this.props.onToggleSearchModals('menuModal')} className=\"user-menu-line flex space-between\" to=\"/notifications\"><p>Notifications</p><span className={user.notifications.length ? 'user-notifications-icon' : 'user-notifications-icon hide'}>{user.notifications.some(notif => !notif.isRead) ? <NotificationsNoneIcon /> : ''}</span></NavLink>}\r\n                    </div>\r\n                    <div  >\r\n                        {user && <NavLink onClick={() => this.props.onToggleSearchModals('menuModal')} className=\"user-menu-line\" to=\"/trips\"><p >Trips</p></NavLink>}\r\n                        {!user && <p className=\"user-menu-line\"> Trips</p>}\r\n\r\n                    </div>\r\n                    {\r\n                        user && user.isHost && <div >\r\n                            <NavLink onClick={() => this.props.onToggleSearchModals('menuModal')} to=\"/host\" className=\"user-menu-line\" ><p>Host</p></NavLink>\r\n\r\n                        </div>\r\n                    }\r\n                    <div >\r\n                        {user ? <NavLink className=\"user-menu-line\" onClick={() => this.props.onToggleSearchModals('menuModal')} to=\"/wishlist\"> <p>Wishlist</p> </NavLink> : <p className=\"user-menu-line\">Wishlist</p>}\r\n                    </div>\r\n                    <div >\r\n                        {user ? user.isHost ? '' : <NavLink onClick={() => this.props.onToggleSearchModals('menuModal')} className=\"user-menu-line\" to=\"/become-a-host\"><p >Host a expirience</p></NavLink> : <p className=\"user-menu-line\">Host a expirience</p>}\r\n\r\n                    </div>\r\n                </section >\r\n                <section className=\"user-menu bottom-section\">\r\n                    {user && <NavLink className=\"user-menu-line\" to=\"/profile\">\r\n                        <p>Profile</p>\r\n                    </NavLink>}\r\n                    {user && <div className=\"user-menu-line\" onClick={this.onLogout}>\r\n                        <p>Logout</p>\r\n                    </div>}\r\n                    {!user && <div className=\"user-menu-line\" onClick={this.onOpenLogin}>\r\n                        <p>Login</p>\r\n                        {/* <Link to='/login'>Login</Link> */}\r\n                    </div>}\r\n                    {!user && <div className=\"user-menu-line\" onClick={this.onOpenLogin}>\r\n                        <p>Signup</p>\r\n                    </div>}\r\n\r\n                </section>\r\n            </div >\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onLogout,\r\n    loadUser\r\n}\r\nexport const UserMenu = withRouter(connect(mapStateToProps, mapDispatchToProps)(_UserMenu))","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { FaAirbnb, FaBars, FaUserAlt } from 'react-icons/fa'\r\nimport { onLogin, onLogout, onSignup, loadUsers, removeUser, } from '../store/user.actions.js'\r\nimport { setFilter, setMiniHeader, loadStays } from '../store/stay.actions';\r\nimport { SearchBar } from './search-bar';\r\nimport { UserMenu } from './user-menu';\r\nclass _AppHeader extends React.Component {\r\n    state = {\r\n        isUserMenuOpen: false,\r\n        isLoginBotmodal: false,\r\n        isScreenOpen: false,\r\n        guestModal: false,\r\n        datesModal: false,\r\n        locModal: false,\r\n        isMiniInput: false,\r\n        isNotifRead: false\r\n\r\n    }\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0)\r\n        window.addEventListener('scroll', this.onScrollCloseModals)\r\n    }\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevProps.isMiniHeader !== this.props.isMiniHeader && !this.props.isMiniHeader) {\r\n            this.closeAllModals()\r\n        }\r\n\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener('scroll', this.onScrollCloseModals)\r\n    }\r\n\r\n    onScrollCloseModals = (ev) => {\r\n        if (ev.target.scrollingElement.scrollTop > 1) {\r\n            this.closeAllModals()\r\n            this.setState({ isMiniInput: false })\r\n        }\r\n    }\r\n    onOpenBotLogin = () => {\r\n        this.setState({ isLoginBotmodal: true })\r\n    }\r\n    onToggleScreen = (val) => {\r\n        this.setState({ isScreenOpen: val })\r\n    }\r\n    onToggleSearchModals = (modal) => {\r\n        this.closeAllModals()\r\n        switch (modal) {\r\n            case 'locModal':\r\n                this.onToggleScreen(!this.state.locModal)\r\n                this.setState({ locModal: !this.state.locModal })\r\n                break;\r\n            case 'guestModal':\r\n                this.onToggleScreen(!this.state.guestModal)\r\n                this.setState({ guestModal: !this.state.guestModal })\r\n                break;\r\n            case 'datesModal':\r\n                this.onToggleScreen(!this.state.datesModal)\r\n                this.setState({ datesModal: !this.state.datesModal })\r\n                break;\r\n            case 'menuModal':\r\n                this.onToggleScreen(!this.state.isUserMenuOpen)\r\n                this.setState({ isUserMenuOpen: !this.state.isUserMenuOpen })\r\n                break;\r\n            default:\r\n                break;\r\n\r\n        }\r\n    }\r\n\r\n    closeAllModals = () => {\r\n        this.onToggleScreen(false)\r\n        this.setState({ locModal: false, guestModal: false, datesModal: false, isUserMenuOpen: false })\r\n    }\r\n    onToggleMiniSearchBar = () => {\r\n        this.setState({ isMiniInput: !this.state.isMiniInput })\r\n    }\r\n    render() {\r\n        const { user, setFilter, filterBy, isMiniHeader } = this.props\r\n        const { isUserMenuOpen, isLoginBotmodal, isScreenOpen, locModal, datesModal, guestModal, isMiniInput } = this.state\r\n        return (\r\n            <header className={isMiniInput ? `app-header-conatiner main-container mini-header-with-input` : isMiniHeader ? `app-header-conatiner main-container mini-header full` : `app-header-conatiner main-container `}>\r\n                <div className={isScreenOpen ? \"screen screen-open full\" : \"screen full\"} onClick={() => { this.closeAllModals() }}></div>\r\n                <nav className=\"user-header-section flex space-between align-center\">\r\n                    <div className=\"logo-container flex align-center\">\r\n                        <NavLink to=\"/\" className=\"logo\"><FaAirbnb size={40} color={!isMiniHeader ? '#fff' : '#ff5a5f'} /><span>AnyGo</span></NavLink>\r\n                    </div>\r\n                    <div className=\"search-bar\">\r\n                        {isMiniHeader && <SearchBar loadStays={this.props.loadStays} closeAllModals={this.closeAllModals} setFilter={setFilter} isMiniHeader={isMiniHeader} filterBy={filterBy} datesModal={datesModal} guestModal={guestModal} locModal={locModal} onToggleSearchModals={this.onToggleSearchModals} onToggleMiniSearchBar={this.onToggleMiniSearchBar} />}\r\n                    </div>\r\n                    <div className=\"nav-bar-container flex \">\r\n                        <div className=\"flex align-center\">\r\n                            <NavLink to=\"/explore/\" className=\"nav-opt\">Explore</NavLink>\r\n                        </div>\r\n                        <div className=\"nav-options flex align-center\">\r\n                            {user && user.isHost ? <NavLink to=\"/host\" className=\"nav-opt\">Switch to hosting</NavLink> : <NavLink to=\"/become-a-host\" className=\"nav-opt\">Become a host</NavLink>}\r\n                        </div>\r\n                        <div className=\"user-img-container \" onClick={() => { this.onToggleSearchModals('menuModal') }}>\r\n                            <button className=\"user-btn flex align-center btn-section  \">\r\n                                <FaBars className=\"menu-btn\" />\r\n                                {!user?.imgUrl ? <div className=\"user-logo-container\">\r\n                                <div className=\" user-icon flex align-center justify-center\">\r\n                                    <FaUserAlt  />\r\n                                    </div>\r\n                                </div> : <div className=\"user-logo-container\">\r\n                                    <img src={user.imgUrl} alt=\"\" />\r\n                                </div>}\r\n                            </button>\r\n                            {(user?.notifications?.length && user.notifications.some(notif => !notif.isRead)) ? <div className=\"notif-icon-container\">\r\n                                <div className=\"notif-icon flex align-center justify-center\">{user.notifications.filter(notif => !notif.isRead).length}</div>\r\n                            </div> : ''}\r\n                        </div>\r\n                        <div className=\"user-menu\">\r\n                            {isUserMenuOpen && <UserMenu onCheckRead={this.onCheckRead} onToggleSearchModals={this.onToggleSearchModals} onOpenBotLogin={this.onOpenBotLogin} />}\r\n                        </div>\r\n                    </div>\r\n                </nav>\r\n                {!isMiniHeader && <SearchBar loadStays={this.props.loadStays} closeAllModals={this.closeAllModals} setFilter={setFilter} isMiniHeader={isMiniHeader} filterBy={filterBy} datesModal={datesModal} guestModal={guestModal} locModal={locModal} onToggleSearchModals={this.onToggleSearchModals} />}\r\n                {isLoginBotmodal && <div className=\"main-container\">\r\n                </div>}\r\n            </header>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        users: state.userModule.users,\r\n        user: state.userModule.user,\r\n        count: state.userModule.count,\r\n        isLoading: state.systemModule.isLoading,\r\n        filterBy: state.stayModule.filterBy,\r\n        isMiniHeader: state.stayModule.isMiniHeader\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onLogin,\r\n    onSignup,\r\n    onLogout,\r\n    loadUsers,\r\n    removeUser,\r\n    setFilter,\r\n    setMiniHeader,\r\n    loadStays\r\n}\r\n\r\nexport const AppHeader = connect(mapStateToProps, mapDispatchToProps)(_AppHeader)","import { Link } from \"react-router-dom\"\r\n\r\nexport function TopRatedStays({ stays}) {\r\n    return (\r\n        <section className=\"flex column top-rated-stays \">\r\n            <h4>Top rated stays</h4>\r\n            {\r\n                stays.map(stay =>\r\n                    \r\n                    <div  key={stay._id} className=\"flex column stay-links\">\r\n                        <Link to={`/stay/${stay._id}`}>{stay.name}</Link>\r\n                    </div>\r\n                )\r\n            }\r\n        </section>\r\n    )\r\n}","function on(eventName, listener) {\r\n\r\n    const callListener = ({ detail }) => {\r\n        listener(detail);\r\n    };\r\n\r\n    window.addEventListener(eventName, callListener);\r\n\r\n    return () => {\r\n        window.removeEventListener(eventName, callListener);\r\n    };\r\n}\r\n\r\nfunction emit(eventName, data) {\r\n    window.dispatchEvent(new CustomEvent(eventName, { detail: data }));\r\n}\r\n\r\nexport const eventBusService = { on, emit };\r\n\r\nexport function showUserMsg(txt, type = '') {\r\n    eventBusService.emit('show-user-msg', { txt, type })\r\n}\r\nexport function showSuccessMsg(txt) {\r\n    showUserMsg(txt, 'success')\r\n}\r\nexport function showErrorMsg(txt) {\r\n    showUserMsg(txt, 'danger')\r\n}\r\n\r\nwindow.myBus = eventBusService;\r\nwindow.showUserMsg = showUserMsg;\r\n\r\n\r\n\r\n// eventBusService.emit('baba', [5, 8, 11])\r\n// setTimeout(()=>{\r\n//     eventBusService.emit('baba', 17)\r\n// }, 2000)\r\n\r\n/* Listening Component...\r\n    import {eventBusService} from 'path...event-bus-service'\r\n    eventBusService.on('some-event', (dataFromEvent) => {\r\n    do something with dataFromEvent\r\n    })\r\n\r\n   Receiving Component...\r\n    eventBusService.emit('some-event', data)\r\n*/","import React from 'react'\r\n\r\nimport { eventBusService } from '../services/event-bus.service.js'\r\n\r\n\r\nexport class UserMsg extends React.Component {\r\n\r\n  removeEvent;\r\n\r\n  state = {\r\n    msg: null\r\n  }\r\n\r\n  componentDidMount() {\r\n    // Here we listen to the event that we emited, its important to remove the listener \r\n    this.removeEvent = eventBusService.on('show-user-msg', (msg) => {\r\n      this.setState({ msg })\r\n      setTimeout(() => {\r\n        this.setState({ msg: null })\r\n      }, 2500)\r\n    })\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.removeEvent()\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.msg) return <span></span>\r\n    const msgClass = this.state.msg.type || ''\r\n    return (\r\n      <section className={'user-msg ' + msgClass}>\r\n        <div className=\"content-msg\">\r\n        <h3> {this.state.msg.txt}</h3>\r\n        </div>\r\n        <div className=\"close-msg-btn\">\r\n        <button onClick={() => {\r\n          this.setState({ msg: null })\r\n        }}>x</button>\r\n        </div>\r\n      </section>\r\n    )\r\n  }\r\n}\r\n","const locations = [{ city: 'Porto', country: 'Portugal' }, { city: 'Barcelona', country: 'Spain' }, { city: 'Tel Aviv', country: 'Israel' }, { city: 'Paris', country: \"France\" }, { city: 'London', country: 'United Kingdom' }, { city: 'New York', country: 'United States' }, { city: 'Amsterdam', country: 'Netherlands' }, { city: 'Rome', country: 'Italy' }]\r\nexport function FooterLocations({onClickLoc}) {\r\n    return (\r\n        <div className='flex column footer-locations'>\r\n            <h4>Locations</h4>\r\n            {\r\n                locations.map((loc,idx) =><p key={idx} onClick={()=>onClickLoc(loc.city,'location')}>{loc.city},{loc.country}</p>)\r\n            }\r\n        </div>\r\n    )\r\n}","import { Link } from \"react-router-dom\"\r\n\r\nexport function NearbyStays({ stays }) {\r\n    return <div className='flex column nearby-stays'>\r\n        <h4>Nearby</h4>\r\n        {stays.map(stay => <Link key={stay._id} to={`/stay/${stay._id}`}>{stay.name}</Link>)}\r\n    </div>\r\n}","\r\nimport React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport { TopRatedStays } from './app-footer/top-rated-stays'\r\nimport { loadStays } from '../store/stay.actions'\r\nimport { removeFromCart, checkout, setFilter } from '../store/stay.actions'\r\nimport { onBookTrip, loadUser } from '../store/user.actions'\r\nimport { UserMsg } from './user-msg.jsx'\r\nimport { FooterLocations } from './app-footer/locations-footer'\r\nimport { NearbyStays } from './app-footer/nearby-stays'\r\nclass _AppFooter extends React.Component {\r\n\r\n    state = {\r\n        isCartShown: false,\r\n        topRatedStays: [],\r\n        nearbyStays: [],\r\n        stays: []\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.props.loadStays(this.props.filterBy)\r\n        this.setState({ stays: this.props.stays })\r\n        await this.props.loadUser()\r\n        const topRatedStays = this.state.stays.slice(0, 8)\r\n        this.setState({ topRatedStays })\r\n        this.filterLocs(this.state.stays)\r\n    }\r\n    filterLocs =  (stays) => {\r\n        stays = stays.filter(stay => stay.loc.address.toLowerCase().includes('paris'))\r\n        stays = stays.slice(0, 8)\r\n         this.setState({ nearbyStays: stays })\r\n    }\r\n    removeFromCart = (stayId) => {\r\n        this.props.removeFromCart(stayId)\r\n    }\r\n    checkout = () => {\r\n        this.props.checkout();\r\n    }\r\n    getstaytTotal() {\r\n        return this.props.cart.reduce((acc, stay) => acc + stay.price, 0)\r\n    }\r\n    onClickLoc = (val, type) => {\r\n        const newFilter = { ...this.props.filterBy }\r\n        newFilter[type] = val\r\n        this.props.setFilter(newFilter)\r\n        this.props.history.push('/explore')\r\n    }\r\n\r\n    render() {\r\n        const { user } = this.props\r\n        return (\r\n            <footer className=\"app-footer main-container full\">\r\n                <h2>Insparation for future getaways</h2>\r\n                <div className='flex footer-link-headers'>\r\n\r\n\r\n                </div>\r\n                <div className=\"flex footer-links align-center space-between\">\r\n                    <TopRatedStays stays={this.state.topRatedStays} />\r\n                    <FooterLocations locations={this.locations} onClickLoc={this.onClickLoc} />\r\n                    <NearbyStays stays={this.state.nearbyStays} />\r\n\r\n                </div>\r\n                <div className=\"footer-info flex space-between align-center\">\r\n                    <div className=\"footer-first flex\">\r\n                        <p>\r\n                            © 2021 AnyGo ,Inc.,\r\n                        </p>\r\n                        <Link to='/login'>Login</Link>\r\n                        {user && <Link to={user.isHost ? '/host' : '/become-a-host'}>{user.isHost ? ' Host page' : ' Become a host'}</Link>}\r\n                    </div>\r\n                    <div className=\"footer-second flex\">\r\n                        <p>$US</p>\r\n                        <p>English(US)</p>\r\n                    </div>\r\n                </div>\r\n                <UserMsg />\r\n            </footer>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        count: state.userModule.count,\r\n        cart: state.stayModule.cart,\r\n        user: state.userModule.user,\r\n        stays: state.stayModule.stays,\r\n        filterBy: state.stayModule.filterBy,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    checkout,\r\n    onBookTrip,\r\n    removeFromCart,\r\n    loadStays,\r\n    loadUser,\r\n    setFilter\r\n}\r\n\r\n// export const AppFooter = connect(mapStateToProps, mapDispatchToProps)(_AppFooter)\r\nexport const AppFooter = withRouter(connect(mapStateToProps, mapDispatchToProps)(_AppFooter))","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport {loadAndWatchUser} from '../store/user.actions'\r\n\r\nexport class _UserDetails extends Component {\r\n  \r\n  async componentDidMount() {\r\n    this.props.loadAndWatchUser(this.props.match.params.id)\r\n  }\r\n\r\n  render() {\r\n    const {user} = this.props\r\n    return (\r\n      <section className=\"user-details\">\r\n        <h1>User Details</h1>\r\n        {user && <div>\r\n          <h3>\r\n            {user.fullname}\r\n          </h3>\r\n          <pre>\r\n            {JSON.stringify(user, null, 2)}\r\n          </pre>\r\n        </div>}\r\n      </section>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    user: state.userModule.watchedUser\r\n  }\r\n}\r\nconst mapDispatchToProps = {\r\n  loadAndWatchUser\r\n}\r\n\r\nexport const UserDetails = connect(mapStateToProps, mapDispatchToProps)(_UserDetails)\r\n","import React from 'react'\r\n\r\n// const { Switch, Route } = ReactRouterDOM\r\nimport { Switch, Route } from 'react-router-dom'\r\n\r\nimport routes from './routes'\r\n\r\nimport {AppHeader} from './cmps/app-header'\r\nimport {AppFooter} from './cmps/app-footer'\r\nimport {UserDetails} from './pages/user-details'\r\n\r\nexport class RootCmp extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"root-cmp\">\r\n                <AppHeader  />\r\n                <main>\r\n                    <Switch>\r\n                        {routes.map(route=> <Route key={route.path} exact component={route.component} path={route.path} /> )}\r\n                        <Route path=\"/user/:id\" component={UserDetails} />\r\n                    </Switch>\r\n                </main>\r\n                <AppFooter />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { HashRouter as Router } from 'react-router-dom'\r\nimport { Provider } from 'react-redux'\r\nimport { store } from './store/store'\r\nimport { RootCmp } from './root-cmp';\r\nimport './assets/styles/main.scss';\r\n\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <Router>\r\n        <RootCmp />\r\n      </Router>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n// reportWebVitals();\r\n"],"sourceRoot":""}