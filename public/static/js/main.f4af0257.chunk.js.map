{"version":3,"sources":["store/stay.reducer.js","services/async-storage.service.js","services/http.service.js","services/user.service.js","store/user.reducer.js","store/review.reducer.js","store/system.reducer.js","store/order.reducer.js","store/store.js","assets/img/pets-allowed.jpg","assets/img/entire-duplex.jpg","assets/img/large-capacity.jpg","assets/img/unique-stays.jpg","services/stay.service.js","store/stay.actions.js","pages/home-page.jsx","pages/about-us.jsx","services/util.service.js","store/user.actions.js","cmps/preview-slider.jsx","cmps/stay-preview.jsx","cmps/stays-list.jsx","cmps/DynamicModal.jsx","cmps/price-range-slider.jsx","cmps/explore-filter.jsx","assets/img/three-dots.svg","pages/explore.jsx","pages/admin-app.jsx","cmps/stay-details/details-base-info.jsx","cmps/stay-details/details-asset-sum.jsx","cmps/stay-details/details-amenities.jsx","services/order.service.js","services/socket.service.js","store/order.actions.js","cmps/dates-picker2.jsx","cmps/stay-details/_guests-modal.jsx","cmps/stay-details/details-checkout-form.jsx","cmps/_read-more.jsx","cmps/stay-details/reviews-preview.jsx","cmps/stay-details/reviews-list.jsx","cmps/stay-details/stay-map.jsx","cmps/stay-details/add-review.jsx","cmps/stay-details/_reviews-avg.jsx","cmps/amenities-modal.jsx","pages/stay-details.jsx","cmps/login-signup.jsx","pages/login.jsx","assets/svgs/undraw_off_road_-9-oae.svg","cmps/trips-page/trip-preview.jsx","cmps/trips-page/trips-list.jsx","assets/svgs/undraw_navigator_a479.svg","pages/trips-page.jsx","cmps/host-page/add-stay-map.jsx","assets/img/no-img.png","cmps/host-page/add-stay.jsx","cmps/host-page/host-stays-list.jsx","cmps/host-page/dash-board.jsx","pages/host-page.jsx","pages/become-a-host.jsx","pages/notifications.jsx","pages/wishlist.jsx","cmps/AirBnb-Btn.jsx","pages/user-profile.jsx","routes.js","cmps/guests-modal.jsx","cmps/locations-popup.jsx","cmps/search-bar.jsx","cmps/user-menu.jsx","cmps/app-header.jsx","cmps/app-footer/top-rated-stays.jsx","services/event-bus.service.js","cmps/user-msg.jsx","cmps/app-footer/locations-footer.jsx","cmps/app-footer/nearby-stays.jsx","cmps/app-footer.jsx","pages/user-details.jsx","root-cmp.jsx","index.js"],"names":["initialState","stays","bookedTrip","stay","review","lastRemovedStay","isMiniHeader","filterBy","startDate","endDate","location","adultNumber","kidsNumber","infantsNumber","capacity","amenities","assetType","uniqueStay","guestModal","datesModal","hostId","storageService","query","get","entityType","entityId","then","entities","find","entity","_id","post","newEntity","_makeId","push","_save","put","updatedEntity","idx","findIndex","splice","remove","postMany","newEntities","map","gStays","gUsers","users","JSON","parse","localStorage","getItem","regex","RegExp","filter","test","loc","address","split","Promise","resolve","setItem","stringify","length","text","possible","i","charAt","Math","floor","random","BASE_URL","axios","Axios","create","withCredentials","httpService","endpoint","data","ajax","a","method","url","params","res","response","status","sessionStorage","clear","window","assign","STORAGE_KEY_LOGGEDIN_USER","gWatchedUser","userService","login","logout","signup","getLoggedinUser","getUsers","getById","userId","update","user","updatedUser","_saveLocalUser","userCred","isHost","imgUrl","myStays","notifications","mySaves","removeItem","addEventListener","freshUsers","watchedUser","u","count","reviews","isLoading","orders","order","rootReducer","combineReducers","stayModule","cart","state","action","newState","type","stayId","stayState","userModule","systemModule","reviewModule","reviewId","orderModule","lastRemovedOrder","orderId","orderState","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","listeners","stayService","save","subscribe","listener","filterPageStays","filterdStays","isStay","forEach","amenity","includes","placeType","PropertyType","toLowerCase","price","priceRange","UpdatedStay","loadStays","dispatch","setFilter","setMiniHeader","getState","onEditStay","stayToSave","updatedStay","console","log","cs","_notifySubscribersStaysChanged","locations","city","country","_HomePage","onSetMiniHeader","ev","target","scrollingElement","scrollTop","props","setHeaderDisplay","innerWidth","removeEventListener","changeCount","diff","onClickLoc","val","newFilter","history","scrollTo","this","className","to","src","alt","onClick","duplex","pet","cap","unique","React","Component","mapDispatchToProps","HomePage","connect","FancyBox","style","float","onClose","children","Contacts","height","backgroundColor","Projects","useState","projs","setProjs","projList","proj","stopPropagation","p","transitionName","transitionEnterTimeout","transitionLeaveTimeout","Date","now","SplitPane","width","setWidth","display","left","flex","right","AboutUs","onTellMeMore","clearInterval","interval","toLocaleString","MyErrorBoundary","error","errorInfo","setState","whiteSpace","toString","componentStack","utilService","makeId","txt","makeLorem","size","words","getRandomIntInclusive","min","max","ceil","delay","ms","setTimeout","toTimestamp","strDate","timeToShow","date","timeStamp","time","day","getDate","month","getMonth","year","getFullYear","substr","getAmenitiesIcons","FastfoodTwoTone","Pool","FireplaceOutlined","Kitchen","icon","LocalLaundryService","Deck","OutdoorGrill","Crib","BeachAccess","Checkroom","KingBed","Bathtub","Balcony","Iron","RoomService","CoffeeMaker","Speaker","SportsEsports","loadUsers","loadUser","removeUser","updateUser","userToSave","onLogin","credentials","onSignup","catch","err","onLogout","onBookTrip","trip","host","hostUser","userTrip","id","hostOrder","myTrips","updatedHost","LazyLoad","imgs","dots","infinite","speed","slidesToShow","slidesToScroll","arrows","img","_StayPreview","isLiked","onToggleLikeStay","onToggleLikedStay","isStayLiked","saved","name","baseVal","imgUrls","color","reviewsAvg","demoReviews","StayPreview","StaysList","DynamicModal","styleClass","child","index","AirbnbSlider","styled","Slider","theme","padding","border","boxShadow","marginLeft","marginRight","palette","mode","opacity","undefined","AirbnbThumbComponent","other","PriceRangeSlider","onSetPageFilter","allStaysPriceAvg","value","setValue","Box","sx","toFixed","m","components","Thumb","getAriaLabel","defaultValue","onChange","event","newValue","htmlFor","ExploreFilter","closeAllModals","modals","placeTypeIsOpen","PropertyTypeIsOpen","PriceIsOpen","AmenitiesTypeIsOpen","ameintiesOptions","onToggleModals","isChecked","onSetAmenity","onClearPageFilter","_Explore","isScreenOpen","frontFilter","savedStayId","updatedAmeintiesOpts","prevState","filterType","newStays","onToggleScreen","clearState","calcAllStaysPriceAvg","modal","staysAvg","reduce","acc","prevProps","loader","Explore","_AdminApp","username","AdminApp","BasicInfo","onToogleLikeStay","isMobilePics","AssetSum","AssetAmenities","orderService","UpdatedOrder","_notifySubscribersOrdersChanged","socketService","socket","setup","io","on","eventName","cb","off","removeAllListeners","emit","terminate","createSocketService","loadOrders","onRemoveOrder","onUpdateOrder","updatedOrder","DatesPicker2","handleSelect","selection","onSelectDates","toTimeStamp","selectionRange","key","classNames","rangeColors","ranges","GuestsCheckoutModal","onSelectGuests","toggleGuestsModal","guests","adults","kids","infants","_CheckoutForm","isGuestPopupOn","isCheckoutToReserve","isStayReserved","isReqModalOpen","toggleDatesModal","getTripPrice","start","totalNights","totalPrice","calcGuestNum","fullname","buyer","onAddOrder","onCloseModal","getMouseCord","getBtnDivs","divStr","datesModalPos","handleChange","getBoundingClientRect","bottom","orderToAdd","notif","byUser","fullName","createdAt","isRead","savedOrder","CheckoutForm","ReadMore","onToogleReadModal","CloseRounded","ReviewsPreview","isReadMoreOn","by","substring","_ReviewsList","slice","ReviewsList","_StayMap","center","lat","lng","onMapClicked","latLng","onMarkerClicked","isInfoWindowOn","onInfoWindowClose","containerStyle","position","margin","google","zoom","initialCenter","visible","StayMap","GoogleApiWrapper","apiKey","_AddReview","newReview","cleanliness","communication","checkIn","accuracy","onRemove","removeReview","clearReview","field","changeRating","score","formSubmited","preventDefault","onSubmit","initialRating","fullSymbol","emptySymbol","TextareaAutosize","resize","borderRadius","borderColor","fontFamily","fontSize","placeholder","autoComplete","AddReview","ReviewAvg","totalAvg","getAvrage","avgScore","getTotalAvg","totalReviewAvg","Object","keys","setReviewsAvg","types","toUpperCase","AmenitiesModal","onToggleAmenitiesModal","_StayDetails","stayReviews","isAmenitiesModalOpen","setMobliePicsDisplay","match","loadStay","summary","savedUser","StayDetails","_LoginSignup","password","email","isSignup","clearTemplate","editedNotif","notifTxt","toggleSignup","responseGoogle","LoginSignup","withRouter","_LoginPage","isSignUp","byUserImg","goBack","toggleSignUp","required","LoginPage","_TripPreview","getTime","onCancelTrip","onRemoveTrip","tripId","onCancelOrder","buyerId","TripPreview","TripsList","trips","_TripsPage","travelImg","TripsPage","_AddStayMap","selectedPlace","geocodeByAddress","results","getLatLng","handleAddressChange","onSelect","getInputProps","suggestions","getSuggestionItemProps","loading","TextField","suggestion","active","cursor","description","AddStayMap","_AddStay","newStay","assetSpace","labels","countryCode","handleAmenityChange","nameIdx","checked","handleSelectChange","onAddsStay","onAddStay","noImg","onUploadImg","UPLOAD_URL","file","files","formData","FormData","append","fetch","body","json","ImgUrl","options","label","variant","stayToAdd","savedStay","AddStay","_HostStaysList","getData","editedOrder","dataStays","stayName","link","onRemoveStay","unshift","title","columns","sort","HostStaysList","_OrdersDashboard","timestamp","dataOrders","buyerName","buyerImg","checkOut","approveBtn","onApproveOrder","onDeclinelOrder","getTotalRate","totalRate","getTotalPrice","getOrdersStatus","Intl","NumberFormat","currency","format","OrdersDashboard","_HostPage","selectedTab","onClearFilter","onGetHostStays","onChangeTab","Tabs","textColor","indicatorColor","Tab","HostPage","_BecomeAHost","onBecomeHost","BecomeAHost","_NotificationsPage","editedNotification","dataNotifications","notification","userUnreadNotifs","NotificationsPage","_WishList","userSavedStays","loadUserStays","userStays","savedId","WishList","AirBnbBtn","btnAction","btnInnerTxt","_UserProfile","editedUser","isEditMode","isImgModalOpen","onToggleEditMode","onToggleImgModal","onDeleteImg","onSaveUser","routes","path","component","GuestsModal","onSelectAmount","LocationsPopUp","onSetLocationPopUp","onPushTo","_SearchBar","onGetQueryParams","urlParams","URLSearchParams","search","capitalizeArray","str","newStr","currWord","capitalize","join","guestType","onSetFilter","urlQuery","locModal","onToggleSearchModals","onToggleMiniSearchBar","back","SearchBar","_UserMenu","isLoginModalOn","onCloseLogin","onOpenLogin","onOpenBotLogin","some","UserMenu","_AppHeader","isUserMenuOpen","isLoginBotmodal","isMiniInput","isNotifRead","onScrollCloseModals","onCheckRead","AppHeader","TopRatedStays","eventBusService","callListener","detail","dispatchEvent","CustomEvent","showUserMsg","myBus","UserMsg","msg","removeEvent","msgClass","FooterLocations","NearbyStays","_AppFooter","isCartShown","topRatedStays","nearbyStays","filterLocs","removeFromCart","checkout","carId","AppFooter","_UserDetails","loadAndWatchUser","UserDetails","RootCmp","route","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f4af0257.chunk.js","sourcesContent":["const initialState = {\n    stays: [],\n    bookedTrip: null,\n    stay: null,\n    review: null,\n    lastRemovedStay: null,\n    isMiniHeader: true,\n    filterBy: {\n        startDate: null,\n        endDate: null,\n        location: '',\n        adultNumber: 0,\n        kidsNumber: 0,\n        infantsNumber: 0,\n        capacity: 0,\n        amenities: '',\n        assetType: '',\n        uniqueStay: '',\n        guestModal: false,\n        datesModal: false,\n        hostId: ''\n    }\n}\nexport function stayReducer(state = initialState, action) {\n    var newState = state\n    var stays\n    var cart\n    switch (action.type) {\n        case 'SET_STAYS':\n            newState = { ...state, stays: action.stays }\n            break\n        case 'SET_STAY':\n            newState = { ...state, stay: action.stay }\n            break\n        case 'REMOVE_STAY':\n            const lastRemovedStay = state.stays.find(stay => stay._id === action.stayId)\n            stays = state.stays.filter(stay => stay._id !== action.stayId)\n            newState = { ...state, stays, lastRemovedStay }\n            break\n        case 'ADD_STAY':\n            newState = { ...state, stays: [...state.stays, action.stay] }\n            break\n        case 'SET_HEADER':\n            newState = { ...state, isMiniHeader: action.isMiniHeader }\n            break\n        case 'SET_FILTER':\n            newState = { ...state, filterBy: { ...action.filter } }\n            break;\n        case 'UPDATE_STAY':\n            stays = state.stays.map(stay => (stay._id === action.stay._id) ? action.stay : stay)\n            newState = { ...state, stays, stay: action.stay }\n            break\n\n        case 'REMOVE_FROM_CART':\n            cart = state.cart.filter(stay => stay._id !== action.stayId)\n            newState = { ...state, cart }\n            break\n        case 'CLEAR_CART':\n            newState = { ...state, cart: [] }\n            break\n        case 'UNDO_REMOVE_STAY':\n            if (state.lastRemovedStay) {\n                newState = { ...state, stays: [...state.stays, state.lastRemovedStay], lastRemovedStay: null }\n            }\n            break\n        default:\n    }\n    // For debug:\n    window.stayState = newState\n\n    return newState\n\n}\n","import * as stays from '../data/stays-data.json';\nimport * as users from '../data/users-data.json';\nexport const storageService = {\n    query,\n    get,\n    post,\n    put,\n    remove,\n    postMany\n}\nlet gStays = stays.default;\nlet gUsers = users.default;\n\nfunction query(entityType, delay = 200, filterBy) {\n    var entities;\n    var filterdEntities = []\n    if (entityType === 'stay') entities = JSON.parse(localStorage.getItem(entityType)) || _save('stay', gStays);\n    if (entityType === 'user') entities = JSON.parse(localStorage.getItem(entityType)) || _save('user', gUsers);\n    if (entityType === 'order') entities = JSON.parse(localStorage.getItem(entityType)) || _save('order',[]);\n    // var entities = JSON.parse(localStorage.getItem(entityType)) \n    if (filterBy) {\n        if (filterBy.location) {\n            const regex = new RegExp(filterBy.location, 'i');\n            filterdEntities = entities.filter(entity => regex.test(entity.loc.address.split(',')[0]))\n            return filterdEntities\n        }\n        if (filterBy.assetType) {\n            const regex = new RegExp(filterBy.assetType, 'i');\n            filterdEntities = entities.filter(entity => regex.test(entity.assetType))\n            return filterdEntities\n        }\n        if (filterBy.amenities) {\n            const regex = new RegExp(filterBy.amenities, 'i');\n            filterdEntities = entities.filter(entity => regex.test(entity.amenities))\n            return filterdEntities\n\n        }\n        if (filterBy.capacity) {\n            filterdEntities = entities.filter(entity => entity.capacity >= filterBy.capacity)\n            return filterdEntities\n        }\n        if (filterBy.uniqueStay) {\n            filterdEntities = entities.filter(entity => entity.uniqueStay)\n            return filterdEntities;\n        }\n\n\n    }\n    // return new Promise((resolve, reject) => {\n    //     setTimeout(() => {\n    //         // reject('OOOOPs')\n    //         resolve(entities)\n    //     }, delay)\n    // })\n    return Promise.resolve(entities)\n}\n\n\n\nfunction get(entityType, entityId) {\n    return query(entityType)\n        .then(entities => entities.find(entity => entity._id === entityId))\n    // .then(entities =>)\n}\nfunction post(entityType, newEntity) {\n    newEntity._id = _makeId()\n    return query(entityType)\n    .then(entities => {\n            entities.push(newEntity)\n            _save(entityType, entities)\n            return newEntity\n        })\n}\n\nfunction put(entityType, updatedEntity) {\n    return query(entityType)\n        .then(entities => {\n            const idx = entities.findIndex(entity => entity._id === updatedEntity._id)\n            entities.splice(idx, 1, updatedEntity)\n            _save(entityType, entities)\n            return updatedEntity\n        })\n}\n\nfunction remove(entityType, entityId) {\n    return query(entityType)\n        .then(entities => {\n            const idx = entities.findIndex(entity => entity._id === entityId)\n            entities.splice(idx, 1)\n            _save(entityType, entities)\n        })\n}\n\n\nfunction _save(entityType, entities) {\n    localStorage.setItem(entityType, JSON.stringify(entities))\n}\n\nfunction _makeId(length = 5) {\n    var text = ''\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\n    for (var i = 0; i < length; i++) {\n        text += possible.charAt(Math.floor(Math.random() * possible.length))\n    }\n    return text\n}\n\nfunction postMany(entityType, newEntities) {\n    return query(entityType)\n        .then(entities => {\n            newEntities = newEntities.map(entity => ({ ...entity, _id: _makeId() }))\n            entities.push(...newEntities)\n            _save(entityType, entities)\n            return entities\n        })\n}","import Axios from 'axios'\n\nconst BASE_URL = process.env.NODE_ENV === 'production'\n    ? '/api/'\n    : '//localhost:3030/api/'\n\n\nvar axios = Axios.create({\n    withCredentials: true\n})\n\nexport const httpService = {\n    get(endpoint, data) {\n        return ajax(endpoint, 'GET', data)\n    },\n    post(endpoint, data) {\n        return ajax(endpoint, 'POST', data)\n    },\n    put(endpoint, data) {\n        return ajax(endpoint, 'PUT', data)\n    },\n    delete(endpoint, data) {\n        return ajax(endpoint, 'DELETE', data)\n    }\n}\n\nasync function ajax(endpoint, method = 'GET', data = null) {\n    try {\n        const res = await axios({\n            url: `${BASE_URL}${endpoint}`,\n            method,\n            data,\n            params: (method === 'GET') ? data : null\n        })\n        return res.data\n    } catch (err) {\n        if (err.response && err.response.status === 401) {\n            sessionStorage.clear();\n            window.location.assign('/')\n        }\n        throw err\n    }\n}","import { storageService } from './async-storage.service'\nimport { httpService } from './http.service'\n// import { socketService, SOCKET_EVENT_USER_UPDATED } from './socket.service'\nconst STORAGE_KEY_LOGGEDIN_USER = 'loggedinUser'\nvar gWatchedUser = null;\n\nexport const userService = {\n    login,\n    logout,\n    signup,\n    getLoggedinUser,\n    getUsers,\n    getById,\n    remove,\n    update,\n}\n\nwindow.userService = userService\n\n\nasync function getUsers() {\n    const users = await httpService.get(`user`)\n    return users\n\n}\n\nasync function getById(userId) {\n    const user = await httpService.get(`user/${userId}`)\n    gWatchedUser = user;\n    return user;\n}\nfunction remove(userId) {\n    return httpService.delete(`user/${userId}`)\n}\n\nasync function update(user) {\n    // await storageService.put('user', user)\n    // Handle case in which admin updates other user's details\n    const updatedUser = await httpService.put(`user/${user._id}`, user)\n    if (getLoggedinUser()._id === user._id) _saveLocalUser(updatedUser)\n    return updatedUser;\n}\n\nasync function login(userCred) {\n    // const user = users.find(user => user.username === userCred.username)\n    // return _saveLocalUser(user)\n\n    const user = await httpService.post('auth/login', userCred)\n    // socketService.emit('set-user-socket', user._id);\n    if (user) return _saveLocalUser(user)\n}\nasync function signup(userCred) {\n    userCred.isHost = false;\n    userCred.imgUrl = '';\n    userCred.myStays = [];\n    userCred.notifications = [];\n    userCred.mySaves = []\n    const user = await httpService.post('auth/signup', userCred)\n    // socketService.emit('set-user-socket', user._id);\n    return _saveLocalUser(user)\n}\nasync function logout() {\n    sessionStorage.removeItem(STORAGE_KEY_LOGGEDIN_USER)\n    // socketService.emit('unset-user-socket');\n    return await httpService.post('auth/logout')\n}\n\nfunction _saveLocalUser(user) {\n    sessionStorage.setItem(STORAGE_KEY_LOGGEDIN_USER, JSON.stringify(user))\n    return user\n}\n\nfunction getLoggedinUser() {\n    return JSON.parse(sessionStorage.getItem(STORAGE_KEY_LOGGEDIN_USER) || 'null')\n}\n\n// This IIFE functions for Dev purposes \n// It allows testing of real time updates (such as sockets) by listening to storage events\n(async () => {\n    // Dev Helper: Listens to when localStorage changes in OTHER browser\n\n    // Here we are listening to changes for the watched user (comming from other browsers)\n    window.addEventListener('storage', async () => {\n        if (!gWatchedUser) return;\n        const freshUsers = await storageService.query('user')\n        const watchedUser = freshUsers.find(u => u._id === gWatchedUser._id)\n        if (!watchedUser) return;\n        //     socketService.emit(SOCKET_EVENT_USER_UPDATED, watchedUser)\n        // }\n        gWatchedUser = watchedUser\n    })\n})();\n\n// This is relevant when backend is connected\n// (async () => {\n//     var user = getLoggedinUser()\n//     if (user) socketService.emit('set-user-socket', user._id)\n// })();\n\n","import { userService } from '../services/user.service.js'\n\n\nconst initialState = {\n    count: 10,\n    user: userService.getLoggedinUser(),\n    users: [],\n    watchedUser: null\n}\nexport function userReducer(state = initialState, action) {\n    var newState = state;\n    var users\n    switch (action.type) {\n      \n        case 'SET_USER':\n            newState = { ...state, user: action.user }\n            break;\n        case 'SET_WATCHED_USER':\n            newState = { ...state, watchedUser: action.user }\n            break;\n        case 'REMOVE_USER':\n            newState = {\n                ...state,\n                users: state.users.filter(user => user._id !== action.userId)\n            }\n            break;\n        case 'SET_USERS':\n            newState = { ...state, users: action.users }\n            break;\n        case 'UPDATE_USER':\n            users = state.users.map(user => (user._id === action.user._id) ? action.user : user)\n            newState = { ...state, users,user:action.user }\n            break\n        default:\n    }\n    // For debug:\n    // window.userState = newState;\n\n    return newState;\n\n}\n","const initialState = {\n  reviews: [],\n}\n\nexport function reviewReducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case 'SET_REVIEWS':\n      return { ...state, reviews: action.reviews }\n    case 'ADD_REVIEW':\n      return { ...state, reviews: [...state.reviews, action.review] }\n    case 'REMOVE_REVIEW':\n      return { ...state, reviews: state.reviews.filter(review => review._id !== action.reviewId) }\n    default:\n      return state\n  }\n}\n","const initialState = {\n  isLoading: false\n};\n\nexport function systemReducer (state = initialState, action = {}) {\n  switch (action.type) {\n    case 'LOADING_START':\n      return { ...state, isLoading: true }\n    case 'LOADING_DONE':\n      return { ...state, isLoading: false }\n    default: return state\n  }\n}\n","const initialState = {\n    orders: [],\n    order: null\n}\nexport function orderReducer(state = initialState, action) {\n    var newState = state\n    var orders\n    switch (action.type) {\n        case 'SET_ORDERS':\n            newState = { ...state, orders: action.orders }\n            break\n        case 'SET_ORDER':\n            newState = { ...state, order: action.order }\n            break\n        case 'REMOVE_ORDER':\n            const lastRemovedOrder = state.orders.find(order => order._id === action.orderId)\n            orders = state.orders.filter(order => order._id !== action.orderId)\n            newState = { ...state, orders, lastRemovedOrder }\n            break\n        case 'ADD_ORDER':\n            newState = { ...state, orders: [...state.orders, action.order] }\n            break\n        case 'UPDATE_ORDER':\n            orders = state.orders.map(order => (order._id === action.order._id) ? action.order : order)\n            newState = { ...state, orders, order: action.order }\n            break\n        default:\n            break;\n    }\n\n    // For debug:\n    window.orderState = newState\n\n    return newState\n\n}\n","// const { createStore, applyMiddleware, combineReducers, compose } = Redux\n// const thunk = ReduxThunk.default\n\nimport { createStore, applyMiddleware, combineReducers, compose } from 'redux'\nimport thunk from 'redux-thunk'\n\n\nimport { stayReducer } from './stay.reducer.js'\nimport { userReducer } from './user.reducer.js'\nimport { reviewReducer } from './review.reducer'\nimport { systemReducer } from './system.reducer'\nimport { orderReducer } from './order.reducer'\n\nconst rootReducer = combineReducers({\n    stayModule: stayReducer,\n    userModule: userReducer,\n    systemModule: systemReducer,\n    reviewModule: reviewReducer,\n    orderModule: orderReducer\n})\n\n\n// export const store = createStore(rootReducer, applyMiddleware(thunk))\n// window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__();\n// Lets wire up thunk and also redux-dev-tools:\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)))\n// export const store = createStore(rootReducer, applyMiddleware(thunk))\n\n\n","export default __webpack_public_path__ + \"static/media/pets-allowed.3367843a.jpg\";","export default __webpack_public_path__ + \"static/media/entire-duplex.ffefbac4.jpg\";","export default __webpack_public_path__ + \"static/media/large-capacity.009296c6.jpg\";","export default __webpack_public_path__ + \"static/media/unique-stays.a435de4d.jpg\";","import { httpService } from './http.service.js'\n\nconst listeners = []\n\nexport const stayService = {\n    query,\n    getById,\n    save,\n    remove,\n    subscribe,\n    update,\n    filterPageStays\n}\nwindow.cs = stayService;\n\nasync function query(filterBy = {}) {\n    const stays = await httpService.get('stay', { params: filterBy })\n    return stays\n}\nasync function getById(stayId) {\n    const stay = await httpService.get(`stay/${stayId}`)\n    return stay\n}\nfunction remove(stayId) {\n    return httpService.delete(`stay/${stayId}`)\n}\nasync function save(stay) {\n    return httpService.post('stay', stay)\n\n}\nasync function update(stay) {\n    const UpdatedStay = await httpService.put(`stay/${stay._id}`, stay)\n    return UpdatedStay;\n}\n\n\nfunction filterPageStays(filterBy, stays) {\n    var filterdStays = stays\n    // if (!Object.values(filterBy.amenities).includes(true)) {\n    //     filterdStays = stays\n    // } else {\n\n    //     filterdStays = filterdStays.filter(stay => {\n    //     })\n    // }\n    if (filterBy.amenities.length) {\n        filterdStays = filterdStays.filter(stay => {\n            let isStay = true\n            filterBy.amenities.forEach(amenity => {\n                if (!stay.amenities.includes(amenity)) isStay = false\n            })\n            return isStay\n        })\n    }\n\n    if (filterBy.placeType) {\n        filterdStays = filterdStays.filter(stay => stay.assetType.split(' ')[0] === filterBy.placeType.split(' ')[0])\n    }\n    if (filterBy.PropertyType) {\n        filterdStays = filterdStays.filter(stay => stay.assetType.toLowerCase().split(' ')[1] === filterBy.PropertyType.toLowerCase())\n    }\n    filterdStays = filterdStays.filter(stay => stay.price >= filterBy.priceRange[0] && stay.price <= filterBy.priceRange[1])\n    return filterdStays\n}\nfunction subscribe(listener) {\n    listeners.push(listener)\n}\n\nfunction _notifySubscribersStaysChanged(stays) {\n    listeners.forEach(listener => listener(stays))\n}\n\nwindow.addEventListener('storage', () => {\n    query()\n        .then(stays => {\n            _notifySubscribersStaysChanged(stays)\n        })\n})\n\n\n\n\n\n\n","import { stayService } from \"../services/stay.service.js\";\nimport { userService } from \"../services/user.service.js\";\nexport function loadStays(filterBy = null) {\n    return async (dispatch) => {\n        try {\n            const stays = await stayService.query(filterBy)\n            dispatch({\n                type: 'SET_STAYS',\n                stays\n            })\n        } catch (err) {\n        }\n    }\n}\n\nexport function loadStay(stayId) {\n    return async dispatch => {\n        try {\n            if (stayId) {\n                dispatch({ type: 'LOADING_START' })\n                const stay = await stayService.getById(stayId)\n                dispatch({ type: 'SET_STAY', stay })\n            } else {\n                const clearStay = null\n                dispatch({ type: 'SET_STAY', stay: clearStay })\n            }\n        } catch (err) {\n\n        } finally {\n            dispatch({ type: 'LOADING_DONE' })\n        }\n    }\n}\n\nexport function onRemoveStay(stayId) {\n    return async (dispatch, getState) => {\n        try {\n            await stayService.remove(stayId)\n            dispatch({\n                type: 'REMOVE_STAY',\n                stayId\n            })\n        } catch (err) {\n        }\n    }\n}\n\nexport function onAddStay(stayToAdd) {\n    return async (dispatch) => {\n        try {\n            const savedStay = await stayService.save(stayToAdd)\n\n            dispatch({\n                type: 'ADD_STAY',\n                stay: savedStay\n            })\n        }\n        catch (err) {\n        }\n    }\n}\n\nexport function setFilter(filterBy) {\n    return async (dispatch) => {\n        try {\n            await dispatch({\n                type: 'SET_FILTER',\n                filter: filterBy\n            })\n        } catch (err) {\n\n        }\n    }\n}\nexport function setMiniHeader(isMiniHeader) {\n    return async (dispatch, getState) => {\n        try {\n            await dispatch({\n                type: 'SET_HEADER',\n                isMiniHeader\n            })\n        } catch (err) {\n\n        }\n    }\n}\nexport function onEditStay(stayToSave) {\n\n    return async (dispatch) => {\n        try {\n            const updatedStay = await stayService.update(stayToSave)\n            console.log('after send', updatedStay);\n\n            dispatch({\n                type: 'UPDATE_STAY',\n                stay: updatedStay\n            })\n        } catch (err) {\n        }\n    }\n\n}\n\nexport function removeFromCart(carId) {\n    return (dispatch) => {\n        dispatch({\n            type: 'REMOVE_FROM_CART',\n            carId\n        })\n    }\n}\n\nexport function checkout() {\n    return async (dispatch, getState) => {\n        try {\n            const state = getState()\n            const total = state.stayModule.cart.reduce((acc, stay) => acc + stay.price, 0)\n            dispatch({ type: 'CLEAR_CART' })\n        } catch (err) {\n        }\n    }\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport pet from '../assets/img/pets-allowed.jpg'\nimport duplex from '../assets/img/entire-duplex.jpg'\nimport cap from '../assets/img/large-capacity.jpg'\nimport unique from '../assets/img/unique-stays.jpg'\nimport { setFilter, setMiniHeader } from '../store/stay.actions';\nconst locations = [{ city: 'Porto', country: 'Portugal', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-1_avfpxl.png' }, { city: 'Barcelona', country: 'Spain', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-2_qchnx7.png' }, { city: 'Tel Aviv', country: 'Israel', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521280/location%20previews/location-preview-3_fndewl.png' }, { city: 'Paris', country: \"France\", imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-4_nqshaa.jpg' }, { city: 'London', country: 'United Kingdom', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-5_pbuhtd.jpg' }, { city: 'New York', country: 'United States', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-6_kynrq5.png' }, { city: 'Amsterdam', country: 'Netherlands', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521278/location%20previews/location-preview-7_unmsuc.jpg' }, { city: 'Rome', country: 'Italy', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-8_yjbewa.png' }]\n\nclass _HomePage extends React.Component {\n    componentDidMount() {\n        window.scrollTo(0, 0)\n        this.props.setMiniHeader(false)\n        window.addEventListener('resize', this.setHeaderDisplay)\n        this.setHeaderDisplay()\n    }\n    componentWillUnmount() {\n        this.props.setMiniHeader(true)\n        window.removeEventListener('resize', this.setHeaderDisplay)\n        window.removeEventListener('scroll', this.onSetMiniHeader)\n    }\n    onSetMiniHeader = (ev) => {\n        if (ev.target.scrollingElement.scrollTop > 50) {\n            this.props.setMiniHeader(true)\n        } else {\n            this.props.setMiniHeader(false)\n        }\n    }\n    setHeaderDisplay = () => {\n        if (window.innerWidth <= 780) {\n            window.removeEventListener('scroll', this.onSetMiniHeader)\n            this.props.setMiniHeader(true)\n        } else {\n            window.addEventListener('scroll', this.onSetMiniHeader)\n            this.props.setMiniHeader(false)\n        }\n    }\n    changeCount = (diff) => {\n        const action = { type: 'CHANGE_COUNT', diff }\n        this.props.dispatch(action)\n    }\n    onClickLoc = (val, type) => {\n        const newFilter = { ...this.props.filterBy }\n        newFilter[type] = val\n        this.props.setFilter(newFilter)\n        this.props.history.push('/explore')\n    }\n    render() {\n        return (\n            <section className=\"home-page flex column main-container\">\n                <div className=\"hero  full flex justify-center align-center\">\n                    <div className=\"where-to-go flex justify-center align-center\">\n                        <h3>Not sure where to go? Perfect.</h3>\n                        <button className=\"flex-btn flex justify-center align-center\">\n                            <Link to=\"/explore\">I'm flexible\n                            </Link>\n                        </button>\n                    </div>\n                </div>\n                <div className=\"sug-loc\">\n                    <h2>Popular destinations</h2>\n                    <div className=\"locations\">\n                        {locations.map((location, idx) => <div key={idx + 1} className=\"loc-section flex\">\n                            <img src={location.imgUrl} alt=\"\" className=\"loc-img\" onClick={() => { this.onClickLoc(location.city, 'location') }} />\n                            <div className=\"loc-info flex column justify-center\">\n                                <p className=\"city-name\">{location.city}</p>\n                                <p className=\"country-name\">{location.country}</p>\n                            </div>\n                        </div>)}\n                    </div>\n                </div>\n                <div className=\"live-any flex column\">\n                    <h2>Live Anywhere</h2>\n                    <div className=\"live-loc flex space-between\">\n\n                        <div className=\"live-card flex column\">\n                            <img className=\"live-img\" alt=\"alt-live\" onClick={() => { this.onClickLoc('duplex', 'assetType') }} src={duplex} />\n                            <p>Entire duplex</p>\n                        </div>\n                        <div className=\"live-card flex column\">\n                            <img className=\"live-img\" alt=\"alt-live\" onClick={() => { this.onClickLoc('Pets allowed', 'amenity') }} src={pet} />\n                            <p>Pets Allowed</p>\n                        </div>\n                        <div className=\"live-card flex column\">\n                            <img className=\"live-img\" alt=\"alt-live\" onClick={() => { this.onClickLoc(7, 'capacity') }} src={cap} />\n                            <p>Large capacity</p>\n                        </div>\n                        <div className=\"live-card flex column\">\n                            <img className=\"live-img\" alt=\"alt-live\" onClick={() => { this.onClickLoc('unique', 'uniqueStay') }} src={unique} />\n                            <p>Unique stays</p>\n                        </div>\n                    </div>\n\n                </div>\n                <div className=\"host-banner flex column justify-center\">\n                    <h1>Try hosting</h1>\n                    <p>Earn extra income and unlock new opportunities by sharing your space</p>\n                    <button className=\"try-host-btn\" onClick={()=>(this.props.user.isHost) ?this.props.history.push('/host') : this.props.history.push('/become-a-host')}>Learn More</button>\n                </div>\n            </section >\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        count: state.userModule.count,\n        filterBy: state.stayModule.filterBy,\n        user: state.userModule.user,\n    }\n}\nconst mapDispatchToProps = {\n    setFilter,\n    setMiniHeader\n}\n\nexport const HomePage = connect(mapStateToProps, mapDispatchToProps)(_HomePage)","import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport { CSSTransitionGroup } from 'react-transition-group'\n\n\nfunction FancyBox(props) {\n    return <div className=\"fancy-box\">\n        <button style={{ float: 'right' }} onClick={props.onClose}>x</button>\n        {props.children}\n        {/* //loggiii// */}\n    </div>\n}\n\nFancyBox.propTypes = {\n    onClose: PropTypes.func.isRequired\n}\n\nfunction Contacts() {\n    return <section style={{ height: '50vh', backgroundColor: 'pink' }}>\n        <h2>Contacts</h2>\n    </section>\n}\nfunction Projects() {\n    const [projs, setProjs] = useState(['Puki Proj', 'Muki Proj'])\n    const projList = projs.map((proj, idx) => (\n        <div className=\"proj-preview\" key={proj} onClick={(ev) => {\n            ev.stopPropagation();\n            setProjs(projs.filter(p => p !== proj))\n        }}>\n            {proj}\n        </div>\n    ));\n    return <section style={{ height: '50vh', backgroundColor: 'lightblue' }}>\n        <h2>Projects</h2>\n        <CSSTransitionGroup transitionName=\"example\" transitionEnterTimeout={500}\n            transitionLeaveTimeout={300}>\n            {projList}\n        </CSSTransitionGroup>\n        <button onClick={ev => {\n            ev.stopPropagation();\n            setProjs([...projs, 'Babu Proj' + Date.now() % 100])\n        }}>Add</button>\n    </section >\n}\n\nfunction SplitPane(props) {\n\n    const [width, setWidth] = useState(30)\n\n    if (false && width === 60) {\n        throw new Error('Projects cannot load')\n    }\n    return (\n        <div className=\"split-pane\" style={{\n            display: 'flex'\n        }}>\n            <div style={{ width: width + '%' }} onClick={() => {\n                if (width + 10 <= 100) setWidth(width + 10)\n            }}>\n                {props.left}\n            </div>\n            <div style={{ flex: 1 }} onClick={() => {\n                if (width > 10) setWidth(width - 10)\n            }}>\n                {props.right}\n            </div>\n        </div>\n    )\n}\n\n\nexport class AboutUs extends React.Component {\n    state = {\n        count: 1000,\n    }\n    componentDidMount() {\n        // this.interval = setInterval(() => {\n        //     this.setState(({ count }) => ({ count: count + utilService.getRandomIntInclusive(5, 20) }))\n        // }, 2500)\n    }\n    componentWillUnmount() {\n        clearInterval(this.interval)\n    }\n\n    shouldComponentUpdate() {\n        return true\n    }\n\n    onTellMeMore = () => {\n    }\n    render() {\n        const { count } = this.state\n        return (\n            <section>\n                <h2>About Us</h2>\n                <MyErrorBoundary>\n\n                    <SplitPane\n                        left={\n                            <Contacts />\n                        }\n                        right={\n                            <Projects />\n                        } />\n\n                </MyErrorBoundary>\n\n            <FancyBox >\n                    <h3>{count.toLocaleString()}Followers</h3>\n                    <button onClick={this.onTellMeMore}>TellmeMore</button>\n                </FancyBox>\n\n                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Magni aperiam quo veniam velit dolor reprehenderit, laudantium consequatur neque numquam labore quae. Accusamus libero perferendis ducimus? Alias unde hic quisquam doloremque.</p>\n            </section>\n        )\n    }\n}\n\n\nclass MyErrorBoundary extends React.Component {\n    state = { error: null, errorInfo: null };\n\n    componentDidCatch(error, errorInfo) {\n        // Catch errors in children and re-render with error message\n        // Note: in development the error is still presented on screen and you need to ESC to see the fallback UI\n        this.setState({\n            error,\n            errorInfo\n        })\n        // TODO: Log error to an error reporting service\n        // logger.report(error)\n    }\n    render() {\n        if (this.state.errorInfo) {\n            // Error path\n            return (\n                <div>\n                    <h2>Something went wrong.</h2>\n\n                    <details style={{ whiteSpace: 'pre-wrap' }}>\n                        {this.state.error && this.state.error.toString()}\n                        <br />\n                        {this.state.errorInfo.componentStack}\n                    </details>\n                </div>\n            );\n        }\n        // Normally, just render children\n        return this.props.children;\n    }\n}\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { FastfoodTwoTone, FireplaceOutlined, BeachAccess, OutdoorGrill, Kitchen, KingBed, Deck, LocalLaundryService, Pool, Bathtub, RoomService, Speaker, SportsEsports } from '@material-ui/icons';\nimport { Balcony, Checkroom, CoffeeMaker, Crib, Iron } from '@mui/icons-material';\nimport {\n    FaSnowflake, FaBlender, FaCar, FaHotTub, FaPaw, FaSmoking, FaSmokingBan, FaTv, FaWifi,\n    FaLock, FaThermometerHalf, FaDoorClosed, FaWineGlassAlt, FaSwimmingPool, FaAccessibleIcon\n} from 'react-icons/fa';\n\nexport const utilService = {\n    makeId,\n    makeLorem,\n    getRandomIntInclusive,\n    delay,\n    toTimestamp,\n    timeToShow,\n    getAmenitiesIcons\n}\n\nfunction makeId(length = 6) {\n    var txt = '';\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\n    for (var i = 0; i < length; i++) {\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\n    }\n\n    return txt;\n}\n\nfunction makeLorem(size = 100) {\n    var words = ['The sky', 'above', 'the port', 'was', 'the color of television', 'tuned', 'to', 'a dead channel', '.', 'All', 'this happened', 'more or less', '.', 'I', 'had', 'the story', 'bit by bit', 'from various people', 'and', 'as generally', 'happens', 'in such cases', 'each time', 'it', 'was', 'a different story', '.', 'It', 'was', 'a pleasure', 'to', 'burn'];\n    var txt = '';\n    while (size > 0) {\n        size--;\n        txt += words[Math.floor(Math.random() * words.length)] + ' ';\n    }\n    return txt;\n}\n\nfunction getRandomIntInclusive(min, max) {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min + 1)) + min; //The maximum is inclusive and the minimum is inclusive \n}\n\nfunction delay(ms = 1500) {\n    return new Promise(resolve => {\n        setTimeout(resolve, ms)\n    })\n}\n\n\nfunction toTimestamp(strDate) {\n    var datum = Date.parse(strDate);\n    return datum / 1000;\n}\nfunction timeToShow(date) {\n    var timeStamp = (typeof date === 'string') ? Date.parse(date) : date;\n    var time = new Date(timeStamp);\n    var day = \"0\" + time.getDate();\n    var month = \"0\" + (time.getMonth() + 1);\n    var year = \"0\" + time.getFullYear();\n    var formattedTime = day.substr(-2) + '/' + month.substr(-2) + '/' + year.substr(-2);\n    return formattedTime\n}\nfunction getAmenitiesIcons(amenity) {\n    switch (amenity) {\n        case 'TV':\n            return <FaTv />\n        case 'Wifi':\n            return <FaWifi />\n        case 'Kitchen':\n            return <FastfoodTwoTone />\n        case 'Smoking allowed':\n            return <FaSmoking />\n        case 'Hot tub':\n            return <FaHotTub />\n        case 'Pets allowed':\n            return <FaPaw />\n        case 'No smoking':\n            return <FaSmokingBan />\n        case 'Cooking basics':\n            return <FaBlender />\n        case 'Air conditioning':\n            return <FaSnowflake />\n        case 'Heating':\n            return <FaThermometerHalf />\n        case 'Pool':\n            return <Pool />\n        case 'Indoor fireplace':\n            return <FireplaceOutlined />\n        case 'Refrigerator':\n            return < Kitchen />\n        case 'Refrigerator':\n            return <FontAwesomeIcon icon=\"refrigerator\" />\n        case 'Dishwasher':\n            return <LocalLaundryService />\n        case 'Backyard':\n            return <Deck />\n        case 'BBQ grill':\n            return <OutdoorGrill />\n        case 'Crib':\n            return <Crib />\n        case 'Private entrance':\n            return <FaDoorClosed />\n        case 'Lockbox':\n            return <FaLock />\n        case 'Beachfront':\n            return <BeachAccess />\n        case 'Hangers':\n            return < Checkroom />\n        case 'Wine glasses':\n            return <FaWineGlassAlt />\n        case 'Free parking':\n            return <FaCar />\n        case 'Accessible':\n            return <FaAccessibleIcon />\n        case 'King size bed':\n            return <KingBed />\n        case 'Bathub':\n            return <Bathtub />\n        case 'Balcony':\n            return <Balcony />\n        case 'Iron':\n            return <Iron />\n        case 'Room service':\n            return <RoomService />\n        case 'Coffee machine':\n            return <CoffeeMaker />\n        case 'Laundry machine':\n            return <LocalLaundryService />\n        case 'Speakers':\n            return < Speaker />\n        case 'Gaming console':\n            return < SportsEsports />\n        default:\n            break;\n\n    }\n}","import { userService } from \"../services/user.service.js\";\nimport { utilService } from \"../services/util.service.js\";\n// import { socketService, SOCKET_EMIT_USER_WATCH, SOCKET_EVENT_USER_UPDATED } from \"../services/socket.service.js\";\n\n\nexport function loadUsers() {\n    return async dispatch => {\n        try {\n            dispatch({ type: 'LOADING_START' })\n            const users = await userService.getUsers()\n            dispatch({ type: 'SET_USERS', users })\n        } catch (err) {\n\n        } finally {\n            dispatch({ type: 'LOADING_DONE' })\n        }\n    }\n}\nexport function loadUser(userId) {\n    return async dispatch => {\n        try {\n            dispatch({ type: 'LOADING_START' })\n            const user = await userService.getById(userId)\n            dispatch({ type: 'SET_USER', user })\n        } catch (err) {\n\n        } finally {\n            dispatch({ type: 'LOADING_DONE' })\n        }\n    }\n}\n\nexport function removeUser(userId) {\n    return async dispatch => {\n        try {\n            await userService.remove(userId)\n            dispatch({ type: 'REMOVE_USER', userId })\n        } catch (err) {\n\n        }\n    }\n}\nexport function updateUser(userToSave) {\n    return async (dispatch) => {\n        try {\n            const updatedUser = await userService.update(userToSave)\n            dispatch({\n                type: 'UPDATE_USER',\n                user: updatedUser\n            })\n        } catch (err) {\n        }\n    }\n}\n\n\n\nexport function onLogin(credentials) {\n    return async (dispatch) => {\n        try {\n            const user = await userService.login(credentials)\n            dispatch({\n                type: 'SET_USER',\n                user\n            })\n        } catch (err) {\n        }\n    }\n}\n\n\nexport function onSignup(credentials) {\n    return (dispatch) => {\n        userService.signup(credentials)\n            .then(user => {\n                dispatch({\n                    type: 'SET_USER',\n                    user\n                })\n            })\n            .catch(err => {\n            })\n\n    }\n}\n\nexport function onLogout() {\n    return (dispatch) => {\n        userService.logout()\n            .then(() => dispatch({\n                type: 'SET_USER',\n                user: null\n            }))\n            .catch(err => {\n            })\n    }\n}\nexport function onBecomeHost(userId) {\n    return async (dispatch, getState) => {\n        try {\n            const user = await userService.getById(userId)\n            user.isHost = true\n            const updatedUser = await userService.update(user)\n            dispatch({\n                type: 'UPDATE_USER', user: updatedUser\n            })\n        } catch (err) {\n\n        }\n    }\n}\n\nexport function onToggleLikedStay(savedStayId, isLiked, userId) {\n    return async (dispatch, getState) => {\n        try {\n            const user = await userService.getById(userId)\n            console.log('ido user check ', user , savedStayId , isLiked );\n            if (isLiked) {\n                user.mySaves.push(savedStayId)\n            } else {\n                user.mySaves = user.mySaves.filter(saved => saved !== savedStayId)\n            }\n            const savedUser = await userService.update(user)\n            dispatch({ type: 'UPDATE_USER', savedUser })\n        } catch (err) {\n        }\n    }\n}\n\nexport function onBookTrip(trip) {\n    return async (dispatch, getState) => {\n        try {\n            const user = await userService.getById(trip.user._id)\n            const hostUser = await userService.getById(trip.stay.host._id)\n            const orderId = utilService.makeId()\n\n            const userTrip = trip\n            userTrip.id = orderId\n            const hostOrder = trip\n            hostOrder.id = orderId\n\n            if (!hostUser.orders) hostUser.orders = []\n            if (!user.myTrips) user.myTrips = []\n            hostUser.orders.push(hostOrder)\n            user.myTrips.push(userTrip)\n\n            const updatedUser = await userService.update(user)\n            const updatedHost = await userService.update(hostUser)\n            dispatch({ type: 'UPDATE_USER', user: updatedUser })\n            dispatch({ type: 'UPDATE_USER', user: updatedHost })\n        } catch (err) {\n\n        }\n    }\n}\n\nexport function loadAndWatchUser(userId) {\n    return async (dispatch) => {\n        try {\n            // const user = await userService.getById(userId);\n            // dispatch({ type: 'SET_WATCHED_USER', user })\n            // socketService.emit(SOCKET_EMIT_USER_WATCH, userId)\n            // socketService.off(SOCKET_EVENT_USER_UPDATED)\n            // socketService.on(SOCKET_EVENT_USER_UPDATED, user => {\n            //     dispatch({ type: 'SET_WATCHED_USER', user })\n            // })\n        } catch (err) {\n        }\n    }\n}\n\n","import React, { Component } from \"react\";\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\nimport Slider from \"react-slick\";\n\nexport default class LazyLoad extends Component {\n\n    render() {\n        var settings = {\n            dots: true,\n            infinite: true,\n            speed: 500,\n            slidesToShow: 1,\n            slidesToScroll: 1,\n            arrows: true,\n      \n        };\n\n        const { imgs } = this.props\n\n        return (\n            <Slider {...settings} className=\"preview-slider\">\n                {imgs.map((img,idx) => {\n                    return (\n                        <div key={idx}>\n                            <img  src={img} alt=\"Preview img\" />\n                        </div>\n                    )\n                })}\n            </Slider>\n        );\n    }\n}","import React from \"react\";\nimport { connect } from 'react-redux'\nimport { FaStar, } from \"react-icons/fa\";\nimport { updateUser } from '../store/user.actions.js'\n\nimport LazyLoad from \"./preview-slider\"\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nclass _StayPreview extends React.Component {\n    state = {\n        isLiked: false\n    }\n    componentDidMount() {\n        this.isStayLiked()\n    }\n    onToggleLikeStay = (ev, stay) => {\n        ev.stopPropagation()\n        const { user, onToggleLikedStay } = this.props\n        const { isLiked } = this.state\n        if (user) {\n            this.setState({ isLiked: !isLiked }, () => {\n                onToggleLikedStay(stay._id, this.state.isLiked)\n            })\n        }\n        else {\n        }\n    }\n    isStayLiked = () => {\n        const { user, stay } = this.props\n        if (user) {\n            if (user.mySaves && user.mySaves.length) {\n                const isLiked = user.mySaves.filter(saved => saved === stay._id)\n                if (isLiked.length) {\n                    this.setState({ isLiked: true })\n                }\n            }\n        }\n    }\n    render() {\n        return (\n            <div>\n                {this.props.stay.name && <div className=\"stay-preview square-ratio\" onClick={(ev) => {\n                    if (ev.target.className === 'slick-arrow slick-prev' || ev.target.className === 'slick-arrow slick-next' || ev.target.className.baseVal === 'MuiSvgIcon-root') return\n                    this.props.history.push(`/stay/${this.props.stay._id}`)\n                }} >\n                    <div className=\"preview-wrapper flex column\">\n                        <div className=\"\n                           \">\n                            {!this.state.isLiked ? <FavoriteIcon className=\"unliked\" onClick={(ev) => this.onToggleLikeStay(ev, this.props.stay)} /> :\n                                <FavoriteIcon size={13} onClick={(ev) => this.onToggleLikeStay(ev, this.props.stay)} />\n                            }\n                            {/* {this.state.isLiked && <FavoriteIcon size={13} onClick={(ev) => this.onToggleLikeStay(ev, this.props.stay)} />} */}\n                            <LazyLoad imgs={this.props.stay.imgUrls} />\n                        </div>\n                        <div className=\"preview-details \">\n                            <div className=\"preview-rating flex align-center\">\n                                <span className=\"rating-star\">\n                                    <FaStar size={13} color=\"#FF5A5F\" />\n                                </span>\n                                <p className=\"preview-rating-amount\">{this.props.stay.reviewsAvg ? this.props.stay.reviewsAvg : 0}</p>\n                                <span className=\"preview-review-count flex\"><span>(</span>{this.props.stay.demoReviews} reviews<span>)</span></span>\n                            </div>\n                            <div className=\"stay-style flex\">\n                                <h3><span>{this.props.stay.assetType}</span> &#183; <span>{this.props.stay.loc.address.split(',')[0]}</span></h3>\n                            </div>\n                            <div className=\"stay-name\" >\n                                <h3>{this.props.stay.name}</h3>\n                            </div>\n                            <div className=\"preview-price\" >\n                                <h3><span className=\"preview-price-amount\">${this.props.stay.price}</span> / night</h3>\n                            </div>\n                        </div>\n                    </div>\n                </div>}\n            </div>\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        user: state.userModule.user,\n\n    }\n}\nconst mapDispatchToProps = {\n    updateUser\n}\n\n\n\nexport const StayPreview = connect(mapStateToProps, mapDispatchToProps)(_StayPreview)\n\n","import { StayPreview } from \"./stay-preview\";\n\nexport function StaysList({ stays, history,onToggleLikedStay }) {\n    return (\n        <div className=\"stay-list\">\n            {stays.map((stay, idx) =>\n                <StayPreview key={idx} stay={stay} history={history} onToggleLikedStay={onToggleLikedStay} />\n            )}\n        </div>)\n}","import React from \"react\"\nexport class DynamicModal extends React.Component {\n\n    render() {\n        const styleClass = this.props.children.length ? this.props.children[0].props.className : this.props.children.props.className\n\n        return (\n            <div className={`dynamic-sort-modal ${styleClass}`}>\n                {/* {this.props.children} */}\n                {this.props.children.length ? this.props.children.map((child, index) => (<div key={index}>{child}</div>)) : this.props.children}\n\n            </div>\n        )\n    }\n}","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport Slider, { SliderThumb } from '@mui/material/Slider';\nimport { styled } from '@mui/material/styles';\nimport Tooltip from '@mui/material/Tooltip';\nimport Box from '@mui/material/Box';\n\nfunction ValueLabelComponent(props) {\n  const { children, value } = props;\n\n  return (\n    <Tooltip enterTouchDelay={0} placement=\"top\" title={value}>\n      {children}\n    </Tooltip>\n  );\n}\n\nValueLabelComponent.propTypes = {\n  children: PropTypes.element.isRequired,\n  value: PropTypes.number.isRequired,\n};\n\n\n\n\n\nconst AirbnbSlider = styled(Slider)(({ theme }) => ({\n  color: '#3a8589',\n  height: 3,\n  padding: '13px 0',\n  '& .MuiSlider-thumb': {\n    height: 27,\n    width: 27,\n    backgroundColor: '#fff',\n    border: '1px solid currentColor',\n    '&:hover': {\n      boxShadow: '0 0 0 8px rgba(58, 133, 137, 0.16)',\n    },\n    '& .airbnb-bar': {\n      height: 9,\n      width: 1,\n      backgroundColor: 'currentColor',\n      marginLeft: 1,\n      marginRight: 1,\n    },\n  },\n  '& .MuiSlider-track': {\n    height: 3,\n  },\n  '& .MuiSlider-rail': {\n    color: theme.palette.mode === 'dark' ? '#bfbfbf' : '#d8d8d8',\n    opacity: theme.palette.mode === 'dark' ? undefined : 1,\n    height: 3,\n  },\n}));\n\nfunction AirbnbThumbComponent(props) {\n  const { children, ...other } = props;\n  return (\n    <SliderThumb {...other}>\n      {children}\n      <span className=\"airbnb-bar\" />\n      <span className=\"airbnb-bar\" />\n      <span className=\"airbnb-bar\" />\n    </SliderThumb>\n  );\n}\n\nAirbnbThumbComponent.propTypes = {\n  children: PropTypes.node,\n};\n\nexport default function PriceRangeSlider({ onSetPageFilter, allStaysPriceAvg }) {\n  const [value, setValue] = React.useState([20, 600])\n  const handleChange = (event, newValue) => {\n    setValue(newValue)\n    onSetPageFilter('priceRange', newValue)\n  }\n\n  return (\n    <div className=\"price-range-container flex \">\n      <Box sx={{ width: 320 }}>\n        <p className=\"stays-price-avg\">{`The average nightly price is  $${allStaysPriceAvg.toFixed(0) ? allStaysPriceAvg.toFixed(0) : ''}`}</p>\n        <Box sx={{ m: 3 }} />\n        <div className=\"price-slider-container flex justify-center align-center\">\n\n          <AirbnbSlider\n            components={{ Thumb: AirbnbThumbComponent }}\n            getAriaLabel={(index) => (index === 0 ? 'Minimum price' : 'Maximum price')}\n            defaultValue={[20, 600]}\n            onChange={handleChange}\n            max={600}\n          />\n        </div>\n        <div className=\"picks-container \">\n          <div className=\"min-price flex column \">\n            <span className=\"price-range-span\" htmlFor=\"minPrice\">Min price</span>\n            <div>\n              <span className=\"price-range-span\">$</span>\n              <input className=\"min-input\" type=\"number\" value={value[0]} />\n            </div>\n          </div>\n          <div className=\"max-price flex column \">\n            <span className=\"price-range-span\" htmlFor=\"maxPrice\">Max price</span>\n            <div>\n              <span className=\"price-range-span\">$</span>\n              <input className=\"max-input\" type=\"number\" value={value[1]} />\n            </div>\n          </div>\n        </div>\n      </Box>\n    </div>\n  );\n}\n","import React from 'react'\nimport { DynamicModal } from './DynamicModal'\nimport PriceRangeSlider from './price-range-slider'\nexport class ExploreFilter extends React.Component {\n    componentDidMount() {\n        window.addEventListener('scroll', (ev) => {\n            if (ev.target.scrollingElement.scrollTop > 150) {\n                this.props.closeAllModals()\n            }\n        })\n    }\n    componentWillUnmount() {\n        window.removeEventListener('scroll', (ev) => {\n            if (ev.target.scrollingElement.scrollTop > 150) {\n                this.props.closeAllModals()\n\n            }\n        })\n    }\n    render() {\n        const { placeTypeIsOpen, PropertyTypeIsOpen, PriceIsOpen, AmenitiesTypeIsOpen } = this.props.modals\n        const {allStaysPriceAvg, ameintiesOptions } = this.props\n        const propertyTypes = ['Loft', 'Studio', 'Penthouse', 'Appartment', 'Hotel', 'Villa', 'Duplex', 'Home']\n        return (\n            <div className=\"explore-filter flex\">\n                <div className=\"sort-type type-of-place\">\n                    <button onClick={() => { this.props.onToggleModals('placeTypeIsOpen') }}>Type of place</button>\n                    {placeTypeIsOpen && <DynamicModal >\n                        <div className=\"place-type\" onClick={(ev) => { this.props.onSetPageFilter('placeType', 'Entire Place') }}>\n                            <h1>Entire Place</h1>\n                            <p>You'll Have The Place To Yourself</p>\n                        </div>\n                        <div className=\"place-type\" onClick={(ev) => { this.props.onSetPageFilter('placeType', 'Private Room') }}>\n                            <h1>Private Room</h1>\n                            <p>You'll Have A Private Room To Yourself</p>\n                        </div>\n                    </DynamicModal>}\n                </div>\n                <div className=\"sort-type property-type\">\n                    <button onClick={() => { this.props.onToggleModals('PropertyTypeIsOpen') }}>Property Type</button>\n                    {PropertyTypeIsOpen && <DynamicModal >\n                        {propertyTypes.map((type, idx) => {\n                            return (<div key={idx} className='property-type' onClick={(ev) => { this.props.onSetPageFilter('PropertyType', type) }}>\n                                <h1>\n                                    {type}\n                                </h1>\n                            </div>)\n                        })}\n                    </DynamicModal>}\n                </div>\n                <div className=\"sort-type price\">\n                    <button onClick={() => { this.props.onToggleModals('PriceIsOpen') }}>Price</button>\n                    {PriceIsOpen && <DynamicModal >\n                        <PriceRangeSlider  onSetPageFilter={this.props.onSetPageFilter} allStaysPriceAvg={allStaysPriceAvg} />\n                    </DynamicModal>}\n                </div>\n                <div className=\"\">\n                </div>\n                <div className=\"sort-type amenities-type\">\n                    <button onClick={() => { this.props.onToggleModals('AmenitiesTypeIsOpen') }}>Amenities</button>\n                    {AmenitiesTypeIsOpen && <DynamicModal >\n                        {ameintiesOptions.map((amenity, idx) => {\n                            return (<div key={idx} className={amenity.isChecked ? 'amenities-type active' : 'amenities-type'} onClick={() => { this.props.onSetAmenity({ name: amenity.name, isChecked: !amenity.isChecked }) }}>\n                                <h1>\n                                    {amenity.name}\n                                </h1>\n                            </div>)\n                        })}\n                    </DynamicModal>}\n                </div>\n                <div className=\"sort-type type-of-place\">\n                    <button onClick={this.props.onClearPageFilter}>Clear</button>\n                </div>\n            </div>\n        )\n    }\n}\n\n\n","export default __webpack_public_path__ + \"static/media/three-dots.a53b6509.svg\";","import React from 'react'\nimport { connect } from 'react-redux'\nimport { loadStays, onAddStay, onEditStay, onRemoveStay, setFilter } from '../store/stay.actions.js'\nimport { onBookTrip, loadUser, updateUser } from '../store/user.actions.js'\nimport { StaysList } from '../cmps/stays-list.jsx'\nimport { ExploreFilter } from '../cmps/explore-filter.jsx'\nimport loader from '../assets/img/three-dots.svg'\nimport { stayService } from '../services/stay.service.js'\nimport { userService } from '../services/user.service.js'\nclass _Explore extends React.Component {\n    state = {\n        stays: [],\n        isScreenOpen: false,\n        allStaysPriceAvg: null,\n        modals: {\n            placeTypeIsOpen: false,\n            PropertyTypeIsOpen: false,\n            PriceIsOpen: false,\n            AmenitiesTypeIsOpen: false,\n        },\n        frontFilter: {\n            placeType: '',\n            PropertyType: '',\n            priceRange: [20, 600],\n            amenities: []\n        },\n        ameintiesOptions: [\n            { name: 'TV', isChecked: false },\n            { name: 'Wifi', isChecked: false },\n            { name: 'Kitchen', isChecked: false },\n            { name: 'Smoking allowed', isChecked: false },\n            { name: 'Hot tub', isChecked: false },\n            { name: 'Pets allowed', isChecked: false },\n            { name: 'No smoking', isChecked: false },\n            { name: 'Cooking basics', isChecked: false },\n            { name: 'Air conditioning', isChecked: false },\n            { name: 'Heating', isChecked: false },\n            { name: 'Pool', isChecked: false },\n            { name: 'Indoor fireplace', isChecked: false },\n            { name: 'Refrigerator', isChecked: false },\n            { name: 'Dishwasher', isChecked: false },\n            { name: 'Backyard', isChecked: false },\n            { name: 'BBQ grill', isChecked: false },\n            { name: 'Crib', isChecked: false },\n            { name: 'Private entrance', isChecked: false },\n            { name: 'Lockbox', isChecked: false },\n            { name: 'Beachfront', isChecked: false },\n            { name: 'Hangers', isChecked: false },\n            { name: 'Wine glasses', isChecked: false },\n            { name: 'Free parking', isChecked: false },\n            { name: 'Accessible', isChecked: false },\n            { name: 'King size bed', isChecked: false },\n            { name: 'Bathub', isChecked: false },\n            { name: 'Balcony', isChecked: false },\n            { name: 'Iron', isChecked: false },\n            { name: 'Room service', isChecked: false },\n            { name: 'Coffee machine', isChecked: false },\n            { name: 'Laundry machine', isChecked: false },\n            { name: 'Speakers', isChecked: false },\n            { name: 'Gaming console', isChecked: false }\n        ]\n\n    }\n    async componentDidMount() {\n        try {\n            const { user } = this.props\n            window.scrollTo(0, 0)\n            await this.props.loadStays(this.props.filterBy);\n            this.setState({ stays: this.props.stays }, () => {\n                this.calcAllStaysPriceAvg(this.state.stays)\n            })\n            if (user) this.props.loadUser(this.props.user._id)\n        } catch (err) {\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (prevProps.filterBy !== this.props.filterBy) {\n            this.props.loadStays(this.props.filterBy);\n        }\n    }\n\n    onToggleLikedStay=(savedStayId, isLiked)=> {\n        const { user } = this.props\n        if (isLiked) {\n            user.mySaves.push(savedStayId)\n        } else {\n            user.mySaves = user.mySaves.filter(saved => saved !== savedStayId)\n        }\n        this.props.updateUser(user)\n    }\n    onSetAmenity = (amenity) => {\n        const name = amenity.name\n        const isChecked = amenity.isChecked\n        const { ameintiesOptions } = this.state\n        const { amenities } = this.state.frontFilter\n\n        const updatedAmeintiesOpts = ameintiesOptions.map(amenity => (amenity.name === name) ? { name, isChecked } : amenity)\n        if (isChecked) amenities.push(name)\n        else {\n            const idx = amenities.findIndex(amenity => amenity === name)\n            amenities.splice(idx, 1)\n        }\n        this.setState(prevState => ({ ...prevState, frontFilter: { ...this.state.frontFilter, amenities }, ameintiesOptions: updatedAmeintiesOpts }), () => { this.onSetPageFilter('ameneties', this.state.frontFilter.amenities) })\n    }\n\n    onSetPageFilter = (filterType, val, ev) => {\n        this.setState({ frontFilter: { ...this.state.frontFilter, [filterType]: val } }, () => {\n            const newStays = stayService.filterPageStays(this.state.frontFilter, this.props.stays)\n            this.setState({ stays: newStays })\n        })\n    }\n\n    onToggleScreen = (val) => {\n        this.setState({ isScreenOpen: val })\n    }\n\n    onClearPageFilter = () => {\n        const clearState = {\n            stays: this.props.stays,\n            isScreenOpen: false,\n            allStaysPriceAvg: null,\n            modals: {\n                placeTypeIsOpen: false,\n                PropertyTypeIsOpen: false,\n                PriceIsOpen: false,\n                AmenitiesTypeIsOpen: false,\n            },\n            frontFilter: {\n                placeType: '',\n                PropertyType: '',\n                priceRange: [20, 600],\n                amenities: []\n            },\n            ameintiesOptions: [\n                { name: 'TV', isChecked: false },\n                { name: 'Wifi', isChecked: false },\n                { name: 'Kitchen', isChecked: false },\n                { name: 'Smoking allowed', isChecked: false },\n                { name: 'Cooking basics', isChecked: false },\n                { name: 'Pets Allowed', isChecked: false },\n                { name: 'Hot tub', isChecked: false }\n            ]\n\n        }\n        this.setState({ ...clearState }, () => {\n            this.calcAllStaysPriceAvg(this.state.stays)\n        })\n        this.closeAllModals()\n    }\n\n    onToggleModals = (modal) => {\n        this.setState({ modals: { placeTypeIsOpen: false, PropertyTypeIsOpen: false, PriceIsOpen: false, AmenitiesTypeIsOpen: false } }, () => {\n            this.onToggleScreen(!this.state.modals[modal])\n            this.setState({ modals: { ...this.state.modals, [modal]: !this.state[modal] } })\n        })\n    }\n    closeAllModals = () => {\n        this.onToggleScreen(false)\n        this.setState({ modals: { placeTypeIsOpen: false, PropertyTypeIsOpen: false, PriceIsOpen: false, AmenitiesTypeIsOpen: false } })\n    }\n    calcAllStaysPriceAvg = (stays) => {\n        let staysAvg = stays\n        staysAvg = staysAvg.reduce((acc, stay) => {\n            acc += stay.price\n            return acc\n        }, 0)\n        this.setState({ allStaysPriceAvg: (staysAvg / stays.length) })\n    }\n\n    render() {\n        const { stays, filterBy } = this.props\n        const { isScreenOpen, ameintiesOptions } = this.state\n        if (!stays.length) return <div className=\"loader-container flex align-center justify-center page-padding\"><img src={loader} alt=\"loader\" /></div>\n        return (\n            <main className=\"explore-mega-container main-container page-padding\">\n                <div className=\"explore-page-container\">\n                    <div className={isScreenOpen ? \"screen screen-open full\" : \"screen full\"} onClick={() => { this.closeAllModals() }}></div>\n                    <div className=\"stays-headline\">\n                        <p>{this.state.stays.length === 1 ? `1 stay` : `${this.state.stays.length} stays`}</p>\n                        <h1>{filterBy.location ? `Places to stay at ${filterBy.location}` : 'Find places to stay'}</h1>\n                    </div>\n                    <ExploreFilter ameintiesOptions={ameintiesOptions} stays={this.state.stays} closeAllModals={this.closeAllModals} onSetAmenity={this.onSetAmenity} onSetPageFilter={this.onSetPageFilter} onClearPageFilter={this.onClearPageFilter} modals={this.state.modals} onToggleModals={this.onToggleModals} allStaysPriceAvg={this.state.allStaysPriceAvg} amenities={this.state.frontFilter.amenities} />\n                    {stays.length && <StaysList stays={this.state.stays} history={this.props.history} onToggleLikedStay={this.onToggleLikedStay} />}\n                </div>\n            </main>\n        )\n    }\n}\nfunction mapStateToProps(state) {\n    return {\n        stays: state.stayModule.stays,\n        filterBy: state.stayModule.filterBy,\n        user: state.userModule.user\n    }\n}\nconst mapDispatchToProps = {\n    loadStays,\n    onBookTrip,\n    setFilter,\n    loadUser,\n    updateUser\n}\n\n\nexport const Explore = connect(mapStateToProps, mapDispatchToProps)(_Explore)","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport {loadUsers, removeUser} from '../store/user.actions'\n\n\nclass _AdminApp extends React.Component {\n    state = {}\n\n    componentDidMount() {\n        this.props.loadUsers()\n    }\n\n    \n\n    render() {\n        const { isLoading, users, removeUser, loadUsers } = this.props\n        return <section className=\"admin\">\n                <button onClick={loadUsers}>Refresh Users</button>\n                {isLoading && 'Loading...'}\n                {users && <ul>\n\n                    {users.map(user => (\n                        <li key={user._id}>\n                            <pre>{JSON.stringify(user, null, 2)}</pre>\n                            <button\n                                onClick={() => {\n                                    removeUser(user._id)\n                                }}\n                            >\n                                Remove {user.username}\n                            </button>\n                        </li>\n                    ))}\n                </ul>}\n        </section>\n\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        isLoading: state.systemModule.isLoading,\n        users: state.userModule.users\n    }\n}\n\nconst mapDispatchToProps = {\n    loadUsers,\n    removeUser\n}\n\n\nexport const AdminApp = connect(mapStateToProps, mapDispatchToProps)(_AdminApp)","import { FaStar } from 'react-icons/fa'\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport IosShareIcon from '@mui/icons-material/IosShare';\nimport LazyLoad from '../preview-slider';\n\nexport function BasicInfo({ stay, isLiked, onToogleLikeStay, isMobilePics }) {\n    return (\n        <section className=\"info-imgs-container\">\n            <section className=\"stay-info\">\n                <div className=\"stay-name-conatiner\">\n                    <h2>{stay.name}</h2>\n                </div>\n                <section className=\"info-line flex space-between\">\n                    <div className=\"stay-info-conatiner flex\">\n                        <div className=\"stay-avg-info flex align-end\">\n                            <p className=\"info-star\"><FaStar size={14} color=\"#FF5A5F\" /></p>\n                            <p className=\"info-line-score\">{stay.reviewsAvg ? stay.reviewsAvg : 0}</p>\n                            <p className=\"info-line-reviews\">{`(${stay.reviews.length} reviews)`}</p>\n                        </div>\n                        <p className=\"dot\"></p>\n                        <div className=\"host-location-container flex align-end\">\n                            <p className=\"info-line-loc\">{stay.loc.address}</p>\n                        </div>\n                    </div>\n                    <div className=\"user-btns-container flex\">\n                        <div className=\"share-btn-container flex align-center\">\n                            <p className=\"details-share\"  ><IosShareIcon /></p>\n                            <p>Share</p>\n                        </div>\n                        <div className=\"save-btn-container flex align-center\" onClick={() => { onToogleLikeStay() }}>\n                            <p className=\"details-like\" >{!isLiked ? <FavoriteBorderIcon /> : <FavoriteIcon className=\"liked\" />}</p>\n                            <p>Save</p>\n                        </div>\n                    </div>\n                </section>\n            </section>\n            <section className=\"asset-imgs-container flex  \">\n\n                {!isMobilePics ? <div className=\"asset-imgs flex\">\n                    <div className=\"primary-img square-ratio\"><img src={stay.imgUrls[0]} alt=\"\" /></div>\n                    <div className=\"imgs-container flex\">\n                        <div className=\"asset-img square-ratio\"><img src={stay.imgUrls[1]} alt=\"\" /></div>\n                        <div className=\"asset-img square-ratio\"><img src={stay.imgUrls[2]} alt=\"\" /></div>\n                    </div>\n                    <div className=\"imgs-container flex\">\n                        <div className=\"asset-img square-ratio\"><img src={stay.imgUrls[3]} alt=\"\" /></div>\n                        <div className=\"asset-img square-ratio\"><img src={stay.imgUrls[4]} alt=\"\" /></div>\n                    </div>\n                </div> : <div className=\"asset-imgs flex\">\n                    <div className=\"primary-img square-ratio\"> <LazyLoad imgs={stay.imgUrls} /></div>\n                </div>}\n            </section>\n        </section>\n    )\n\n}","import { FaHome, FaBroom, FaDoorClosed, FaKey } from 'react-icons/fa'\n\nexport function AssetSum(stay) {\n    return (<section className=\"asset-sum-container\">\n\n        <div className=\"asset-sum\">\n            <div className=\"asset-sum-item flex\">\n                <div className=\"sum-icon-container\">\n                    <p className=\"sum-icon\" ><FaHome /></p>\n                </div>\n                <div className=\"sum-txt\">\n                    <h4>Entire Home</h4>\n                    <p>Youll have the apartment to yourself.</p>\n                </div>\n            </div>\n            <div className=\"asset-sum-item flex\">\n                <div className=\"sum-icon-container\">\n                    <p className=\"sum-icon\" ><FaBroom className=\"sum-icon\" /></p>\n                </div>\n                <div className=\"sum-txt\">\n                    <h4>Enhanced Clean Home</h4>\n                    <p>This host committed to Airbnb's 5-step enhanced cleaning process.</p>\n                </div>\n            </div>\n            <div className=\"asset-sum-item flex\">\n                <div className=\"sum-icon-container\">\n                    <p className=\"sum-icon\" ><FaDoorClosed className=\"sum-icon\" /></p>\n                </div>\n                <div className=\"sum-txt\">\n                    <h4>Self check-in</h4>\n                    <p>Check yourself in with the lockbox.</p>\n                </div>\n            </div>\n            <div className=\"asset-sum-item flex\">\n                <div className=\"sum-icon-container\">\n                    <p className=\"sum-icon\" ><FaKey className=\"sum-icon\" /></p>\n                </div>\n                <div className=\"sum-txt\">\n                    <h4>Great check-in experience</h4>\n                    <p>95% of recent guests gave the check-in process a 5-star rating.</p>\n                </div>\n            </div>\n        </div>\n    </section>)\n}\n\n// <div className=\"asset-sum-item flex\">\n// <div className=\"sum-icon-container\">\n//     {/* <p className=\"sum-icon\" ></p><FaHome  className=\"sum-icon\" /> */}\n//     <p className=\"sum-icon\"><HomeOutlinedIcon/></p>\n\n    \n// </div>\n// <div className=\"sum-txt\">\n//     <h4>Entire Home</h4>\n//     <p>Youll have the apartment to yourself.</p>\n// </div>\n// </div>\n// <div className=\"asset-sum-item flex\">\n// <div className=\"sum-icon-container\">\n//     <p className=\"sum-icon\"><LocationOnOutlined  /></p>\n    \n// </div>\n// <div className=\"sum-txt\">\n//     <h4>Enhanced Clean Home</h4>\n//     <p>This host committed to Airbnb's 5-step enhanced cleaning process.</p>\n// </div>\n// </div>\n// <div className=\"asset-sum-item flex\">\n// <div className=\"sum-icon-container\">\n//     <p className=\"sum-icon\"><DoorBackOutlined  /> </p>\n    \n// </div>\n// <div className=\"sum-txt\">\n//     <h4>Self check-in</h4>\n//     <p>Check yourself in with the lockbox.</p>\n// </div>\n// </div>\n// <div className=\"asset-sum-item flex\">\n// <div className=\"sum-icon-container\">\n// <p className=\"sum-icon\"><VpnKeyOutlined  /> </p>\n\n// </div>\n// <div className=\"sum-txt\">\n//     <h4>Great check-in experience</h4>\n//     <p>95% of recent guests gave the check-in process a 5-star rating.</p>\n// </div>\n// </div>","\nimport React from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { FastfoodTwoTone, FireplaceOutlined, BeachAccess, OutdoorGrill, Kitchen, KingBed, Deck, LocalLaundryService, Pool, Bathtub, RoomService, Speaker, SportsEsports } from '@material-ui/icons';\nimport { Balcony, Checkroom, CoffeeMaker, Crib, Iron } from '@mui/icons-material';\nimport {\n    FaSnowflake, FaBlender, FaCar, FaHotTub, FaPaw, FaSmoking, FaSmokingBan, FaTv, FaWifi,\n    FaLock, FaThermometerHalf, FaDoorClosed, FaWineGlassAlt, FaSwimmingPool, FaAccessibleIcon\n} from 'react-icons/fa';\nimport { utilService } from '../../services/util.service';\nexport class AssetAmenities extends React.Component {\n\n    render() {\n        const { amenities } = this.props\n        return (\n            <ul className=\"amenities-list flex\">\n                {amenities && amenities.map((amenity, idx) => {\n                    if (idx <= 9) {\n                        return <li key={amenity} className=\"amenity-item flex\">\n                            <div className=\"amenity-icon-container\">\n                                {utilService.getAmenitiesIcons(amenity)}\n                            </div>\n                            <div className=\"amenity-txt\">\n                                <p>{amenity}</p>\n                            </div>\n                        </li>\n                    }\n                })}\n            </ul>\n        )\n    }\n\n}","import { httpService } from './http.service.js'\nconst listeners = []\n\nexport const orderService = {\n    query,\n    getById,\n    save,\n    update,\n    remove,\n    subscribe\n\n}\nwindow.cs = orderService;\n\nasync function query(userId, type) {\n    // add userId and type to parameters in query\n    const orders = await httpService.get('order', { params: { userId, type } })\n    return orders\n}\nasync function getById(orderId) {\n    // return storageService.get(STORAGE_KEY, orderId)\n    const order = await httpService.get(`order/${orderId}`)\n    return order\n}\nfunction remove(orderId) {\n    return httpService.delete(`order/${orderId}`)\n}\n\nfunction save(order) {\n    const savedOrder = httpService.post('order', order)\n    return savedOrder\n}\nasync function update(order) {\n    const UpdatedOrder = await httpService.put(`order/${order._id}`, order)\n    return UpdatedOrder;\n}\n\nfunction subscribe(listener) {\n    listeners.push(listener)\n}\n\nfunction _notifySubscribersOrdersChanged(orders) {\n    listeners.forEach(listener => listener(orders))\n}\n\nwindow.addEventListener('storage', () => {\n    query()\n        .then(orders => {\n            _notifySubscribersOrdersChanged(orders)\n        })\n})\n\n\n\n","import io from 'socket.io-client'\n\nexport const SOCKET_EMIT_USER_WATCH = 'user-watch';\nexport const SOCKET_EVENT_USER_UPDATED = 'user-updated';\nexport const SOCKET_EVENT_REVIEW_ADDED = 'review-added';\nexport const SOCKET_EVENT_REVIEW_ABOUT_YOU = 'review-about-you';\n\n\nconst baseUrl = (process.env.NODE_ENV === 'production')? '' : '//localhost:3030'\nexport const socketService = createSocketService()\n// export const socketService = createDummySocketService()\n\nwindow.socketService = socketService\n\n// var socketIsReady = false;\nsocketService.setup()\n\n\nfunction createSocketService() {\n  var socket = null;\n  const socketService = {\n    setup() {\n      socket = io(baseUrl)\n    },\n    on(eventName, cb) {\n      socket.on(eventName, cb)\n    },\n    off(eventName, cb=null) {\n      if (!socket) return;\n      if (!cb) socket.removeAllListeners(eventName)\n      else socket.off(eventName, cb)\n    },\n    emit(eventName, data) {\n      socket.emit(eventName, data)\n    },\n    terminate() {\n      socket = null\n    }\n  }\n  return socketService\n}\n\n// eslint-disable-next-line\nfunction createDummySocketService() {\n  var listenersMap = {}\n  const socketService = {\n    listenersMap,\n    setup() {\n      listenersMap = {}\n    },\n    terminate() {\n      this.setup()\n    },\n    on(eventName, cb) {\n      listenersMap[eventName] = [...(listenersMap[eventName]) || [], cb]\n    },\n    off(eventName, cb) {\n      if (!listenersMap[eventName]) return\n      if (!cb) delete listenersMap[eventName]\n      else listenersMap[eventName] = listenersMap[eventName].filter(l => l !== cb)\n    },\n    emit(eventName, data) {\n      if (!listenersMap[eventName]) return\n      listenersMap[eventName].forEach(listener => {\n        listener(data)\n      })\n    },\n    debugMsg() {\n      this.emit('chat addMsg', {from: 'Someone', txt: 'Aha it worked!'})\n    },\n  }\n  window.listenersMap = listenersMap;\n  return socketService\n}\n\n\n// Basic Tests\n// socketService.on('baba', cb)\n// socketService.on('baba', cb)\n// socketService.on('baba', cb)\n// socketService.on('mama', cb)\n// socketService.emit('baba', 'Puk')\n// socketService.off('baba', cb)\n\n\nsocketService.on(SOCKET_EVENT_REVIEW_ABOUT_YOU, review => {\n  \n})\n\n","import { orderService } from \"../services/order.service.js\";\nimport { userService } from \"../services/user.service.js\";\nimport { socketService } from \"../services/socket.service.js\";\n\nexport function loadOrders(userId, type) {\n    return async (dispatch) => {\n        try {\n            const orders = await orderService.query(userId, type)\n            dispatch({\n                type: 'SET_ORDERS',\n                orders\n            })\n        } catch (err) {\n        }\n    }\n}\nexport function loadOrder(orderId) {\n    return async (dispatch) => {\n        try {\n            const order = await orderService.getById(orderId)\n            dispatch({\n                type: 'SET_ORDER',\n                order\n            })\n        } catch (err) {\n        }\n    }\n}\n\nexport function onRemoveOrder(orderId) {\n    return async (dispatch, getState) => {\n        try {\n            await orderService.remove(orderId)\n            dispatch({\n                type: 'REMOVE_ORDER',\n                orderId\n            })\n        } catch (err) {\n\n        }\n    }\n}\n\nexport function onAddOrder(orderToAdd) {\n    const { buyer } = orderToAdd\n\n    return async (dispatch) => {\n        try {\n            const notif = {\n                byUser: { fullName: buyer.fullname, imgUrl: buyer.imgUrl, _id: buyer._id },\n                createdAt: Date.now(),\n                stay: { _id: orderToAdd.stay._id, name: orderToAdd.loc.address, reviewsAvg: orderToAdd.stay.reviewsAvg },\n                txt: `Reserved your stay`,\n                isRead: false\n            }\n            const savedOrder = await orderService.save(orderToAdd)\n            dispatch({ type: 'ADD_ORDER', order: savedOrder })\n            socketService.emit('setNotif', notif)\n        }\n        catch (err) {\n\n        }\n    }\n}\nexport function onCancelOrder(tripId, buyerId, hostId) {\n    return async (dispatch) => {\n        try {\n\n            const buyer = await userService.getById(buyerId)\n            const hostUser = await userService.getById(hostId)\n            buyer.myTrips = buyer.myTrips.filter(trip => { return trip._id !== tripId })\n            hostUser.orders = hostUser.orders.filter(trip => { return trip._id !== tripId })\n            const updatedUser = await userService.update(buyer)\n            const updatedHost = await userService.update(hostUser)\n            dispatch({ type: 'UPDATE_USER', user: updatedUser })\n            dispatch({ type: 'UPDATE_USER', user: updatedHost })\n\n        }\n        catch (err) {\n        }\n    }\n}\nexport function onApproveOrder(order) {\n    return async (dispatch) => {\n        try {\n            const updatedOrder = await orderService.update(order)\n            dispatch({ type: 'UPDATE_ORDER', order: updatedOrder })\n\n\n        }\n        catch (err) {\n        }\n    }\n}\nexport function onUpdateOrder(order) {\n    return async (dispatch) => {\n        try {\n            const updatedOrder = await orderService.update(order)\n            dispatch({ type: 'UPDATE_ORDER', order: updatedOrder })\n\n\n        }\n        catch (err) {\n        }\n    }\n}\nexport function setFilter(filterBy) {\n    return async (dispatch) => {\n        try {\n            await dispatch({\n                type: 'SET_FILTER',\n                filter: filterBy\n            })\n        } catch (err) {\n\n        }\n    }\n}\nexport function onEditOrder(orderToSave) {\n    return async (dispatch) => {\n        try {\n            const updatedOrder = await orderService.update(orderToSave)\n            dispatch({\n                type: 'UPDATE_ORDER',\n                order: updatedOrder\n            })\n\n        } catch (err) {\n        }\n    }\n}\nexport function checkout() {\n    return async (dispatch, getState) => {\n        try {\n            const state = getState()\n            const total = state.orderModule.cart.reduce((acc, order) => acc + order.price, 0)\n            const score = await userService.changeScore(-total)\n            dispatch({ type: 'SET_SCORE', score })\n            dispatch({ type: 'CLEAR_CART' })\n        } catch (err) {\n        }\n    }\n}\n\n","import 'react-date-range/dist/styles.css'; // main style file\nimport 'react-date-range/dist/theme/default.css'; // theme css file\nimport React from \"react\"\n\nimport { DateRangePicker } from 'react-date-range';\n\nexport class DatesPicker2 extends React.Component {\n    state = {\n        startDate: new Date(),\n        endDate: new Date()\n    }\n    handleSelect = ({ selection }) => {\n        var { startDate, endDate } = selection\n        this.setState({ startDate, endDate }, () => { this.props.onSelectDates(this.state) })\n    }\n\n    toTimeStamp = (strDate) => {\n        var datum = Date.parse(strDate);\n        return datum / 1000;\n    }\n    render() {\n        const selectionRange = {\n            startDate: this.state.startDate,\n            endDate: this.state.endDate,\n            key: 'selection',\n        }\n        return (\n            <DateRangePicker\n                classNames=\"date-picker-2\"\n                rangeColors={\"black\"}\n                color={\"black\"}\n                className=\"date-pick\"\n                ranges={[selectionRange]}\n                onChange={this.handleSelect}\n            />\n\n        )\n    }\n}","// import { render } from '@testing-library/react';\nimport React from 'react'\nimport { FaMinus, FaPlus } from 'react-icons/fa'\n\nexport class GuestsCheckoutModal extends React.Component {\n\n    render() {\n        const { onSelectGuests, toggleGuestsModal, trip } = this.props\n        const { adults, kids, infants } = trip.guests\n        // <div className=\"minus-guest-btn flex\" onClick={() => { onSelectGuests('adults', 'minus') }}>\n        return (\n            <div className=\"guest-mega-container\">\n                {trip && <div className=\"guest-popup-container flex column\">\n                    <div className=\"screen\" onClick={() => { toggleGuestsModal() }}>\n                    </div>\n                    <div className=\"guest-card flex space-between  align-center\">\n                        <div className=\"column\">\n                            <p className=\"guest-type\">Adults</p>\n                            <p className=\"guest-desc\">Ages 13 or above</p>\n                        </div>\n                        <div className=\"guest-amount\">\n                            <p className={adults ? \"guest-btn\" : \"guest-btn zero\"} onClick={() => onSelectGuests('adults', 'minus')}><FaMinus /></p>\n                            <p className=\"guest-amount-count\">{adults ? adults : 0}</p>\n                            <p className=\"guest-btn \" onClick={() => onSelectGuests('adults', 'plus')}><FaPlus />\n                            </p>\n                        </div>\n                    </div>\n                    <div className=\"guest-card flex space-between align-center\">\n                        <div className=\"column\">\n                            <p className=\"guest-type\">Children</p>\n                            <p className=\"guest-desc\">Ages 2-12</p>\n                        </div>\n                        <div className=\"guest-amount\">\n                            <p className={kids ? \"guest-btn\" : \"guest-btn zero\"} onClick={() => onSelectGuests('kids', 'minus')}><FaMinus /></p>\n                            <p className=\"guest-amount-count\">{kids ? kids : 0}</p>\n                            <p className=\"guest-btn \" onClick={() => onSelectGuests('kids', 'plus')}><FaPlus />\n                            </p>\n                        </div>\n                    </div>\n                    <div className=\"guest-card flex space-between  align-center\">\n                        <div className=\"column\">\n                            <p className=\"guest-type\">Infants</p>\n                            <p className=\"guest-desc\">Under 2</p>\n                        </div>\n                        <div className=\"guest-amount \">\n                            <p className={infants ? \"guest-btn\" : \"guest-btn zero\"} onClick={() => onSelectGuests('infants', 'minus')}><FaMinus /></p>\n                            <p className=\"guest-amount-count\">{infants?infants:0}</p>\n                            <p className=\"guest-btn\" onClick={() => onSelectGuests('infants', 'plus')}><FaPlus />\n                            </p>\n                        </div>\n                    </div>\n\n                </div>}\n            </div>)\n    }\n}\n","import React from 'react'\nimport 'react-dates/initialize';\nimport { connect } from 'react-redux'\nimport { onAddOrder } from '../../store/order.actions'\nimport { FaStar, FaAngleDown, FaAngleUp } from 'react-icons/fa'\nimport 'react-dates/lib/css/_datepicker.css';\nimport { DatesPicker2 } from '../dates-picker2.jsx';\nimport { GuestsCheckoutModal } from './_guests-modal';\nimport { utilService } from '../../services/util.service';\n\nclass _CheckoutForm extends React.Component {\n\n    state = {\n        trip: {\n            startDate: this.props.startDate,\n            endDate: this.props.endDate,\n            guests: { adults: this.props.filterBy.adultNumber, kids: this.props.filterBy.kidsNumber, infants: this.props.filterBy.infantsNumber }\n        },\n        isGuestPopupOn: false,\n        isCheckoutToReserve: false,\n        isStayReserved: false,\n        isReqModalOpen: false,\n        datesModal: false\n\n    }\n    componentDidMount() {\n        const { stay, filterBy } = this.props\n        window.addEventListener('scroll', (ev) => { this.setState({ datesModal: false }) })\n        this.setState({\n            trip: {\n                startDate: filterBy.startDate,\n                endDate: filterBy.endDate,\n                guests: { adults: filterBy.adultNumber, kids: filterBy.kidsNumber, infants: filterBy.infantsNumber },\n                loc: stay.loc\n            },\n            isGuestPopupOn: false,\n            isCheckoutToReserve: false,\n            datesModal: false,\n            datesModalPos: {}\n        })\n    }\n    componentWillUnmount() {\n        window.removeEventListener('scroll', (ev) => { this.setState({ datesModal: false }) })\n    }\n    onSelectDates = ({ startDate, endDate }) => {\n        if (startDate) {\n            this.setState(prevState => ({ trip: { ...prevState.trip, startDate } }))\n        }\n        if (endDate) {\n            this.setState(prevState => ({ trip: { ...prevState.trip, endDate } }))\n        }\n    }\n\n    toTimestamp = (strDate) => {\n        var datum = Date.parse(strDate);\n        return datum / 1000;\n    }\n\n    toggleDatesModal = (val) => {\n        this.setState({ datesModal: true, isGuestPopupOn: false })\n    }\n\n    timeToShow = (date, val) => {\n        var timeStamp = Date.parse(date);\n        var time = new Date(timeStamp);\n        var day = \"0\" + time.getDate();\n        var month = \"0\" + (time.getMonth() + 1);\n        var year = \"0\" + time.getFullYear();\n        var formattedTime = day.substr(-2) + '.' + month.substr(-2) + '.' + year.substr(-2);\n        return formattedTime\n    }\n\n    getTripPrice = (startDate, endDate, price) => {\n        if (!startDate || !endDate) {\n            this.setState(prevState => ({ isReqModalOpen: true }), () => {\n                setTimeout(() => {\n                    this.setState(prevState => ({ isReqModalOpen: false }))\n                }, 2000);\n\n            })\n            return\n        }\n        const start = this.toTimestamp(startDate)\n        const end = this.toTimestamp(endDate)\n        const timeDiff = (end - start)\n        const totalNights = (timeDiff / 86400)\n        const totalPrice = price * totalNights + 200\n        this.setState(prevState => ({ trip: { ...prevState.trip, totalNights, totalPrice }, isCheckoutToReserve: true }));\n    }\n\n    toggleGuestsModal = () => {\n        this.setState({ datesModal: false })\n        this.setState({ isGuestPopupOn: !this.state.isGuestPopupOn })\n        this.calcGuestNum()\n    }\n    onSelectGuests = (val, action) => {\n\n        const { stay } = this.props\n        var { adults, kids, infants } = this.state.trip.guests\n        switch (val) {\n            case 'adults':\n                if (action === 'minus') adults = adults - 1\n                if (adults < 0) adults = 0\n                if (adults + kids + infants >= stay.capacity) return\n                if (action === 'plus') adults = adults + 1\n                break;\n            case 'kids':\n                if (action === 'minus') kids = kids - 1\n                if (kids < 0) kids = 0\n                if (adults + kids + infants >= stay.capacity) return\n                if (action === 'plus') kids = kids + 1\n                break;\n            case 'infants':\n                if (action === 'minus') infants = infants - 1\n                if (infants < 0) infants = 0\n                if (adults + kids + infants >= stay.capacity) return\n                if (action === 'plus') infants = infants + 1\n                break;\n            default:\n                break;\n        }\n        this.setState(prevState => ({ ...prevState, trip: { ...prevState.trip, guests: { adults, kids, infants } } }));\n    }\n\n    calcGuestNum = () => {\n        const { adults, kids, infants } = this.state.trip.guests\n        var res = +adults + +kids + +infants\n        return res\n    }\n\n    onBookTrip = (stay, trip) => {\n        if (!this.props.user) {\n        } else {\n            const { _id, fullname, imgUrl, username } = this.props.user\n            trip.buyer = { _id, fullname, imgUrl, username }\n            trip.startDate = this.toTimestamp(trip.startDate)\n            trip.endDate = this.toTimestamp(trip.endDate)\n            trip.host = stay.host\n            trip.stay = {\n                _id: stay._id,\n                imgUrls: stay.imgUrls,\n                name: stay.name,\n                reviewsAvg: stay.reviewsAvg\n            }\n            trip.status = 'pending'\n            trip.demoReviews = utilService.getRandomIntInclusive(50, 300)\n            this.props.onAddOrder(trip)\n            this.setState({\n                trip: {\n                    startDate: null,\n                    endDate: null,\n                    guests: { adults: 1, kids: 0, infants: 0 }\n                },\n                isGuestPopupOn: false,\n                isCheckoutToReserve: false,\n                isStayReserved: true\n            })\n            setTimeout(() => {\n                this.setState({ isStayReserved: false })\n            }, 2000);\n        }\n\n    }\n    onCloseModal = (ev) => {\n        this.setState({ isGuestPopupOn: false, datesModal: false })\n\n    }\n    getMouseCord = (ev) => {\n\n    }\n    getBtnDivs = () => {\n        let divStr = []\n        for (let i = 0; i < 100; i++) {\n            divStr.push(<div key={i + 1} className=\"cell\" ></div >)\n        }\n        return divStr\n    }\n    render() {\n        const { stay } = this.props\n        const { trip, isCheckoutToReserve, isGuestPopupOn, datesModal, isStayReserved, isReqModalOpen } = this.state\n        const { price } = stay\n        const { startDate, endDate } = trip\n        return (\n            <section className=\"checkout-popup flex column\">\n                {(isGuestPopupOn || datesModal) && <div className=\"checkout-screen\" onClick={(ev) => { this.onCloseModal(ev) }}></div>}\n                <section className=\"checkout-container flex\">\n                    <div className=\"checkout-form-container\">\n                        <div className=\"checkout-form-header flex space-between align-center\" onClick={() => { this.onCloseModal(false) }}>\n                            <div className=\"order-price-container \">\n                                <p className=\"order-price\"><span>${price}</span> / night</p>\n                            </div>\n                            <div className=\"check-rating-container flex align-center\">\n                                <p className=\"checkout-star\"><FaStar size={13} color=\"#FF5A5F\" /></p>\n                                <p className=\"order-avg-score\">{stay.reviewsAvg}</p>\n                                <p className=\"order-reviews\">{`(${stay.reviews.length} reviews)`}</p>\n                            </div>\n                        </div>\n                        <div className=\"form-container\">\n                            {datesModal && <DatesPicker2 onSelectDates={this.onSelectDates} handleChange={this.handleChange} />}\n                            <div className=\"select-form\">\n                                <div className=\"dates-check-container\">\n\n                                    <div className=\"dates-container flex  \">\n                                        <div className=\"checkin-input flex column\" onClick={(ev) => {\n                                            const { bottom, left } = ev.target.getBoundingClientRect()\n                                            this.setState({ datesModalPos: { bottom, left } })\n                                            this.toggleDatesModal(true)\n                                        }}>\n\n                                            <label className=\"title\" htmlFor=\"\">CHECK-IN</label>\n                                            <label htmlFor=\"\" ><span>{startDate ? this.timeToShow(startDate, 'startDate') : 'Add date'}</span></label>\n                                        </div>\n                                        <div className=\"checkout-input flex column\" onClick={(ev) => {\n                                            ev.target.getBoundingClientRect()\n                                            this.toggleDatesModal(true)\n                                        }} >\n                                            <label className=\"title\" htmlFor=\"\" >CHECK-OUT</label>\n                                            <label htmlFor=\"\" ><span>{endDate ? this.timeToShow(endDate, 'startDate') : 'Add date'}</span></label>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"guests-check-container flex space-between\" onClick={() => { this.toggleGuestsModal() }}>\n                                    <div className=\"guests-input flex column\"  >\n                                        <label className=\"title\" htmlFor=\"\" >GUESTS </label>\n                                        <label htmlFor=\"\" ><span>{this.calcGuestNum() === 1 ? `${this.calcGuestNum()} guest` : `${this.calcGuestNum()} guests`}</span></label>\n                                    </div>\n                                    <div className=\"guest-select-arrow flex\">\n                                        {isGuestPopupOn ? <FaAngleUp /> : <FaAngleDown />}\n\n                                    </div>\n                                </div>\n                            </div>\n                            {isCheckoutToReserve &&\n                                <div className=\"summed-trip-info\">\n                                    <div className=\"sum-line\">\n                                        <p>You won't be charged yet</p>\n                                    </div>\n                                    <div className=\"calc-price-container flex space-between\">\n                                        <p className=\"calc-price\">${price} x {trip.totalNights} nights</p>\n                                        <p>${trip.totalPrice}</p>\n                                    </div>\n                                    <div className=\"service-fee-container flex space-between\">\n                                        <p className=\"service-fee\">Service fee</p>\n                                        <p>$200</p>\n                                    </div>\n                                    <div className=\"total-price-container flex space-between\">\n                                        <p className=\"total\">Total</p>\n                                        <p className=\"total-price\">${trip.totalPrice}</p>\n                                    </div>\n                                </div>\n                            }\n                            {isStayReserved && <div className=\"stay-msg-container\"><h1>Your order is waiting for approval</h1></div>}\n                            <div className=\"checkout-btn-container\" onClick={() => { (isCheckoutToReserve) ? this.onBookTrip(stay, trip) : this.getTripPrice(startDate, endDate, price) }}>\n                                {this.getBtnDivs()}\n                                <div className=\"content\">\n                                    {!isCheckoutToReserve && !isStayReserved &&\n                                        <button className=\"checkout-btn\" ><span>Check availabilty</span> </button>}\n                                    {isCheckoutToReserve &&\n                                        <button className=\"checkout-btn\" ><span>Reserve</span> </button>\n                                    }\n                                    {isStayReserved &&\n                                        <button className=\"checkout-btn\" ><span>Order pending</span> </button>\n                                    }\n                                </div>\n\n                            </div>\n                        </div>\n                    </div >\n                    {isReqModalOpen && <section className=\"checkout-popup-container flex align-center\">\n                        <p>Enter trip dates</p>\n                    </section>}\n                </section>\n                {/* <div className=\"report-container flex \">\n                    <FaFlag />\n                    <p>Report this listing</p>\n                </div> */}\n                {isGuestPopupOn && <GuestsCheckoutModal toggleGuestsModal={this.toggleGuestsModal} onSelectGuests={this.onSelectGuests} trip={trip} stay={stay} />}\n                {/* {isGuestPopupOn && } */}\n\n            </section>\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        user: state.userModule.user,\n        stay: state.stayModule.stay,\n        filterBy: state.stayModule.filterBy,\n\n    }\n}\nconst mapDispatchToProps = {\n    onAddOrder\n}\n\nexport const CheckoutForm = connect(mapStateToProps, mapDispatchToProps)(_CheckoutForm)\n","import {  CloseRounded } from '@material-ui/icons';\nimport { Balcony, Checkroom, CoffeeMaker, Crib, Iron } from '@mui/icons-material';\nexport const ReadMore = ({ txt = '', size = 'short', onToogleReadModal }) => {\n    const onClosePopup = () => {\n        onToogleReadModal()\n    }\n    return (\n        <div className={`popup-container ${size}`}>\n            <div className=\"close-btn-container flex \">\n                <button className=\"close-btn flex align-center justify-center\" onClick={() => { onClosePopup() }}><CloseRounded className=\"close-icon\"/></button>\n            </div>\n            <article className=\"popup-txt-container\">\n                <p>{txt}</p>\n            </article>\n        </div>\n    )\n}","import { Component } from \"react\";\nimport { FaUserAlt } from \"react-icons/fa\";\nimport { utilService } from \"../../services/util.service\";\nimport { ReadMore } from \"../_read-more\";\n\nexport class ReviewsPreview extends Component {\n    state = {\n        isReadMoreOn: false\n    }\n    onToogleReadModal = () => {\n        this.setState({ isReadMoreOn: !this.state.isReadMoreOn })\n    }\n    render() {\n        const { review } = this.props\n\n        const { isReadMoreOn } = this.state\n        return (\n            <div className=\"review-card-container\">\n                <li >\n                    <div className=\"review-card flex column align-center\" >\n                        <div className=\"review-user-info flex\">\n                            {!review.by.imgUrl ? <div className=\"user-review-img-container flex align-center justify-content\">\n                                <FaUserAlt />\n                            </div> : <div className=\"user-review-img-container\">\n                                <img src={review.by.imgUrl} alt=\"\" />\n                            </div>}\n                            <div className=\"txt-info-container flex column\">\n                                <div className=\"review-username-container\">\n                                    <p className=\"review-username\">{review.by.fullname} </p>\n                                </div>\n                                <div className=\"review-username-container\">\n                                    {typeof review.createdAt === 'number' ? <p >{utilService.timeToShow(review.createdAt)} </p> : <p >{review.createdAt} </p>}\n                                </div>\n                            </div>\n                        </div>\n\n                        <div className=\"review-txt-container\">\n\n                            {review.txt && review.txt.length >= 100 && (\n                                <p >{review.txt.substring(0, 100)} {review.txt.length > 100 && (<span className=\"read-more\" onClick={this.onToogleReadModal}><br /> More...</span>)}</p>\n                            )}\n\n                            {review.txt && review.txt.length < 100 && <p  >{review.txt}</p>}\n                        </div>\n\n                    </div>\n                </li >\n                {isReadMoreOn && <ReadMore onToogleReadModal={this.onToogleReadModal} txt={review.txt} />}\n\n            </div>\n        )\n    }\n\n\n\n}\n\n","// import { FaStar } from 'react-icons/fa'\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { ReviewsPreview } from './reviews-preview'\n// import { ReviewAvg } from './_reviews-avg'\n\nclass _ReviewsList extends Component {\n    render() {\n        const { reviews } = this.props.stay\n        const { isReadMoreOn, onToogleReadModal } = this.props\n        return (\n            <section className=\"reviews-list-container flex \">\n                {!reviews.length && <section className=\"reviews-container flex \">\n                    <p>No reviews to show...</p>\n                </section>\n                }\n                {reviews.length ? <section>\n                    <div>\n\n                        {/* <div className=\"reviews-avgs-container\">\n                        <ReviewAvg reviews={reviews} />\n                    </div> */}\n                        <ul className=\"reviews-container flex space-between\">\n                            {reviews.slice(0, 6).map(review => <ReviewsPreview review={review} key={review.id} onToogleReadModal={onToogleReadModal} isReadMoreOn={isReadMoreOn} />)}\n                        </ul>\n                        {reviews?.length &&\n                            <div>\n                                <button className=\"show-reviews-btn\">Show all {reviews.length} reviews</button>\n                            </div>}\n                    </div>\n                </section> : ''\n                }\n\n            </section>\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        stay: state.stayModule.stay,\n    }\n}\n\nexport const ReviewsList = connect(mapStateToProps)(_ReviewsList)","\nimport { Component } from 'react';\nimport { Map, InfoWindow, Marker, GoogleApiWrapper } from 'google-maps-react';\n\nclass _StayMap extends Component {\n\n    state = {\n        center: {\n            lat: '',\n            lng: ''\n        },\n        loc: {\n            lat: '',\n            lng: '',\n            address: '',\n            country: ''\n        }\n    }\n    componentDidMount() {\n        const loc = this.props.location\n        this.setState({ center: { lng: loc.lng, lat: loc.lat }, loc })\n    }\n    onMapClicked = (props, map, ev) => {\n        this.setState({ center: { lat: ev.latLng.lat(), lng: ev.latLng.lng() } })\n    }\n\n    onMarkerClicked = () => {\n        this.setState({ isInfoWindowOn: true })\n    }\n\n    onInfoWindowClose = () => {\n        this.setState({ isInfoWindowOn: false })\n    }\n    render() {\n        const { lat, lng } = this.state.loc\n\n        const style = {\n            width: '100%',\n            height: '400px',\n            position: \"relative\",\n            margin: \"0 auto\"\n        }\n        return (\n            <section className=\"main-map-container\">\n                <div className=\"map-title-container\">\n                    <h1 className=\"map-title\">Where youll be</h1>\n                </div>\n                <div className=\"map-container\">\n                    {lat && <Map\n                        className=\"stay-map\"\n                        containerStyle={style}\n                        google={this.props.google}\n                        zoom={15}\n                        initialCenter={this.state.center}\n                        onClick={this.onMapClicked}\n                        center={this.state.center}\n                    >\n                        <Marker\n                            position={{ lat, lng }}\n                            name={'Current location'}\n                        />\n\n                        <InfoWindow\n                            onClose={this.onInfoWindowClose}\n                            position={this.state.center}\n                            visible={this.state.isInfoWindowOn}\n                        >\n                            <div>\n                                <h1>Hello</h1>\n                            </div>\n                        </InfoWindow>\n                    </Map>}\n                    <div>\n                        {this.state.loc.address && <h1 className=\"address-title\">{this.state.loc.address.split(',')[0]} , {this.state.loc.address.split(',')[1]}</h1>}\n                    </div>\n                </div>\n            </section>\n        );\n    }\n}\n\nexport const StayMap = GoogleApiWrapper({\n    apiKey: ('AIzaSyCUGOKMnw7Uk2ksGmOSmUZKdpOyeWxg27Y')\n})(_StayMap)","import { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { TextareaAutosize } from '@material-ui/core';\nimport { onEditStay } from '../../store/stay.actions.js'\nimport { loadUser } from '../../store/user.actions'\nimport { utilService } from '../../services/util.service.js';\nimport Rating from 'react-rating';\nimport { FaStar } from 'react-icons/fa';\n\nclass _AddReview extends Component {\n    state = {\n        newReview: {\n            by: {\n                fullname: this.props.user.fullname,\n                _id: this.props.user._id,\n                imgUrl: this.props.user.imgUrl\n            },\n            createdAt: null,\n            txt: '',\n            id: utilService.makeId(8),\n            cleanliness: null,\n            communication: null,\n            checkIn: null,\n            accuracy: null,\n            location: null,\n            value: null\n        }\n\n    }\n    componentDidMount() {\n        this.clearReview()\n        if (this.props.user) this.props.loadUser(this.props.user._id)\n        this.setState({\n            by: {\n                fullname: this.props.user.fullname,\n                _id: this.props.user._id,\n                imgUrl: this.props.user.imgUrl\n            }\n        })\n    }\n    onRemove = async reviewId => {\n        await this.props.removeReview(reviewId)\n        // this.props.history.push('/login')\n    }\n    clearReview = () => {\n        this.setState({\n            newReview: {\n                createdAt: null,\n                txt: '',\n                id: utilService.makeId(),\n                cleanliness: null,\n                communication: null,\n                checkIn: null,\n                accuracy: null,\n                location: null,\n                value: null\n            }\n        })\n    }\n\n    handleChange = ({ target }) => {\n        const field = target.name\n        const value = target.type === 'number' ? +target.value : target.value\n        this.setState(prevState => ({ newReview: { ...prevState.newReview, [field]: value } }))\n    }\n    changeRating = (score, name) => {\n        this.setState(prevState => ({ newReview: { ...prevState.newReview, [name]: score } }))\n    }\n\n    formSubmited = (ev) => {\n        ev.preventDefault()\n        const { stay } = this.props\n        if (this.props.user._id) {\n            this.setState(prevState => ({ newReview: { ...prevState.newReview, createdAt: Date.now() } }), () => {\n                const review = this.state.newReview\n                review.by = {\n                    fullname: this.props.user.fullname,\n                    _id: this.props.user._id,\n                    imgUrl: this.props.user.imgUrl\n                }\n\n                stay.reviews = [review , ...stay.reviews]\n                console.log('before send', stay);\n                this.props.onEditStay(stay)\n                this.clearReview()\n            })\n        }\n    }\n    getBtnDivs = () => {\n        let divStr = []\n        for (let i = 0; i < 100; i++) {\n            divStr.push(<div key={i} className=\"cell\" ></div >)\n        }\n        return divStr\n    }\n    render() {\n        const { cleanliness, communication, checkIn, accuracy, location, value, txt } = this.state.newReview\n        // const reviewStr = { leftReview: ['cleanliness', 'communication', 'checkIn'], rightReview: ['accuracy', 'location', 'value'] }\n        const style = {\n            padding: '20px',\n            width: '100%',\n            height: ' 150px',\n            resize: 'none',\n            borderRadius: '13px',\n            borderColor: ' #bdbcbc',\n            fontFamily: \"circular-book\",\n            fontSize: \"1rem\"\n        }\n        return (\n            <div >\n                <div className=\"add-review-title-container\">\n                    <h3>Add review</h3>\n                </div>\n                <form action=\"\" className=\"add-form flex column \" onSubmit={this.formSubmited} >\n                    <div className=\" add-review-container flex \">\n\n                        {/* <div className=\"line flex\">\n                            <p>Cleanliness</p>\n                            <Rating\n                                onChange={(ev) => this.changeRating(ev, 'cleanliness')}\n                                initialRating={cleanliness}\n                                fullSymbol={<FaStar size={13} color=\"#FF5A5F\" />}\n                                emptySymbol={<FaStar size={13} color=\"lightgray\" border=\"1px solid #FF5A5F\" />}\n                            />\n                        </div> */}\n                        <div className=\"left-review\">\n                            <div className=\"line flex\">\n                                <p>Cleanliness</p>\n                                <Rating\n                                    onChange={(ev) => this.changeRating(ev, 'cleanliness')}\n                                    initialRating={cleanliness}\n                                    fullSymbol={<FaStar size={13} color=\"#FF5A5F\" />}\n                                    emptySymbol={<FaStar size={13} color=\"lightgray\" border=\"1px solid #FF5A5F\" />}\n                                />\n                            </div>\n                            <div className=\"line flex\">\n                                <p>Communication</p>\n                                <Rating\n                                    onChange={(ev) => this.changeRating(ev, 'communication')}\n                                    initialRating={communication}\n                                    fullSymbol={<FaStar size={13} color=\"#FF5A5F\" />}\n                                    emptySymbol={<FaStar size={13} color=\"lightgray\" border=\"1px solid #FF5A5F\" />}\n                                />\n                            </div>\n                            <div className=\"line flex\">\n                                <p>Check in</p>\n                                <Rating\n                                    onChange={(ev) => this.changeRating(ev, 'checkIn')}\n                                    initialRating={checkIn}\n                                    fullSymbol={<FaStar size={13} color=\"#FF5A5F\" />}\n                                    emptySymbol={<FaStar size={13} color=\"lightgray\" border=\"1px solid #FF5A5F\" />}\n                                />\n                            </div>\n                        </div>\n                        <div className=\"right-review\">\n                            <div className=\"line flex\">\n                                <p>Accuracy</p>\n                                <Rating\n                                    onChange={(ev) => this.changeRating(ev, 'accuracy')}\n                                    initialRating={accuracy}\n                                    fullSymbol={<FaStar size={13} color=\"#FF5A5F\" />}\n                                    emptySymbol={<FaStar size={13} color=\"lightgray\" border=\"1px solid #FF5A5F\" />}\n                                />\n                            </div>\n                            <div className=\"line flex\">\n                                <p>Location</p>\n                                <Rating\n                                    onChange={(ev) => this.changeRating(ev, 'location')}\n                                    initialRating={location}\n                                    fullSymbol={<FaStar size={13} color=\"#FF5A5F\" />}\n                                    emptySymbol={<FaStar size={13} color=\"lightgray\" border=\"1px solid #FF5A5F\" />}\n                                />\n                            </div>\n                            <div className=\"line flex\">\n                                <p>Value</p>\n                                <Rating\n                                    onChange={(ev) => this.changeRating(ev, 'value')}\n                                    initialRating={value}\n                                    fullSymbol={<FaStar size={13} color=\"#FF5A5F\" />}\n                                    emptySymbol={<FaStar size={13} color=\"lightgray\" border=\"1px solid #FF5A5F\" />}\n                                />\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"add-txt-container flex\">\n                        <TextareaAutosize\n                            style={style}\n                            value={txt}\n                            placeholder=\"Write you opinion about this stay...\"\n                            className=\"review-input\"\n                            onChange={this.handleChange}\n                            name=\"txt\"\n                            autoComplete=\"off\" />\n                    </div>\n                    <div className=\"add-review-btn flex\">\n\n                        <div className=\"checkout-btn-container\" onClick={this.formSubmited}>\n                            {this.getBtnDivs()}\n                            <div className=\"content\">\n                                <button type=\"submit\" className=\"checkout-btn\" ><span>Add</span></button>\n                            </div>\n\n                        </div>\n                    </div>\n                </form>\n            </div >\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        user: state.userModule.user,\n    }\n}\nconst mapDispatchToProps = {\n    onEditStay,\n    loadUser\n}\nexport const AddReview = connect(mapStateToProps, mapDispatchToProps)(_AddReview)\n// export const AddReview = connect(mapStateToProps)(_AddReview)","import React from \"react\";\nimport { FaStar } from \"react-icons/fa\";\n\nexport class ReviewAvg extends React.Component {\n    state = {\n        cleanliness: null,\n        communication: null,\n        checkIn: null,\n        accuracy: null,\n        location: null,\n        value: null,\n        totalAvg: null\n    }\n    componentDidMount() {\n        const types = [\"cleanliness\", \"communication\", \"checkIn\", \"accuracy\", \"location\", \"value\"]\n        types.forEach(type => {\n            this.setState(prevState => ({ ...prevState, [type]: this.getAvrage(type) }), () => {\n                this.getTotalAvg()\n            })\n        })\n    }\n    getAvrage = (type) => {\n        const { reviews } = this.props\n        let avgScore = 0;\n        reviews.map(review => avgScore += +review[type])\n        avgScore = ((avgScore / reviews.length))\n        console.log(avgScore);\n        // if (typeof avgScore !== Number) avgScore = 0\n        // avgScore = avgScore.toFixed(1)\n        return avgScore.toFixed(1)\n    }\n    getTotalAvg = () => {\n        let totalReviewAvg = 0;\n        Object.keys(this.state).forEach((key, index) => {\n            totalReviewAvg += +this.state[key]\n        })\n        totalReviewAvg = (totalReviewAvg / 6).toFixed(1)\n        // if (typeof +totalReviewAvg === NaN) totalReviewAvg = 0\n        this.setState(prevState => ({ ...prevState, totalAvg: totalReviewAvg }), () => {\n            this.props.setReviewsAvg(+totalReviewAvg)\n        })\n\n    }\n    render() {\n        const { reviews } = this.props\n        const types = this.state\n        return (\n            <section>\n                <div className=\"reviews-sec-title-container\">\n                    <h1 className=\"reviews-section-title flex\" ><FaStar\n                        size={15}\n\n                        color=\"#FF5A5F\" /> <span>{this.state.totalAvg}</span> <span>Reviews</span> <span></span>{reviews.length} Reviews</h1>\n                </div>\n                <div className=\"review-avg-container flex space-between\" >\n                    <div className=\"left-review\">\n                        {Object.keys(types).map((key, index) => {\n                            if (index <= 2) {\n                                return <div key={key} className=\"line flex align-center space-between\">\n                                    <p className=\"line-title\">{key.charAt(0).toUpperCase()}{key.slice(1)}</p>\n                                    <div className=\"loader-container flex align-center space-between\">\n                                        <div className=\"line-loader-container\">\n                                            <div className=\"line-loader\" style={{ width: `${+this.state[key] * 20}%` }}></div>\n                                        </div>\n                                        <p className=\"review-score\">{this.state[key]}</p>\n                                    </div>\n                                </div>\n                            }\n                        })}\n                    </div>\n                    <div className=\"right-review\">\n                        {Object.keys(types).map((key, index) => {\n                            if (index > 2 && index <= 5) {\n                                return <div key={key} className=\"line flex align-center space-between\">\n                                    <p className=\"line-title\">{key.charAt(0).toUpperCase()}{key.slice(1)}</p>\n                                    <div className=\"loader-container flex align-center space-between\">\n                                        <div className=\"line-loader-container\">\n                                            <div className=\"line-loader\" style={{ width: `${+this.state[key] * 20}%` }}></div>\n                                        </div>\n                                        <p className=\"review-score\">{this.state[key]}</p>\n                                    </div>\n                                </div>\n                            }\n                        })}\n                    </div>\n                </div >\n            </section >\n        )\n    }\n}\n","import { utilService } from \"../services/util.service\"\nimport { CloseRounded } from '@material-ui/icons';\n\nexport function AmenitiesModal({ amenities, onToggleAmenitiesModal }) {\n    return (\n        <div className=\"amenities-modal-wrapper flex justify-center\">\n            <section className=\"amenities-modal-container \">\n                <div className=\"close-modal-btn-container flex align-center\">\n                    <div className=\"close-btn\">\n                        <p onClick={() => { onToggleAmenitiesModal() }}> <CloseRounded /> </p>\n                    </div>\n                </div>\n\n                <div className=\"amenities-modal-title\">\n                    <h4>What this place offers</h4>\n                </div>\n\n                <section className=\"amenities-list-container\">\n                    <ul className=\"amenities-list\">\n                        {amenities.map(amenity => {\n                            return <li key={amenity} className=\"amenity-item flex\">\n                                <div className=\"amenity-icon-container\">\n                                    {utilService.getAmenitiesIcons(amenity)}\n                                </div>\n                                <div className=\"amenity-txt\">\n                                    <p>{amenity}</p>\n                                </div>\n                            </li>\n                        })}\n                    </ul>\n                </section>\n            </section>\n        </div>\n    )\n}","import React from 'react'\nimport { connect } from 'react-redux'\nimport { loadStay, onEditStay } from '../store/stay.actions.js'\nimport { loadUser, onToggleLikedStay } from '../store/user.actions.js'\nimport { BasicInfo } from '../cmps/stay-details/details-base-info'\nimport { AssetSum } from '../cmps/stay-details/details-asset-sum'\nimport { AssetAmenities } from '../cmps/stay-details/details-amenities'\nimport 'react-dates/initialize'\nimport 'react-dates/lib/css/_datepicker.css';\nimport { CheckoutForm } from '../cmps/stay-details/details-checkout-form'\nimport { ReviewsList } from '../cmps/stay-details/reviews-list'\nimport { StayMap } from '../cmps/stay-details/stay-map'\nimport { AddReview } from '../cmps/stay-details/add-review'\nimport { ReviewAvg } from '../cmps/stay-details/_reviews-avg'\nimport loader from '../assets/img/three-dots.svg'\nimport { socketService } from '../services/socket.service'\nimport { AmenitiesModal } from '../cmps/amenities-modal.jsx'\nimport { FaUserAlt } from 'react-icons/fa'\nclass _StayDetails extends React.Component {\n    state = {\n        stayReviews: [],\n        trip: {\n            startDate: null,\n            endDate: null,\n            guests: { adults: 1, kids: 0, infants: 0 },\n\n        },\n        isReadMoreOn: false,\n        isLiked: null,\n        isMobilePics: false,\n        isAmenitiesModalOpen: false\n    }\n    setMobliePicsDisplay = () => {\n        if (window.innerWidth <= 780) {\n            this.setState({ isMobilePics: true })\n        } else {\n            this.setState({ isMobilePics: false })\n        }\n    }\n    async componentDidMount() {\n        this.setMobliePicsDisplay()\n        const { user } = this.props\n        const { stayId } = this.props.match.params\n        window.addEventListener('resize', this.setMobliePicsDisplay)\n        if (!stayId) this.props.history.push('/')\n        else await this.props.loadStay(stayId)\n        window.scrollTo(0, 0)\n        if (this.props.stay) {\n            socketService.setup()\n            socketService.emit('setHost', this.props.stay.host._id)\n            // socketService.on('getNotif', (ev) => {})\n        }\n        if (user) this.props.loadUser(user._id)\n\n        this.isStayLiked()\n    }\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.setMobliePicsDisplay)\n        // socketService.off('getNotif', (ev) => {})\n             this.props.loadStay()\n    }\n\n     componentDidUpdate(prevProps, prevState) {\n        const { user } = this.props\n        const { stayId } = this.props.match.params\n        if (prevState.isLiked !== this.state.isLiked) {\n            this.isStayLiked()\n            if (user) this.props.loadUser(user._id)\n        }\n      \n    }\n\n    onToogleLikeStay = () => {\n        const { user, stay } = this.props\n        const { isLiked } = this.state\n        if (user) {\n            this.setState({ isLiked: !isLiked }, () => {\n                this.props.onToggleLikedStay(stay._id, !isLiked, user._id)\n            })\n        }\n    }\n\n    isStayLiked = () => {\n        const { user, stay } = this.props\n        if (user && stay) {\n            if (user.mySaves) {\n                const isLiked = user.mySaves.filter(saved => saved === stay._id)\n                if (isLiked.length) {\n                    this.setState({ isLiked: true })\n                }\n            }\n        }\n    }\n\n    handleChange = ({ startDate, endDate }) => {\n        if (startDate) {\n            this.setState(prevState => ({ trip: { ...prevState.trip, startDate } }))\n        }\n        if (endDate) {\n            this.setState(prevState => ({ trip: { ...prevState.trip, endDate } }))\n        }\n    }\n\n    setReviewsAvg = (avgScore) => {\n        const { stay } = this.props\n        stay.reviewsAvg = avgScore\n        this.props.onEditStay(stay)\n        this.setState(prevState => ({ stay: { ...prevState.stay, reviewsAvg: avgScore } }))\n\n    }\n    onToggleAmenitiesModal = () => {\n        this.setState({ isAmenitiesModalOpen: !this.state.isAmenitiesModalOpen })\n\n    }\n    render() {\n        const { isReadMoreOn, isLiked, isMobilePics, isAmenitiesModalOpen } = this.state\n        const { stay, user } = this.props\n        return (\n            <section className=\"stay-details-section main-container\">\n                {(!stay) && <div className=\"loader-container flex align-center justify-center\"><img src={loader} alt=\"loader\" /></div>}\n                {stay && <div className=\"stay-details-container\">\n                    <BasicInfo isMobilePics={isMobilePics} user={user} stay={stay} isLiked={isLiked} reviewsAvg={stay.reviewsAvg} onToogleLikeStay={this.onToogleLikeStay} />\n                    <section className=\" details-main-conatiner flex\">\n                        <div className=\"details-left-container\">\n                            <section className=\"host-info-container flex align-center space-between\">\n                                <div className=\"asset-short-info flex\">\n                                    <div className=\"host-by\">\n                                        <p>{`${stay.assetType} hosted by ${stay.host.fullname}`}</p>\n                                    </div>\n                                    <div className=\"asset-info\">\n                                        <p><span>{`${stay.capacity} guests`}</span>  <span >{`${stay.host.fullname} is Superhost!`}</span>   <span>{`${stay.capacity} beds`}</span> </p>\n                                    </div>\n                                </div>\n                                {!stay.host.imgUrl ? <div className=\"host-img-container\">\n                                    <FaUserAlt />\n                                </div> : <div className=\"host-img-container\">\n                                    <img src={stay.host.imgUrl} alt=\"\" />\n                                </div>}\n                            </section>\n                            <AssetSum />\n                            <section className=\"asset-desc-container\">\n                                <div className=\"asset-desc\">\n                                    {stay.summary > 100 ? <p >{stay.summary.substring(0, 100)} <span className=\"read-more\" > More...</span></p> : <p  >{stay.summary}</p>}\n                                </div>\n                            </section>\n                            <section className=\"amenities-container\">\n                                <h4>What this place offers</h4>\n                                <div >\n                                    <AssetAmenities amenities={stay.amenities} />\n                                </div>\n                                {stay.amenities.length > 10 && <div>\n                                    <button className=\"amenities-btn\" onClick={this.onToggleAmenitiesModal}>Show all {stay.amenities.length} amenities</button>\n                                </div>}\n                            </section>\n                        </div>\n                        <div className=\"details-right-container\">\n                            <CheckoutForm reviewsAvg={stay.reviewsAvg} />\n                        </div>\n                    </section>\n                    <section className=\"page-bottom-container\">\n                        <div className=\"reviews-section-container\" >\n                            <ReviewAvg reviews={stay.reviews} setReviewsAvg={this.setReviewsAvg} />\n                            <ReviewsList isReadMoreOn={isReadMoreOn} onToogleReadModal={this.onToogleReadModal} />\n                            {user && <div className=\"add-review\">\n                                <AddReview stay={stay} />\n                            </div>}\n                        </div>\n                        <StayMap location={stay.loc} />\n                    </section>\n                </div >}\n                {isAmenitiesModalOpen ? <div className={\"amenities-screen screen-open \"} onClick={this.onToggleAmenitiesModal}></div> : ''}\n\n                {stay ? isAmenitiesModalOpen && <AmenitiesModal onToggleAmenitiesModal={this.onToggleAmenitiesModal} amenities={stay.amenities} /> : ''}\n                {/* {isReadMoreOn && <ReadMore txt={this.state.txt} onCloseReadModal={this.onCloseReadModal} />} */}\n            </section>\n        )\n    }\n}\nfunction mapStateToProps(state) {\n    return {\n        user: state.userModule.user,\n        stay: state.stayModule.stay,\n        reviews: state.reviewModule.reviews\n    }\n}\nconst mapDispatchToProps = {\n    loadStay,\n    onToggleLikedStay,\n    loadUser,\n    onEditStay\n}\nexport const StayDetails = connect(mapStateToProps, mapDispatchToProps)(_StayDetails)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router'\nimport { socketService } from '../services/socket.service';\nimport { onLogin, onLogout, onSignup, loadUsers, updateUser, loadUser } from '../store/user.actions'\nclass _LoginSignup extends React.Component {\n    state = {\n        credentials: {\n            username: '',\n            password: '',\n            email: '',\n            fullname: ''\n        },\n        isSignup: false,\n        users: []\n    }\n    async componentDidMount() {\n\n        try {\n            await this.props.loadUsers()\n        } catch (err) {\n\n        }\n    }\n    clearState = () => {\n        const clearTemplate = {\n            credentials: {\n                username: '',\n                password: '',\n                email: '',\n                fullname: ''\n            },\n            isSignup: false\n        }\n        this.setState({ clearTemplate })\n    }\n\n    handleChange = (ev) => {\n        const field = ev.target.name;\n        const value = ev.target.value;\n        this.setState({ credentials: { ...this.state.credentials, [field]: value } });\n    }\n\n    onLogin = async (ev = null) => {\n        if (ev) ev.preventDefault();\n        if (!this.state.credentials.username) return;\n        await this.props.onLogin(this.state.credentials);\n        await this.props.loadUser(this.props.user._id)\n        const { user } = this.props\n        if (user.isHost) {\n            socketService.setup()\n            socketService.emit('setHost', user._id)\n            socketService.on('getNotif', async (notif) => {\n                // {\n                //     \"byUser\": {\n                //         \"fullName\": \"Houston Anderson\",\n                //         \"\": \" \",\n                //         \"_id\": \"615856f7cb4c045b46874e45\"\n                //     },\n                //     \"createdAt\": 1633891364304,\n                //     \"stay\": {\n                //         \"_id\": \"61585943cb4c045b46874e50\",\n                //         \"name\": \"New York, United States\"\n                //     },\n                //     \"txt\": \"Reserved your stay\",\n                //     \"isRead\": false\n                // }\n                const editedNotif = {\n                    notifTxt: `${notif.txt} at ${notif.stay.name}`,\n                    byUser: notif.byUser.fullName,\n                    // byUserImg: <div className=\"user-order-img-container flex align-center\" >\n                    //     <div>\n                    //         <img src={`https://i.pravatar.cc/100?u=${notif.byUser._id.substr(notif.byUser._id.length - 8)}`} alt=\"user-icon\" />\n                    //     </div>\n                    //     <p>{notif.byUser.fullName}</p>\n                    // </div>,\n                    isRead: notif.isRead,\n                    createdAt: notif.createdAt,\n                    // approveBtn: <div className=\"host-action-btns flex align-center\">\n                    //     <NavLink to={`host`} className=\"approve-order-btn\">Go to order</NavLink>\n                    // </div>\n                }\n                user.notifications = [editedNotif, ...user.notifications]\n                await this.props.updateUser(user)\n            })\n        }\n        this.clearState()\n    }\n\n    onSignup = (ev = null) => {\n        if (ev) ev.preventDefault();\n        if (!this.state.credentials.username || !this.state.credentials.password || !this.state.credentials.fullname) return;\n        this.props.onSignup(this.state.credentials);\n        this.clearState()\n        this.props.history.push('/')\n    }\n\n    toggleSignup = () => {\n        this.setState({ isSignup: !this.state.isSignup })\n    }\n    responseGoogle = (response) => {\n    }\n    render() {\n        const { username , email} = this.state.credentials;\n        const { isSignup } = this.state;\n        const { user, users } = this.props\n        return (\n            <div className=\"login-page\">\n                {!isSignup && !user && <form className=\"login-form\" onSubmit={this.onLogin}>\n                    {users && <select\n                        name=\"username\"\n                        value={username}\n                        onChange={this.handleChange}\n                    >\n                        <option value=\"\">Select User</option>\n                        {users.map(user => <option key={user._id} value={user.username}>{user.fullname}</option>)}\n                    </select>}\n                    <button>Login!</button>\n                </form>}\n                {/* <GoogleLoginCmp /> */}\n            </div>\n        )\n    }\n}\nfunction mapStateToProps(state) {\n    return {\n        user: state.userModule.user,\n        users: state.userModule.users\n    }\n}\nconst mapDispatchToProps = {\n    onLogin,\n    onLogout,\n    onSignup,\n    loadUsers,\n    loadUser,\n    updateUser\n}\n\nexport const LoginSignup = withRouter(connect(mapStateToProps, mapDispatchToProps)(_LoginSignup))\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router'\nimport { LoginSignup } from '../cmps/login-signup'\nimport { socketService } from '../services/socket.service'\nimport { userService } from '../services/user.service'\nimport { onLogin, onLogout, onSignup, updateUser, loadUser } from '../store/user.actions'\nclass _LoginPage extends React.Component {\n    state = {\n        credentials: {\n            username: '',\n            password: '',\n            email: '',\n            fullname: ''\n        },\n        isSignUp: false,\n        users: []\n    }\n    async componentDidMount() {\n        window.scrollTo(0, 0);\n        const users = await userService.getUsers()\n        this.setState({ users })\n    }\n\n    clearState = () => {\n        const clearTemplate = {\n            credentials: {\n                username: '',\n                password: '',\n                email: '',\n                fullname: ''\n            },\n            isSignUp: false\n        }\n        this.setState({ clearTemplate })\n    }\n\n    handleChange = (ev) => {\n        const field = ev.target.name;\n        const value = ev.target.value;\n        this.setState({ credentials: { ...this.state.credentials, [field]: value } });\n    }\n    onLogin = async (ev = null) => {\n        if (ev) ev.preventDefault();\n        if (!this.state.credentials.username) return;\n        await this.props.onLogin(this.state.credentials);\n        await this.props.loadUser(this.props.user._id)\n        const { user } = this.props\n        if (user.isHost) {\n            socketService.setup()\n            socketService.emit('setHost', user._id)\n            socketService.on('getNotif', async (notif) => {\n                const editedNotif = {\n                    notifTxt: `${notif.txt} at ${notif.stay.name}`,\n                    byUser: notif.byUser.fullName,\n                    byUserImg: `https://i.pravatar.cc/100?u=${notif.byUser._id.substr(notif.byUser._id.length - 8)}`,\n                    isRead: notif.isRead,\n                    createdAt: notif.createdAt,\n                }\n                user.notifications = [editedNotif, ...user.notifications]\n                await this.props.updateUser(user)\n            })\n        }\n        this.clearState()\n        this.props.history.goBack()\n    }\n    onSignup = async (ev = null) => {\n        if (ev) ev.preventDefault();\n        if (!this.state.credentials.username || !this.state.credentials.password || !this.state.credentials.fullname) return;\n        await this.props.onSignup(this.state.credentials);\n        this.clearState()\n        this.props.history.push('/')\n    }\n    toggleSignUp = (ev) => {\n        ev.preventDefault()\n        this.setState({ isSignUp: !this.state.isSignUp })\n    }\n    render() {\n        const { username, password, fullname, email } = this.state.credentials;\n        const { isSignUp, users } = this.state;\n        if (!users) return <div>loading...</div>\n        return (\n            <section className=\"items-center main-container page-padding\">\n                <form className=\"login flex column justify-center align-center\">\n                    <h1>{isSignUp ? 'Sign Up' : 'Login'}</h1>\n                    <h2>{isSignUp ? 'Welcome to AnyGo' : 'Welcome back'}</h2>\n                    <div className=\"input-fields flex column align-center\">\n                        {isSignUp && <div className='fullname-input'>\n                            <input className='flex' type=\"text\" name=\"fullname\" placeholder=\"fullname\" value={fullname} onChange={this.handleChange} required />\n                        </div>}\n                        <div className={isSignUp ? 'login-input border-top' : 'login-input'}>\n                            <input className='flex' type=\"text\" name=\"username\" placeholder=\"Username\" value={username} onChange={this.handleChange} required />\n                        </div>\n                        {isSignUp && <div className='fullname-input'>\n                            <input className='flex' type=\"email\" name=\"email\" placeholder=\"Email\" value={email} onChange={this.handleChange} required />\n                        </div>}\n                        <div className='password-input'>\n                            <input className='flex' type=\"password\" name=\"password\" placeholder=\"Password\" value={password} onChange={this.handleChange} required />\n                        </div>\n                    </div>\n                    <button className=\"login-btn\" onClick={isSignUp ? this.onSignup : this.onLogin}>{isSignUp ? 'Sign Up' : 'Login'}</button>\n                    <div className=\"new-user\">\n                        <button className=\"new-user-btn\" onClick={this.toggleSignUp}>{isSignUp ? 'Already have an account ?' : 'New user ?'}</button>\n                    </div>\n                </form>\n            </section>\n\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        user: state.userModule.user,\n    }\n}\nconst mapDispatchToProps = {\n    onLogin,\n    onLogout,\n    onSignup,\n    updateUser,\n    loadUser\n}\n\nexport const LoginPage = withRouter(connect(mapStateToProps, mapDispatchToProps)(_LoginPage))\n","export default __webpack_public_path__ + \"static/media/undraw_off_road_-9-oae.f844ec57.svg\";","\nimport React from \"react\";\nimport { connect } from 'react-redux'\nimport { NavLink } from \"react-router-dom\";\nimport { onCancelOrder, onRemoveOrder, onUpdateOrder } from '../../store/order.actions'\nimport LazyLoad from \"../preview-slider\"\n\nclass _TripPreview extends React.Component {\n    state = {\n        trip: null\n    }\n\n    getTime = (timeStamp) => {\n        var time = new Date(timeStamp * 1000);\n        var date = '0' + time.getDate();\n        var month = \"0\" + (time.getMonth() + 1);\n        var year = \"0\" + time.getFullYear();\n        var formattedTime = date.substr(-2) + '.' + month.substr(-2) + '.' + year.substr(-2);\n        return formattedTime\n    }\n    onCancelTrip = (trip) => {\n        trip.status = \"canceled\"\n        this.props.onUpdateOrder(trip)\n    }\n    onRemoveTrip = (tripId) => {\n        this.props.onRemoveOrder(tripId)\n    }\n    render() {\n        const { trip } = this.props\n        var startDate = this.getTime(trip.startDate)\n        var endDate = this.getTime(trip.endDate)\n        return (\n            <div className=\"trip-preview-container\"  >\n                {trip.stay &&\n                    <section>\n                        <div>\n                            <NavLink to={`/stay/${trip.stay._id}`} className=\"trip-img-container\">\n                                {trip.stay.imgUrls.length && <LazyLoad imgs={trip.stay.imgUrls} />}\n                            </NavLink>\n                        </div>\n                        <div className=\"trip-preview-details\">\n                            <div className=\"name-dates-container flex space-between\">\n                                <div><h4>{trip.stay.name}</h4></div>\n                                <div>\n                                    <div>{startDate}</div>\n                                    <div>{endDate}</div>\n                                </div>\n                            </div>\n                            {trip.status === 'pending' && <div className=\"container flex space-between align-center\">\n                                <div>\n                                    <p>Wait for approval</p>\n                                </div>\n                                <div>\n                                    <p onClick={() => { this.onCancelTrip(trip) }} className=\"cancel-btn\">Cancel</p>\n                                </div>\n                            </div>}\n                            {trip.status === 'canceled' && <div className=\"container flex space-between align-center\">\n                                <div>\n                                    <p>Canceled</p>\n                                </div>\n                                <div>\n                                    <p onClick={() => { this.onRemoveTrip(trip._id) }} className=\"cancel-btn\">Remove</p>\n                                </div>\n                            </div>}\n                            {trip.status === 'declined' && <div className=\"container flex space-between align-center\">\n                                <div>\n                                    <p>Declined by host</p>\n                                </div>\n                                <div>\n                                    <p onClick={() => { this.onRemoveTrip(trip._id) }} className=\"cancel-btn\">Remove</p>\n                                </div>\n                            </div>}\n                            {trip.status === 'approved' && <div className=\"container flex space-between align-center\">\n                                <div>\n                                    <p>Approved by host!</p>\n                                </div>\n                                <div>\n                                    <p onClick={() => { this.onCancelTrip(trip) }} className=\"cancel-btn\">Cancel</p>\n                                </div>\n                            </div>}\n                            {/* <div className=\"flex space-between\">\n                                {trip.status === 'pending' && <div>\n                                    <p>Wait for approval</p>\n                                </div>}\n                                {trip.status === 'approved' && <div>\n                                    <p>Approved by host!</p>\n                                </div>}\n                                <div><p className=\"user-cancel\" onClick={() => { this.onCancelTrip(trip) }}>Cancel order</p></div>\n                            </div> */}\n                        </div >\n                    </section>}\n            </div >\n        )\n    }\n}\n\n\nfunction mapStateToProps(state) {\n    return {\n        user: state.userModule.user,\n        stays: state.stayModule.stays\n\n\n\n    }\n}\n\nconst mapDispatchToProps = {\n    onCancelOrder,\n    onRemoveOrder,\n    onUpdateOrder\n}\n\n\nexport const TripPreview = connect(mapStateToProps, mapDispatchToProps)(_TripPreview)","import { TripPreview } from \"./trip-preview\";\n\nexport function TripsList({ trips, isHost, stays }) {\n\n    return (\n        <div className=\"trip-list flex\">\n            {trips.map((trip, idx) =>\n                <TripPreview key={idx} trip={trip} />\n            )}\n        </div>)\n}","export default __webpack_public_path__ + \"static/media/undraw_navigator_a479.69f47b9c.svg\";","import React from 'react'\nimport { connect } from 'react-redux'\nimport { loadUser } from '../store/user.actions'\nimport travelImg from '../assets/svgs/undraw_off_road_-9-oae.svg'\nimport { TripsList } from '../cmps/trips-page/trips-list.jsx'\nimport { loadOrders } from '../store/order.actions'\nimport TravelSvg from '../assets/svgs/undraw_navigator_a479.svg'\nclass _TripsPage extends React.Component {\n    state = {\n        user: null,\n        trips: []\n    }\n    async componentDidMount() {\n        window.scrollTo(0, 0)\n        await this.props.loadUser(this.props.user._id)\n        await this.props.loadOrders(this.props.user._id, 'buyer')\n    }\n    render() {\n        const { user, orders } = this.props\n        return (\n            <main className=\"trips-page-container main-container\">\n                {user && <section className=\"trips-container page-padding\">\n                    <div className=\"trips-title-container\">\n                        <h1>Trips</h1>\n                    </div>\n                    {!orders.length && <div className=\"no-trips-txt\">\n                        <p>When youre ready to start planning your next trip, were here to help. </p>\n                        <div className=\"trips-img-container\">\n                            <img src={travelImg} alt=\"\" />\n                        </div>\n                    </div>}\n\n                    {orders && orders.length ? <section className=\"trips-container\">\n                        <TripsList trips={orders} isHost={user.isHost} />\n                    </section> : ''}\n                </section>}\n            </main>\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        user: state.userModule.user,\n        orders: state.orderModule.orders\n    }\n}\nconst mapDispatchToProps = {\n    loadUser,\n    loadOrders\n}\n\n\nexport const TripsPage = connect(mapStateToProps, mapDispatchToProps)(_TripsPage)","\nimport { Component } from 'react';\nimport { GoogleApiWrapper } from 'google-maps-react';\nimport PlacesAutocomplete, { geocodeByAddress, getLatLng, } from 'react-places-autocomplete';\nimport { TextField } from '@material-ui/core';\n\nclass _AddStayMap extends Component {\n\n    state = {\n        selectedPlace: '',\n        loc: {\n            lat: '',\n            lng: '',\n            address: '',\n            country: ''\n        }\n\n    }\n    handleChange = (address) => {\n        this.setState({ selectedPlace: address });\n    }\n    handleSelect = async (address) => {\n        const results = await geocodeByAddress(address)\n        const latLng = await getLatLng(results[0])\n        this.setState({ selectedPlace: address, loc: { lat: latLng.lat, lng: latLng.lng, address: address } }, () => {\n            this.props.handleAddressChange(this.state.loc)\n        })\n    }\n\n    render() {\n        const { selectedPlace } = this.state\n        return (\n            <section className=\"add-stay-location-container\" >\n                <div className=\"add-form-line flex align-center\">\n                    <label className=\"add-line\" htmlFor=\"\">Address</label>\n\n                    <PlacesAutocomplete\n                        value={selectedPlace}\n                        onChange={this.handleChange}\n                        onSelect={this.handleSelect}\n                    >\n                        {({ getInputProps, suggestions, getSuggestionItemProps, loading }) => (\n                            <div>\n                                <TextField\n                                    value={selectedPlace}\n                                    {...getInputProps({\n                                        placeholder: 'Search Places ...',\n                                        className: 'location-search-input',\n                                    })}\n                                />\n                                <div className=\"autocomplete-dropdown-container\">\n                                    {loading && <div>Loading...</div>}\n                                    {suggestions.map((suggestion, idx) => {\n                                        const className = suggestion.active\n                                            ? 'suggestion-item--active'\n                                            : 'suggestion-item';\n                                        // inline style for demonstration purpose\n                                        const style = suggestion.active\n                                            ? { backgroundColor: '#fafafa', cursor: 'pointer' }\n                                            : { backgroundColor: '#ffffff', cursor: 'pointer' };\n                                        return (\n                                            <div\n                                                key={idx}\n                                                {...getSuggestionItemProps(suggestion, {\n                                                    className,\n                                                    style,\n                                                })}\n                                            >\n                                                <span>{suggestion.description}</span>\n                                            </div>\n                                        );\n                                    })}\n                                </div>\n                            </div>\n                        )}\n                    </PlacesAutocomplete>\n                </div>\n            </section>\n        );\n    }\n}\n\nexport const AddStayMap = GoogleApiWrapper({\n    apiKey: ('AIzaSyCUGOKMnw7Uk2ksGmOSmUZKdpOyeWxg27Y')\n})(_AddStayMap)","export default __webpack_public_path__ + \"static/media/no-img.b21add8f.png\";","import React from 'react'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router';\nimport { onAddStay } from '../../store/stay.actions'\nimport { AddStayMap } from './add-stay-map';\nimport { TextField } from '@material-ui/core';\nimport { TextareaAutosize } from \"@material-ui/core\";\nimport Select from 'react-select';\nimport noImg from '../../assets/img/no-img.png'\nclass _AddStay extends React.Component {\n    state = {\n        newStay: {\n            name: '',\n            assetType: '',\n            assetSpace: '',\n            summary: '',\n            uniqueStay: false,\n            imgUrls: [],\n            price: '',\n            capacity: '',\n            amenities: [],\n            labels: [],\n            loc: {\n                country: '',\n                countryCode: '',\n                address: '',\n                lat: '',\n                lng: ''\n            },\n            host: '',\n            reviews: []\n        },\n        ameintiesOptions: [\n            { name: 'TV', isChecked: false },\n            { name: 'Wifi', isChecked: false },\n            { name: 'Kitchen', isChecked: false },\n            { name: 'Smoking allowed', isChecked: false },\n            { name: 'Hot tub', isChecked: false },\n            { name: 'Pets allowed', isChecked: false },\n            { name: 'No smoking', isChecked: false },\n            { name: 'Cooking basics', isChecked: false },\n            { name: 'Air conditioning', isChecked: false },\n            { name: 'Heating', isChecked: false },\n            { name: 'Pool', isChecked: false },\n            { name: 'Indoor fireplace', isChecked: false },\n            { name: 'Refrigerator', isChecked: false },\n            { name: 'Dishwasher', isChecked: false },\n            { name: 'Backyard', isChecked: false },\n            { name: 'BBQ grill', isChecked: false },\n            { name: 'Crib', isChecked: false },\n            { name: 'Private entrance', isChecked: false },\n            { name: 'Lockbox', isChecked: false },\n            { name: 'Beachfront', isChecked: false },\n            { name: 'Hangers', isChecked: false },\n            { name: 'Wine glasses', isChecked: false },\n            { name: 'Free parking', isChecked: false },\n            { name: 'Accessible', isChecked: false },\n            { name: 'King size bed', isChecked: false },\n            { name: 'Bathub', isChecked: false },\n            { name: 'Balcony', isChecked: false },\n            { name: 'Iron', isChecked: false },\n            { name: 'Room service', isChecked: false },\n            { name: 'Coffee machine', isChecked: false },\n            { name: 'Laundry machine', isChecked: false },\n            { name: 'Speakers', isChecked: false },\n            { name: 'Gaming console', isChecked: false }\n        ]\n    }\n    handleChange = ({ target }) => {\n        const field = target.name;\n        const value = target.type === 'number' ? +target.value : target.value;\n        this.setState(prevState => ({ ...prevState, newStay: { ...this.state.newStay, [field]: value } }))\n    }\n    handleAmenityChange = (name) => {\n        const { amenities } = this.state.newStay\n        const { ameintiesOptions } = this.state\n        const nameIdx = ameintiesOptions.findIndex(amenity => amenity.name === name)\n        const checked = !ameintiesOptions[nameIdx].isChecked\n        const updatedAmeintiesOpts = ameintiesOptions.map(amenity => (amenity.name === name) ? { name, isChecked: checked } : amenity)\n        if (checked) amenities.push(name)\n        else {\n            const idx = amenities.findIndex(amenity => amenity === name)\n            amenities.splice(idx, 1)\n        }\n        this.setState(prevState => ({ ...prevState, newStay: { ...this.state.newStay, amenities }, ameintiesOptions: updatedAmeintiesOpts }))\n    }\n    handleAddressChange = (address) => {\n        this.setState(prevState => ({ ...prevState, newStay: { ...this.state.newStay, loc: address } }))\n    }\n    handleSelectChange = (target) => {\n        const field = target.name\n        const value = target.value\n        this.setState(prevState => ({ ...prevState, newStay: { ...this.state.newStay, [field]: value } }))\n    }\n\n    onAddsStay = (ev) => {\n        ev.preventDefault()\n        const { newStay } = this.state\n        const { _id, fullname, imgUrl } = this.props.user\n        newStay.assetType = `${newStay.assetSpace.split(' ')[1]} ${newStay.assetType}`\n        newStay.host = { fullname, _id, imgUrl }\n        this.props.onAddStay(newStay)\n        this.setState({\n            newStay: {\n                name: '',\n                assetType: '',\n                assetSpace: '',\n                summary: '',\n                uniqueStay: false,\n                imgUrls: [noImg, noImg, noImg, noImg, noImg],\n                price: '',\n                capacity: '',\n                amenities: [],\n                labels: [],\n                loc: {\n                    country: '',\n                    countryCode: '',\n                    address: '',\n                    lat: '',\n                    lng: ''\n                },\n                host: '',\n                reviews: []\n            }\n        })\n        this.props.history.push('/explore')\n    }\n\n    onUploadImg = (ev) => {\n        const CLOUD_NAME = 'dkbfdybze'\n        const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`\n        const file = ev.target.files[0]\n        const formData = new FormData()\n        formData.append(\"file\", file)\n        formData.append(\"upload_preset\", \"ewa9mksh\")\n        return fetch(UPLOAD_URL, {\n            method: 'POST',\n            body: formData\n        })\n            .then(res => res.json())\n            .then(res => {\n                const state = this.state\n                const ImgUrl = res.url\n                state.newStay.imgUrls.push(ImgUrl)\n                this.setState((state))\n            })\n            .catch(err => console.error(err))\n    }\n\n    getBtnDivs = () => {\n        let divStr = []\n        for (let i = 0; i < 100; i++) {\n            divStr.push(<div key={i + 1} className=\"cell\" ></div >)\n        }\n        return divStr\n    }\n\n    render() {\n        const { imgUrls, name, assetSpace, assetType, capacity, summary, price } = this.state.newStay\n        const { ameintiesOptions } = this.state\n        const spaceOptions = [\n            { name: 'assetSpace', value: 'An Entire place', label: 'An Entire place' },\n            { name: 'assetSpace', value: 'A Private room', label: 'A Private room' },\n            { name: 'assetSpace', value: 'A Shared room', label: 'A Shared room' },\n        ];\n\n        const assetTypeOptions = [\n            { name: 'assetType', value: 'Duplex', label: 'Duplex' },\n            { name: 'assetType', value: 'Villa', label: 'Villa' },\n            { name: 'assetType', value: 'Loft', label: 'Loft' },\n            { name: 'assetType', value: 'Farm', label: 'Farm' },\n            { name: 'assetType', value: 'Cabin', label: 'Cabin' },\n            { name: 'assetType', value: 'Home', label: 'Home' },\n        ];\n        const style = {\n            margin: '20px 0',\n            padding: '20px',\n            width: '100%',\n            height: ' 150px',\n            resize: 'none',\n            borderRadius: '13px',\n            borderColor: ' #bdbcbc',\n            fontFamily: \"circular-book\",\n            fontSize: \"1rem\"\n        }\n        if (!imgUrls) return (<div>Loading</div>)\n        return (\n            <section className=\"add-stay-container\">\n                <div className=\"add-stay-form-container flex\" onSubmit={this.onAddsStay}>\n                    <form className=\"add-stay-form\">\n                        <section className=\"add-basic-info-container flex align-center\">\n                            <div className=\"add-form-line flex align-center\">\n                                <label className=\"add-line\">Name</label>\n                                <TextField className=\"stay-name-input\" required type=\"text\" autoComplete=\"off\" value={name} name=\"name\" placeholder=\"Asset name...\" onChange={this.handleChange} />\n                            </div>\n                            <div className=\"add-stay-location-wrapper\">\n                                <AddStayMap handleAddressChange={this.handleAddressChange} />\n                            </div>\n                            <div className=\"add-form-line flex align-center\">\n                                <label className=\"add-line\">Price</label>\n                                <TextField required type=\"number\" value={price} name=\"price\" placeholder=\"Price\" onChange={this.handleChange} />\n                                <label className=\"add-line\">/per night</label>\n                            </div>\n                        </section>\n                        <section className=\"add-stay-imgs-container flex\">\n                            <div className=\"add-stay-imgs flex\">\n                                <div className=\"primary-img square-ratio\" >\n\n                                    {imgUrls[0] ? <img src={imgUrls[0]} alt=\"\" /> : <div>\n                                        <div className=\"upload-img-txt flex align-center\">\n                                            <label>Upload image</label>\n                                        </div>\n                                        <input type=\"file\" placeholder=\"Upload Image\" name=\"imgUrls\" onChange={this.onUploadImg} />\n                                    </div>}\n\n                                </div>\n                                <div className=\"add-small-imgs-container flex column space-between\">\n                                    <div className=\"new-stay-img square-ratio\">\n                                        {imgUrls[1] ? <img src={imgUrls[1]} alt=\"\" /> : <div>\n                                            <div className=\"upload-img-txt flex align-center\">\n                                                <label>Upload image</label>\n                                            </div>\n                                            <input type=\"file\" placeholder=\"Upload Image\" name=\"imgUrls\" onChange={this.onUploadImg} />\n                                        </div>}\n                                    </div>\n                                    <div className=\"new-stay-img square-ratio\">\n                                        {imgUrls[2] ? <img src={imgUrls[2]} alt=\"\" /> : <div>\n                                            <div className=\"upload-img-txt flex align-center\">\n                                                <label >Upload image</label>\n                                            </div>\n                                            <input type=\"file\" placeholder=\"Upload Image\" name=\"imgUrls\" onChange={this.onUploadImg} />\n                                        </div>}\n                                    </div>\n                                </div>\n                                <div className=\"add-small-imgs-container flex column space-between\">\n                                    <div className=\"new-stay-img square-ratio\">\n                                        {imgUrls[3] ? <img src={imgUrls[3]} alt=\"\" /> : <div>\n                                            <div className=\"upload-img-txt flex align-center\">\n                                                <label>Upload image</label>\n                                            </div>\n                                            <input type=\"file\" placeholder=\"Upload Image\" name=\"imgUrls\" onChange={this.onUploadImg} />\n                                        </div>}\n                                    </div>\n                                    <div className=\"new-stay-img square-ratio\">\n                                        {imgUrls[4] ? <img src={imgUrls[4]} alt=\"\" /> : <div>\n                                            <div className=\"upload-img-txt flex align-center\">\n                                                <label>Upload image</label>\n                                            </div>\n                                            <input type=\"file\" placeholder=\"Upload Image\" name=\"imgUrls\" onChange={this.onUploadImg} />\n                                        </div>}\n                                    </div>\n                                </div>\n                            </div>\n                        </section>\n                        <section className=\"add-stay-details-container flex space-between\">\n                            <div className=\"add-form-line flex align-center\">\n                                <label className=\"add-line\">Capacity</label>\n                                <TextField required type=\"number\" value={capacity} name=\"capacity\" placeholder=\"Capacity...\" onChange={this.handleChange} />\n                            </div>\n                            <div className=\"add-form-line flex align-center\">\n                                <label className=\"add-line\">What is your asset space?</label>\n                                <Select\n                                    required\n                                    placeholder=\"Space type\"\n                                    onChange={this.handleSelectChange}\n                                    name=\"assetSpace\"\n                                    className=\"add-stay-select\"\n                                    value={assetSpace}\n                                    options={spaceOptions}\n                                />\n                            </div>\n                            <div className=\"add-form-line flex align-center\">\n                                <label className=\"add-line\">What is your asset type?</label>\n                                <Select\n                                    required\n                                    placeholder=\"Asset type\"\n                                    onChange={this.handleSelectChange}\n                                    name=\"assetType\"\n                                    className=\"add-stay-select\"\n                                    value={assetType}\n                                    options={assetTypeOptions}\n                                />\n                            </div>\n                        </section>\n                        <section className=\"add-stay-summary\">\n                            <div className=\"add-desc-line flex column\">\n                                <label className=\"add-line\">Describe your asset</label>\n                                <TextareaAutosize\n                                    required\n                                    style={style}\n                                    value={summary}\n                                    placeholder=\"Describe your asset...\"\n                                    className=\"asset-desc-input\"\n                                    onChange={this.handleChange}\n                                    name=\"summary\"\n                                    autoComplete=\"off\" />\n                            </div>\n                        </section>\n                        <section className=\"add-amenities-container flex align-center\">\n                            <ul className=\"amenities-list flex column align-center\">\n                                {ameintiesOptions.map((amenity, idx) => {\n                                    if (idx <= 31) {\n                                        return <li key={idx} className=\"add-amenities-line flex align-center\" onClick={() => this.handleAmenityChange(amenity.name)}>\n                                            <label variant=\"h5\">{amenity.name}</label>\n                                            <input type=\"checkbox\" checked={amenity.isChecked} />\n                                        </li>\n                                    }\n                                })}\n                            </ul>\n                        </section>\n                        <section className=\"add-stay-btn-container flex\">\n                            <div className=\"checkout-btn-container \" onClick={this.onAddsStay}>\n                                {this.getBtnDivs()}\n                                <div className=\"content\">\n                                    <button className=\"checkout-btn\" ><span>Add stay</span> </button>\n                                </div>\n                            </div>\n                        </section>\n                    </form>\n                </div>\n            </section>\n        )\n    }\n}\nfunction mapStateToProps(state) {\n    return {\n        user: state.userModule.user,\n        stays: state.stayModule.stays\n    }\n}\n\nconst mapDispatchToProps = {\n    onAddStay\n}\n\nexport const AddStay = withRouter(connect(mapStateToProps, mapDispatchToProps)(_AddStay))","import MUIDataTable from \"mui-datatables\";\nimport { connect } from 'react-redux'\nimport { Component } from \"react\";\nimport { FaStar } from \"react-icons/fa\";\nimport { NavLink } from \"react-router-dom\";\nimport {onRemoveStay} from '../../store/stay.actions'\n// import { HoststayPreview } from \"./host-stay-preview\";\n\n class _HostStaysList extends Component {\n    getData = () => {\n        const { stays, orders } = this.props\n        const dataStays = [];\n        let editedOrder;\n        if (stays) {\n            stays.forEach(stay => {\n                editedOrder = {\n                    stayName: stay.name,\n                    address: stay.loc.address,\n                    price: `$${stay.price}`,\n                    reviews: <div className=\"host-stays-reviews flex align-center\">\n                        <p className=\"checkout-star\"><FaStar size={13} color=\"#FF5A5F\" /></p>\n                        <p >{stay.reviewsAvg}</p>\n                        <p >({stay.reviews.length} reviews)</p>\n                    </div>,\n                    // reviews: stay.reviews.length,\n                    // reviewsAvg: stay.reviewsAvg,\n                    orders: orders.filter(order => order.stay._id === stay._id).length,\n                    link: <div className=\"flex align-center\">\n                        <button className=\"remove-stay-btn\" onClick={()=>this.onRemoveStay(stay._id)}>Remove stay</button>\n                        <NavLink className=\"stay-link\" to={`/stay/${stay._id}`}>Go to stay</NavLink>\n                    </div>\n                }\n                dataStays.unshift(editedOrder)\n                editedOrder = null\n            })\n            return dataStays\n        }\n    }\n    onRemoveStay = (id) => {\n        this.props.onRemoveStay(id)\n    }\n    render() {\n        const columns = [\n\n            {\n                name: 'stayName',\n                label: \"Name\",\n                options: {\n                    filter: true,\n                    sort: true\n                }\n            },\n            {\n                name: \"address\",\n                label: \"Address\",\n                options: {\n                    filter: true,\n                    sort: true\n                }\n            },\n            {\n                name: \"price\",\n                label: \"Price\",\n                options: {\n                    filter: true,\n                    sort: true\n                }\n            },\n            {\n                name: \"reviews\",\n                label: \"Reviews\",\n                options: {\n                    filter: true,\n                    sort: true\n                }\n            },\n            {\n                name: \"orders\",\n                label: \"Total orders\",\n\n            },\n            {\n                name: \"link\",\n                label: \" \",\n\n            }\n        ];\n        const options = {\n            filter: true,\n            filterType: \"dropdown\",\n        };\n        return (\n            <div className=\"notifications-page-container\">\n                <section className=\"notifications-container\">\n                    <MUIDataTable\n                        title={\"Your orders\"}\n                        data={this.getData()}\n                        columns={columns}\n                        options={options}\n\n                    />\n                </section>\n                {/* {stays.map((stay, idx) => */}\n                {/* <HoststayPreview key={idx} stay={stay} /> */}\n                {/* )} */}\n\n            </div>)\n    }\n}\nfunction mapStateToProps(state) {\n    return {\n        user: state.userModule.user,\n        orders: state.orderModule.orders,\n        stays: state.stayModule.stays,\n    }\n}\nconst mapDispatchToProps = {\nonRemoveStay\n}\n\n\nexport const HostStaysList = connect(mapStateToProps, mapDispatchToProps)(_HostStaysList)","import { Component } from \"react\";\nimport { connect } from 'react-redux'\nimport { loadUser } from '../../store/user.actions'\nimport { onUpdateOrder, onRemoveOrder } from '../../store/order.actions'\nimport MUIDataTable from \"mui-datatables\";\nimport { FaStar } from 'react-icons/fa'\nimport ArrowRightAltRoundedIcon from '@mui/icons-material/ArrowRightAltRounded';\n\nclass _OrdersDashboard extends Component {\n    state = {\n        user: null,\n        orders: null\n    }\n    componentDidMount() {\n        window.scrollTo(0, 0)\n        const { user, orders } = this.props\n        this.setState({ orders })\n\n        if (user) this.props.loadUser(user._id)\n\n    }\n    getTime = (timestamp) => {\n        var time = new Date(timestamp * 1000);\n        var day = \"0\" + time.getDate();\n        var month = \"0\" + (time.getMonth() + 1);\n        var year = \"0\" + time.getFullYear();\n        var formattedTime = day.substr(-2) + '.' + month.substr(-2) + '.' + year.substr(-2);\n        return formattedTime\n    }\n\n    getData = () => {\n        const { orders } = this.props\n        const dataOrders = [];\n        let editedOrder;\n        if (orders) {\n            orders.forEach(order => {\n                editedOrder = {\n                    stayName: order.stay.name,\n                    buyerName: order.buyer.fullname,\n                    buyerImg: <div className=\"user-order-img-container flex align-center\">\n                        <img src={order.buyer.imgUrl} alt=\"\" />\n                        <p>{order.buyer.fullname}</p>\n                    </div>,\n                    price: `$${order.totalPrice}`,\n                    status: `${order.status.charAt(0).toUpperCase()}${order.status.substr(1)}`,\n                    checkIn: this.getTime(order.startDate),\n                    checkOut: this.getTime(order.endDate),\n                    approveBtn: <div className=\"host-action-btns flex\">\n                        {order.status === 'pending' && <button className=\"approve-order-btn\" onClick={() => { this.onApproveOrder(order._id) }}>Approve</button>}\n                        <button className=\"approve-order-btn\" onClick={() => { (order.status === \"declined\") ? this.onRemoveOrder(order._id) : this.onDeclinelOrder(order._id) }}>\n                            {(order.status === \"pending\") ? 'Decline' : (order.status === \"approved\") ? 'Cancel' : 'Remove'}</button>\n                    </div>\n\n                }\n                dataOrders.unshift(editedOrder)\n                editedOrder = null\n            })\n            return dataOrders\n        }\n    }\n    getTotalRate = (orders) => {\n        let totalRate = 0;\n        orders.forEach(order => { totalRate += order.stay.reviewsAvg })\n        totalRate = totalRate / orders.length\n        return totalRate\n    }\n    getTotalPrice = (orders) => {\n        let totalPrice = 0;\n        orders.forEach(order => { totalPrice += +order.totalPrice })\n        return totalPrice\n    }\n    onApproveOrder = (orderId) => {\n        const { orders } = this.props\n        const order = orders.filter(order => order._id === orderId)\n        order[0].status = \"approved\"\n        this.props.onUpdateOrder(order[0])\n    }\n    onDeclinelOrder = (orderId) => {\n        const { orders } = this.props\n        const order = orders.filter(order => order._id === orderId)\n        order[0].status = \"declined\"\n        this.props.onUpdateOrder(order)\n    }\n    onRemoveOrder = (orderId) => {\n        this.props.onRemoveOrder(orderId)\n    }\n    getOrdersStatus = (status) => {\n        const { orders } = this.props\n        const filterdOrders = orders.filter(order => order.status === status)\n        return filterdOrders.length\n    }\n    render() {\n        const { orders } = this.props\n        const columns = [\n            {\n                name: 'buyerImg',\n                label: \"Name\",\n            },\n            {\n                name: \"stayName\",\n                label: \"Address\",\n                options: {\n                    filter: true,\n                    sort: true\n                }\n            },\n            {\n                name: \"checkIn\",\n                label: \"Check in\",\n                options: {\n                    filter: true,\n                    sort: true\n                }\n            },\n            {\n                name: \"checkOut\",\n                label: \"Check out\",\n                options: {\n                    filter: true,\n                    sort: true\n                }\n            },\n            {\n                name: \"price\",\n                label: \"Price\",\n                options: {\n                    filter: true,\n                    sort: true\n                }\n            },\n            {\n                name: \"status\",\n                label: \"Status\",\n                options: {\n                    filter: true,\n                    sort: true\n                }\n            },\n            {\n                name: \"approveBtn\",\n                label: \"Actions\",\n\n            }\n        ];\n        const options = {\n            filter: true,\n            filterType: \"dropdown\",\n        };\n\n        return (\n            <main className=\"notifications-page-container  \">\n                <section className=\"dashboard-header-container flex\">\n                    <div className=\"total-rate-container flex column space-between\">\n                        <div>\n                            <p className=\"dashboard-label\">Total Rate</p>\n                        </div>\n                        <div className=\"dashboard-value flex space-between align-center \">\n                            <div className=\"flex  align-center \">\n                                <p className=\"checkout-star\"><FaStar size={13} color=\"#FF5A5F\" /></p>\n                                <p className=\"dash-avg-score\">{(!this.getTotalRate(orders)) ? 0 : this.getTotalRate(orders).toFixed(1)}</p>\n                            </div>\n                            <div className=\"dash-stats-arrow-container flex\">\n                                <p>{<ArrowRightAltRoundedIcon className={`stat-arrow ${(Math.random() >= 0.5) ? 'down' : 'up'}`} />}</p>\n                                <p className=\"dash-review-stat\">{Math.floor(Math.random() * 7) + 1}%</p>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"dash-earning-container flex column space-between\">\n                        <div>\n                            <p className=\"dashboard-label\">Monthly earnings</p>\n                        </div>\n                        <div className=\"dashboard-value\">\n                            <p className=\"dash-avg-earning\">{new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(this.getTotalPrice(orders))}</p>\n                        </div>\n                    </div>\n                    <div className=\"dash-earning-container flex column space-between\">\n                        <div>\n                            <p className=\"dashboard-label\">Orders</p>\n                        </div>\n                        <div className=\"orders-sec-dash flex \">\n                            <div className=\"dashboard-value flex align-center\">\n                                <div className=\"dash-orders-circle approved\"></div>\n                                <p className=\"dash-avg-order\">{this.getOrdersStatus('approved')}/{orders.length}</p>\n                            </div>\n                            <div className=\"dashboard-value flex align-center\">\n                                <div className=\"dash-orders-circle pending\"></div>\n                                <p className=\"dash-avg-order\">{this.getOrdersStatus('pending')}/{orders.length}</p>\n                            </div>\n                            <div className=\"dashboard-value flex align-center\">\n                                <div className=\"dash-orders-circle declined\"></div>\n                                <p className=\"dash-avg-order\">{this.getOrdersStatus('declined')}/{orders.length}</p>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n                <section className=\"notifications-container\">\n                    <MUIDataTable\n                        title={\"Your orders\"}\n                        data={this.getData()}\n                        columns={columns}\n                        options={options}\n                    />\n                </section>\n            </main>\n        )\n    }\n\n}\nfunction mapStateToProps(state) {\n    return {\n        user: state.userModule.user\n    }\n}\nconst mapDispatchToProps = {\n    loadUser,\n    onUpdateOrder,\n    onRemoveOrder\n}\n\nexport const OrdersDashboard = connect(mapStateToProps, mapDispatchToProps)(_OrdersDashboard)","import Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport React from 'react'\nimport { connect } from 'react-redux'\nimport { loadUser } from '../store/user.actions'\nimport { AddStay } from '../cmps/host-page/add-stay';\nimport { loadOrders } from '../store/order.actions'\nimport { loadStays, setFilter } from '../store/stay.actions'\nimport { HostStaysList } from '../cmps/host-page/host-stays-list';\nimport { OrdersDashboard } from '../cmps/host-page/dash-board';\n\n// import { OrdersList } from '../cmps/hosts-list.jsx'\nclass _HostPage extends React.Component {\n    state = {\n        user: null,\n        orders: [],\n        stays: [],\n        selectedTab: 'orders'\n    }\n    async componentDidMount() {\n        window.scrollTo(0, 0)\n        const { user } = this.props\n        this.onGetHostStays()\n        if (user) {\n            try {\n                await this.props.loadOrders(user._id, 'host')\n                await this.props.loadStays(this.props.filterBy)\n            } catch (err) {\n            }\n        }\n        else {\n            this.props.history.push('/')\n        }\n    }\n    componentWillUnmount() {\n        this.onClearFilter()\n\n    }\n    onClearFilter = () => {\n        const { filterBy } = this.props\n        filterBy.hostId = ''\n        this.props.setFilter(filterBy)\n    }\n    onGetHostStays = () => {\n        const newFilter = this.props.filterBy\n        newFilter.hostId = this.props.user._id\n        this.props.setFilter(newFilter)\n    }\n\n    onChangeTab = (ev, value) => {\n        this.setState({ selectedTab: value })\n    }\n\n    render() {\n        const { user, orders, stays } = this.props\n        const { selectedTab } = this.state\n        return (\n            <main className=\"host-page-container main-container\">\n                {/* <div className=\" page-padding\"> */}\n                <div>\n                    <section className=\"host-tabs-container\">\n                        <Tabs\n                            value={selectedTab}\n                            onChange={this.onChangeTab}\n                            textColor=\"secondary\"\n                            indicatorColor=\"secondary\"\n                            aria-label=\"secondary tabs example\"\n                        >\n                            <Tab value=\"orders\" label={orders ? `Orders (${orders.length})` : 'Orders'} />\n                            <Tab value=\"my-stays\" label=\"My stays\" />\n                            <Tab value=\"add-stay\" label=\"Add a stay\" />\n                            {/* <Tab value=\"stats\" label=\"Stats\" /> */}\n                        </Tabs>\n                    </section>\n                    {user && <section className=\"host-container\">\n\n                        {selectedTab === 'orders' && <div>\n                            <div className=\"orders-container\">\n                                <OrdersDashboard orders={orders} />\n                                {/* <OrdersList orders={orders} /> */}\n                            </div>\n                        </div>}\n                        {selectedTab === 'my-stays' && <div className=\"orders-container\">\n                            {stays && <HostStaysList orders={orders} stays={stays} />}\n                        </div>}\n                        {/* {selectedTab === 'stats' && <div>\n                            <HostChart />\n                        </div>} */}\n                        {selectedTab === 'add-stay' && <div>\n                            <AddStay />\n                        </div>}\n                    </section>}\n                </div>\n            </main>\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        user: state.userModule.user,\n        orders: state.orderModule.orders,\n        stays: state.stayModule.stays,\n        filterBy: state.stayModule.filterBy\n\n\n    }\n}\nconst mapDispatchToProps = {\n    loadUser,\n    loadOrders,\n    loadStays,\n    setFilter\n\n\n}\n\n\nexport const HostPage = connect(mapStateToProps, mapDispatchToProps)(_HostPage)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { onBecomeHost, loadUser } from '../store/user.actions.js'\nimport { FaAirbnb } from 'react-icons/fa'\n\n\nclass _BecomeAHost extends React.Component {\n\n    onBecomeHost = () => {\n        if (this.props.user) {\n            console.log('loloa');\n            const userId = this.props.user._id\n            this.props.onBecomeHost(userId)\n            this.props.history.push('/host')\n        }\n        else this.props.history.push('/')\n    }\n    getBtnDivs = () => {\n        let divStr = []\n        for (let i = 0; i < 100; i++) {\n            divStr.push(<div key={i + 1} className=\"cell\" ></div >)\n        }\n        return divStr\n    }\n    render() {\n        return (\n            <section className=\"be-host-container\">\n                <div className=\"be-host-left-container flex column \">\n                    <div className=\"be-host-logo flex align-center\" onClick={() => { this.props.history.push('/') }}><FaAirbnb color=\"#fff\" size={40} /></div>\n                    <div className=\"be-host-txt-container flex column align-center\">\n                        <div><h1>Hosting</h1></div>\n                        <div><h1>makes AnyGo,</h1></div>\n                        <div><h1>AnyGo</h1></div>\n                    </div>\n                    <section className=\"be-host-btn-container flex align-center\">\n                        <div className=\"checkout-btn-container \" onClick={this.onBecomeHost}>\n                            {this.getBtnDivs()}\n                            <div className=\"content\">\n                                {/* <button className=\"checkout-btn\" ><span>Add stay</span> </button> */}\n                                <button  className=\"checkout-btn\">Try hosting</button>\n                            </div>\n                        </div>\n                    </section>\n                    {/* <div className=\"be-host-btn-container flex  align-center\"> */}\n                    {/* </div> */}\n                </div>\n                <div className=\"be-host-img-container\">\n                    <img src=\"https://res.cloudinary.com/dkbfdybze/image/upload/v1633436197/become-host_ufwcx6.jpg\" alt=\"\" />\n                </div>\n            </section>\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        user: state.userModule.user,\n        stays: state.stayModule.stays,\n    }\n}\nconst mapDispatchToProps = {\n    onBecomeHost,\n    loadUser\n}\n\nexport const BecomeAHost = connect(mapStateToProps, mapDispatchToProps)(_BecomeAHost)","import { Component } from \"react\";\nimport { connect } from 'react-redux'\nimport { loadUser, updateUser } from '../store/user.actions'\nimport MUIDataTable from \"mui-datatables\";\n\n\nclass _NotificationsPage extends Component {\n    state = {\n        user: null,\n    }\n    componentDidMount() {\n        window.scrollTo(0, 0)\n    }\n    async componentWillUnmount() {\n        const { user } = this.props\n        if (user?.notifications?.length) {\n            const userUnreadNotifs = user.notifications.map(notif => ({ ...notif, isRead: true }))\n            await this.props.updateUser({ ...user, notifications: userUnreadNotifs })\n\n        }\n    }\n    getTime = (timestamp) => {\n        var time = new Date(timestamp);\n        var day = \"0\" + time.getDate();\n        var month = \"0\" + (time.getMonth() + 1);\n        var year = \"0\" + time.getFullYear();\n        var formattedTime = day.substr(-2) + '.' + month.substr(-2) + '.' + year.substr(-2);\n        return formattedTime\n    }\n    getData = () => {\n        const { notifications } = this.props.user\n        const dataNotifications = [];\n        let editedNotification;\n        if (notifications) {\n            notifications.forEach(notification => {\n                editedNotification = {\n                    ...notification,\n                    byUserImg: <div className=\"user-order-img-container flex align-center\">\n                        <img src={notification.byUserImg} alt=\"\" />\n                        <p>{notification.byUser}</p>\n                    </div>,\n                    createdAt: this.getTime(notification.createdAt)\n                    // approveBtn: <div className=\"host-action-btns flex\">\n                    //     {notification.status === 'pending' && <button className=\"approve-notification-btn\" onClick={() => { this.onApproveNotification(notification._id) }}>Approve</button>}\n                    //     <button className=\"approve-notification-btn\" onClick={() => { (notification.status === \"declined\") ? this.onRemoveNotification(notification._id) : this.onDeclinelNotification(notification._id) }}>\n                    //         {(notification.status === \"pending\") ? 'Decline' : (notification.status === \"approved\") ? 'Cancel' : 'Remove'}</button>\n                    // </div>\n                }\n                dataNotifications.unshift(editedNotification)\n                editedNotification = null\n            })\n            return dataNotifications\n        }\n    }\n    render() {\n        const { user } = this.props\n        const columns = [\n            {\n                name: \"byUserImg\",\n                label: \"Name\",\n                options: {\n                    filter: true,\n                    sort: true\n                }\n            },\n            {\n                name: \"notifTxt\",\n                label: \"Notification\",\n                options: {\n                    filter: true,\n                    sort: true\n                }\n            },\n            {\n                name: \"createdAt\",\n                label: \"Time\",\n                options: {\n                    filter: true,\n                    sort: true\n                }\n            }\n        ];\n\n        const options = {\n            filter: true,\n            filterType: \"dropdown\",\n        };\n\n        return (\n            <main className=\"notifications-page-container  main-container\">\n                <section className=\"page-padding\">\n                    <div className=\"notifications-title-container\">\n                        <h1>Notifications</h1>\n                    </div>\n                    {user && <section className=\"notifications-container\" >\n                        <MUIDataTable\n                            title={\"Notifications list\"}\n                            data={this.getData()}\n                            columns={columns}\n                            options={options}\n\n                        />\n                    </section>}\n                </section>\n            </main>\n        )\n    }\n\n}\nfunction mapStateToProps(state) {\n    return {\n        user: state.userModule.user\n    }\n}\nconst mapDispatchToProps = {\n    updateUser,\n    loadUser\n}\n\n\nexport const NotificationsPage = connect(mapStateToProps, mapDispatchToProps)(_NotificationsPage)","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { StaysList } from '../cmps/stays-list'\nimport { loadStays } from '../store/stay.actions'\nclass _WishList extends Component {\n    state = {\n        userSavedStays: []\n    }\n    componentDidMount() {\n        const { user } = this.props\n        console.log(user);\n        if (user) this.loadUserStays()\n    }\n    loadUserStays = () => {\n        const { stays, user } = this.props\n        const userStays = []\n        user.mySaves.map(savedId => {\n            stays.forEach(stay => {\n                if (stay._id === savedId) userStays.push(stay)\n            })\n        })\n        this.setState(({ userSavedStays: userStays }), () => { console.log(this.state); })\n    }\n    render() {\n        const { userSavedStays } = this.state\n        return (\n            <main className=\"wishlist-page-container page-padding main-container\">\n                <div className=\"wishlist-page\">\n                    <h1>Wishlist</h1>\n                    {userSavedStays.length ? <StaysList stays={userSavedStays} history={this.props.history} /> : <div>\n                        <h4>There are no saved stays yet...</h4>\n                    </div>}\n                </div>\n            </main>\n        )\n    }\n}\nfunction mapStateToProps(state) {\n    return {\n        stays: state.stayModule.stays,\n        filterBy: state.stayModule.filterBy,\n        user: state.userModule.user\n    }\n}\nconst mapDispatchToProps = {\n    loadStays\n}\n\n\nexport const WishList = connect(mapStateToProps, mapDispatchToProps)(_WishList)","export const AirBnbBtn = ({ btnAction, btnInnerTxt = '' }) => {\n\n    const getBtnDivs = () => {\n        let divStr = []\n        for (let i = 0; i < 100; i++) {\n            divStr.push(<div key={i + 1} className=\"cell\" ></div >)\n        }\n        return divStr\n    }\n    const onBtnAction = () => {\n        btnAction()\n    }\n    return (\n        <div className=\"btn-container\" onClick={() => { onBtnAction() }}>\n            {getBtnDivs()}\n            <div className=\"content\">\n                <button className=\"btn\"><span>{btnInnerTxt}</span> </button>\n            </div>\n\n        </div>\n    )\n\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { loadUser, updateUser } from '../store/user.actions'\nimport { FaPencilAlt, FaUserAlt } from \"react-icons/fa\";\nimport { AirBnbBtn } from '../cmps/AirBnb-Btn';\nimport { TextField } from '@material-ui/core';\n// import {} from '../store/user.actions'\nclass _UserProfile extends React.Component {\n    state = {\n        user: null,\n        editedUser: {\n            username: '',\n            fullname: '',\n            imgUrl: '',\n            email: ''\n        },\n        isEditMode: false,\n        isImgModalOpen: false\n    }\n    async componentDidMount() {\n        window.scrollTo(0, 0)\n        const { user } = this.props\n        if (user) {\n            try {\n                await this.props.loadUser(user._id)\n            } catch (err) {\n                console.log('Had Issues', err);\n            }\n        }\n        else {\n            this.props.history.push('/')\n        }\n    }\n    componentDidUpdate(prevProps, prevState) {\n        const { user } = this.props\n        if (prevProps.user !== user) {\n            if (!user) this.props.history.push('/')\n        }\n    }\n    onToggleEditMode = () => {\n        const { user } = this.props\n        const { isEditMode } = this.state\n        console.log(user);\n        this.setState({ isEditMode: !isEditMode }, () => {\n            if (!isEditMode) this.setState(({ editedUser: user }))\n            else this.setState(({\n                editedUser: {\n                    username: '',\n                    fullname: '',\n                    imgUrl: '',\n                    email: ''\n                }\n            }))\n        })\n    }\n    onToggleImgModal = () => {\n        const { isImgModalOpen } = this.state\n        this.setState(({ isImgModalOpen: !isImgModalOpen }))\n    }\n    onDeleteImg = () => {\n        this.onToggleImgModal()\n        this.setState(prevState => ({ editedUser: { ...prevState.editedUser, imgUrl: '' } }))\n    }\n    handleChange = ({ target }) => {\n        const field = target.name\n        const value = target.value\n        this.setState(prevState => ({ editedUser: { ...prevState.editedUser, [field]: value } }))\n    }\n    onUploadImg = (ev) => {\n\n        const CLOUD_NAME = 'dkbfdybze'\n        const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`\n        const file = ev.target.files[0]\n        const formData = new FormData()\n        formData.append(\"file\", file)\n        formData.append(\"upload_preset\", \"ewa9mksh\")\n        return fetch(UPLOAD_URL, {\n            method: 'POST',\n            body: formData\n        })\n            .then(res => res.json())\n            .then(res => {\n                const imgUrl = res.url\n                this.setState(prevState => ({ editedUser: { ...prevState.editedUser, imgUrl: imgUrl } }))\n            })\n            .catch(err => console.error(err))\n    }\n    onSaveUser = () => {\n        const { editedUser } = this.state\n        this.onToggleEditMode()\n        this.props.updateUser(editedUser)\n    }\n    render() {\n        const { user } = this.props\n        const { isEditMode, editedUser, isImgModalOpen } = this.state\n        // Add mail\n        const { username, fullname, imgUrl, email } = editedUser\n        return (\n            <main className=\"profile-page-container main-container\">\n                {isImgModalOpen && <div className=\"profile-screen\" onClick={this.onToggleImgModal}></div>}\n                <div className=\"page-padding\">\n                    <h1>Profile</h1>\n                    <section className=\"user-card-container flex align-center justify-center\">\n\n                        {user && <div className=\"user-card\">\n\n                            {!isEditMode ? <div className=\"profile-pic-wrapper flex justify-center align-center\">\n\n                                {!user.imgUrl ? <div className=\"profile-img-container\">\n                                    <div className=\"user-icon flex align-center justify-center\">\n                                        <FaUserAlt />\n                                    </div>\n                                </div> : <div className=\"profile-pic-container flex align-center justify-center\">\n                                    <div className=\"profile-img-container \">\n                                        <img src={isEditMode ? imgUrl : user.imgUrl} alt=\"\" />\n                                    </div>\n                                </div>}\n                            </div> : <div className=\"profile-pic-wrapper flex justify-center align-center\">\n                                {!imgUrl ? <div className=\"profile-img-container\">\n                                    <div className=\"user-icon flex align-center justify-center\">\n                                        <FaUserAlt />\n                                    </div>\n                                    <div className=\"edit-pencil-container\">\n                                        <div className=\"edit-pencil flex justify-center align-center\" >\n                                            <FaPencilAlt />\n                                        </div>\n                                        <input type=\"file\" className=\"profile-pic-uploader\" value={imgUrl} onChange={this.onUploadImg} />\n                                    </div>\n                                </div> : <div className=\"profile-pic-container flex align-center justify-center\">\n                                    <div className=\"profile-img-container \">\n\n                                        <img src={isEditMode ? imgUrl : user.imgUrl} alt=\"\" />\n                                        <div className=\"edit-pencil-container\">\n                                            <div className=\"edit-pencil flex justify-center align-center\" onClick={this.onToggleImgModal}>\n                                                <FaPencilAlt />\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>}\n                            </div>}\n                            <div className=\"user-details-container flex column\">\n                                <div className=\"full-name-container\">\n                                    <div className=\"user-details-line title-line\">\n                                        <h4>Full name</h4>\n                                    </div>\n                                    <div className=\"user-details-line\">\n                                        {isEditMode ? <TextField name=\"fullname\" value={fullname} onChange={this.handleChange} required /> : <p>{user.fullname}</p>}\n                                    </div>\n                                </div>\n                                <div className=\"user-name-container\">\n                                    <div className=\"user-details-line title-line\">\n                                        <h4>User name</h4>\n                                    </div>\n                                    <div className=\"user-details-line\">\n                                        {isEditMode ? <TextField name=\"username\" value={username} onChange={this.handleChange} required /> : <p>{user.username}</p>}\n                                    </div>\n                                </div>\n                                <div className=\"user-mail-container\">\n                                    <div className=\"user-details-line title-line\">\n                                        <h4>Email</h4>\n                                    </div>\n                                    <div className=\"user-details-line\">\n                                        {isEditMode ? <TextField name=\"email\" value={email} onChange={this.handleChange} required /> : <p>{user.email}</p>}\n                                    </div>\n                                </div>\n                                {/* <div className=\"user-details-line\"></div> */}\n                            </div>\n                            <div className=\"edit-user-btn-container flex justify-center align-center\">\n                                {isEditMode ? <div className=\"edit-btns-container flex align-center justify-center\">\n                                    <button className=\"user-edit-btn cancel\" onClick={this.onToggleEditMode}>Cancel</button>\n                                    <button className=\"user-edit-btn save\" onClick={this.onSaveUser}>Save</button>\n                                </div> : <AirBnbBtn btnAction={this.onToggleEditMode} btnInnerTxt=\"Edit User\" />}\n                            </div>\n                            {isImgModalOpen && <div className=\"pic-edit-popup-container\">\n                                <div className=\"pic-edit-popup flex column justify-center\">\n                                    <div className=\"pic-popup-line\" onClick={this.onDeleteImg}>\n                                        <p>Delete photo</p>\n                                    </div>\n                                    <div className=\"pic-popup-line\">\n                                        <div>\n                                            <p>Upload new photo</p>\n                                        </div>\n                                        <input type=\"file\" onClick={this.onToggleImgModal} onChange={this.onUploadImg} />\n                                    </div>\n                                </div>\n                            </div>}\n                        </div>}\n                    </section>\n\n                </div>\n            </main>\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        user: state.userModule.user,\n    }\n}\nconst mapDispatchToProps = {\n    loadUser,\n    updateUser\n}\n\n\nexport const UserProfile = connect(mapStateToProps, mapDispatchToProps)(_UserProfile)","import { HomePage } from './pages/home-page.jsx'\nimport { AboutUs } from './pages/about-us.jsx'\nimport { Explore } from './pages/explore.jsx'\n// import { ChatApp } from './pages/chat-app.jsx'\nimport { AdminApp } from './pages/admin-app.jsx'\nimport { StayDetails } from './pages/stay-details.jsx'\nimport { LoginPage } from './pages/login.jsx'\nimport { TripsPage } from './pages/trips-page.jsx'\nimport { HostPage } from './pages/host-page.jsx'\nimport { BecomeAHost } from './pages/become-a-host.jsx'\nimport { NotificationsPage } from './pages/notifications.jsx'\nimport { LoginSignup } from './cmps/login-signup.jsx'\nimport { WishList } from './pages/wishlist.jsx'\nimport { UserProfile } from './pages/user-profile.jsx'\n// import { Login } from './pages/'\n\n// Routes accesible from the main navigation (in AppHeader)\nconst routes = [\n    {\n        path: '/',\n        component: HomePage,\n    },\n\n    {\n        path: '/explore/',\n        component: Explore,\n    },\n    {\n        path: '/stay/:stayId',\n        component: StayDetails,\n    },\n    {\n        path: '/trips',\n        component: TripsPage,\n    },\n    {\n        path: '/host',\n        component: HostPage,\n    },\n    {\n        path: '/login',\n        component: LoginPage\n    },\n    {\n        path: '/login-dev',\n        component: LoginSignup\n    },\n    {\n        path: '/become-a-host',\n        component: BecomeAHost\n    },\n\n    {\n        path: '/about',\n        component: AboutUs,\n\n    },\n    {\n        path: '/profile',\n        component: UserProfile,\n\n    },\n    {\n        path: '/wishlist',\n        component: WishList,\n\n    },\n    {\n        path: '/notifications',\n        component: NotificationsPage,\n\n    },\n    {\n        path: '/admin',\n        component: AdminApp,\n    }\n]\n\nexport default routes;","import React from 'react'\nimport { FaPlus, FaMinus } from 'react-icons/fa'\nexport class GuestsModal extends React.Component {\n\n\n    render() {\n        const { adultNumber, kidsNumber, infantsNumber, onSelectAmount } = this.props\n        return (\n            <div className=\"guest-modal flex column\">\n                <div className=\"guest-card flex space-between  align-center\">\n                    <div className=\"column\">\n                        <p className=\"guest-type\">Adults</p>\n                        <p className=\"guest-desc\">Ages 13 or above</p>\n                    </div>\n                    <div className=\"guest-amount\">\n                        <p className={adultNumber ? \"guest-btn\" : \"guest-btn zero\"} onClick={() => onSelectAmount('adultNumber', -1)}><FaMinus /></p>\n                        <p className=\"guest-amount-count\">{adultNumber ? adultNumber : 0}</p>\n                        <p className=\"guest-btn \" onClick={() => onSelectAmount('adultNumber', 1)}><FaPlus />\n                        </p>\n                    </div>\n                </div>\n                <div className=\"guest-card flex space-between align-center\">\n                    <div className=\"column\">\n                        <p className=\"guest-type\">Children</p>\n                        <p className=\"guest-desc\">Ages 2-12</p>\n                    </div>\n                    <div className=\"guest-amount\">\n                        <p className={kidsNumber ? \"guest-btn\" : \"guest-btn zero\"} onClick={() => onSelectAmount('kidsNumber', -1)}><FaMinus /></p>\n                        <p className=\"guest-amount-count\">{kidsNumber ? kidsNumber : 0}</p>\n                        <p className=\"guest-btn \" onClick={() => onSelectAmount('kidsNumber', 1)}><FaPlus />\n                        </p>\n                    </div>\n                </div>\n                <div className=\"guest-card flex space-between  align-center\">\n                    <div className=\"column\">\n                        <p className=\"guest-type\">Infants</p>\n                        <p className=\"guest-desc\">Under 2</p>\n                    </div>\n                    <div className=\"guest-amount \">\n                        <p className={infantsNumber ? \"guest-btn\" : \"guest-btn zero\"} onClick={() => onSelectAmount('infantsNumber', -1)}><FaMinus /></p>\n                        <p className=\"guest-amount-count\">{infantsNumber ? infantsNumber : 0}</p>\n                        <p className=\"guest-btn\" onClick={() => onSelectAmount('infantsNumber', 1)}><FaPlus />\n                        </p>\n                    </div>\n                </div>\n\n            </div>\n        )\n    }\n}","import React from \"react\";\nconst locations = [{ city: 'Porto', country: 'Portugal', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-1_avfpxl.png' }, { city: 'Barcelona', country: 'Spain', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-2_qchnx7.png' }, { city: 'Tel Aviv', country: 'Israel', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521280/location%20previews/location-preview-3_fndewl.png' }, { city: 'Paris', country: \"France\", imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-4_nqshaa.jpg' }, { city: 'London', country: 'United Kingdom', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-5_pbuhtd.jpg' }, { city: 'New York', country: 'United States', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-6_kynrq5.png' }, { city: 'Amsterdam', country: 'Netherlands', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521278/location%20previews/location-preview-7_unmsuc.jpg' }, { city: 'Rome', country: 'Italy', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-8_yjbewa.png' }]\nexport function LocationsPopUp({ closeAllModals, onSetLocationPopUp }) {\n    async function onPushTo(loc) {\n        closeAllModals()\n        onSetLocationPopUp(loc)\n    }\n\n    return (\n        <div className=\"location-modal flex column\">\n            {locations.map((location, idx) => <div key={idx} className=\"location-card flex align-center\" onClick={() => { onPushTo(location.city) }}>\n                <img src={location.imgUrl} alt=\"location\" className=\"loc-img\" />\n                <div className=\"flex column\">\n                    <p className=\"location-city\">{location.city}</p>\n                    <p className=\"location-country\">{location.country}</p>\n                </div>\n            </div>\n            )}\n        </div>\n\n    )\n}\n","import React from 'react'\nimport { GuestsModal } from './guests-modal';\nimport { FaSearch, FaChevronLeft } from 'react-icons/fa'\nimport { withRouter } from \"react-router-dom\"\nimport { DatesPicker2 } from \"./dates-picker2\"\nimport { LocationsPopUp } from './locations-popup';\nclass _SearchBar extends React.Component {\n    state = {\n        startDate: null,\n        endDate: null,\n        location: '',\n        adultNumber: 0,\n        kidsNumber: 0,\n        infantsNumber: 0,\n        capacity: 0,\n        amenities: '',\n        assetType: '',\n        uniqueStay: '',\n        guestModal: false,\n        datesModal: false,\n        hostId: ''\n    }\n    componentDidMount() {\n        const params = this.onGetQueryParams()\n        this.props.setFilter(params)\n        this.setState({ ...params })\n    }\n    onGetQueryParams = () => {\n        const urlParams = new URLSearchParams(this.props.location.search);\n        const location = urlParams.get('location') || '';\n        const startDate = urlParams.get('startDate') || null;\n        const endDate = urlParams.get('endDate') || null;\n        const adultNumber = +urlParams.get('adults') || 1;\n        const kidsNumber = +urlParams.get('kids') || 0;\n        const infantsNumber = +urlParams.get('infants') || 0;\n        const params = {\n            location,\n            startDate,\n            endDate,\n            adultNumber,\n            kidsNumber,\n            infantsNumber,\n            capacity: 0,\n            amenities: '',\n            assetType: '',\n            uniqueStay: '',\n            guestModal: false,\n            datesModal: false,\n            hostId: ''\n        }\n        return params\n    }\n    handleChange = (ev) => {\n        const value = ev.target.value;\n        var newValue = this.capitalizeArray(value)\n        this.setState({ location: newValue }, () => { this.props.setFilter(this.state) });\n    }\n    capitalizeArray = (str) => {\n        var newStr = str.split(' ')\n        for (var i = 0; i < newStr.length; i++) {\n            var currWord = ''\n            currWord = newStr[i]\n            currWord = this.capitalize(currWord)\n            newStr[i] = currWord\n        }\n        newStr = newStr.join(' ')\n        return newStr\n    }\n    capitalize = (str) => {\n        return str.charAt(0).toUpperCase() + str.slice(1).toLowerCase()\n    }\n    onSelectDates = ({ startDate, endDate }) => {\n        this.setState({ startDate, endDate }, () => { this.props.setFilter(this.state) })\n    }\n\n    onSelectAmount = (guestType, diff) => {\n        switch (guestType) {\n            case 'adultNumber':\n                if (this.state.adultNumber + diff >= 0) {\n                    this.setState({ adultNumber: this.state.adultNumber + diff }, () => { this.props.setFilter(this.state) })\n                }\n                break;\n            case 'kidsNumber':\n                if (this.state.kidsNumber + diff >= 0) {\n                    this.setState({ kidsNumber: this.state.kidsNumber + diff }, () => { this.props.setFilter(this.state) })\n                }\n                break;\n            case 'infantsNumber':\n                if (this.state.infantsNumber + diff >= 0) {\n                    this.setState({ infantsNumber: this.state.infantsNumber + diff }, () => { this.props.setFilter(this.state) })\n                }\n                break;\n            default:\n                break;\n        }\n    }\n    onSetFilter = async () => {\n        await this.props.setFilter(this.state)\n        const { location, startDate, endDate, adultNumber, kidsNumber, infantsNumber } = this.state\n        const urlQuery = `explore/?location=${location}&startDate=${startDate}&endDate=${endDate}&adults=${adultNumber}&kids=${kidsNumber}&infants=${infantsNumber}`\n        this.props.closeAllModals()\n        await this.props.loadStays(this.props.filterBy)\n        this.props.history.push(urlQuery)\n    }\n    onSetLocationPopUp = (val) => {\n        this.setState({ location: val },()=>{this.onSetFilter()})\n    }\n\n    timeToShow = (date, val) => {\n        var timeStamp = Date.parse(date);\n        var time = new Date(timeStamp);\n        var day = \"0\" + time.getDate();\n        var month = \"0\" + (time.getMonth() + 1);\n        var year = \"0\" + time.getFullYear();\n        var formattedTime = day.substr(-2) + '.' + month.substr(-2) + '.' + year.substr(-2);\n        return formattedTime\n    }\n\n    render() {\n        const { isMiniHeader, guestModal, datesModal, locModal, onToggleSearchModals, onToggleMiniSearchBar, closeAllModals, filterBy } = this.props\n        const { location, adultNumber, kidsNumber, infantsNumber, endDate, startDate } = this.state\n        return (\n            <div >\n                <div className=\"search-bar-container flex align-center \">\n                    <button className=\"go-back-btn\" onClick={() => { window.history.back() }}><FaChevronLeft size={22} /></button>\n                    <div className=\"location-container flex column\" onClick={() => { onToggleSearchModals('locModal') }}>\n                        <label htmlFor=\"location\" className=\"loc-inpt\">Location\n                            <input type=\"text\" name=\"location\" autoComplete=\"off\" value={location} onChange={this.handleChange} placeholder=\"Where are you going?\" />\n                        </label>\n                    </div>\n                    {locModal && <LocationsPopUp onSetLocationPopUp={this.onSetLocationPopUp}  closeAllModals={closeAllModals}  />}\n                    <div className=\"mini-search-input\" onClick={onToggleMiniSearchBar}>\n                        <p >\n                            {filterBy.location ? filterBy.location : 'Start your search'}\n                        </p>\n                    </div>\n                    <div className=\"dates-container flex \">\n                        <div className=\"check-in-input flex column\">\n                            <label htmlFor=\"\" onClick={() => { onToggleSearchModals('datesModal') }}>Check in <span>{startDate ? this.timeToShow(startDate, 'startDate') : 'Add date'}</span></label>\n                        </div>\n                        <div className=\"check-out-input flex column\" >\n                            <label htmlFor=\"\" onClick={() => { onToggleSearchModals('datesModal') }}>Check out <span>{endDate ? this.timeToShow(endDate, 'startDate') : 'Add date'}</span></label>\n\n                        </div>\n                    </div>\n\n                    <div className=\"guests-container\" >\n                        <div className=\"guests-label align-center flex\" onClick={(ev) => { onToggleSearchModals('guestModal',) }}>\n                            <label htmlFor=\"\" className=\"flex column\" >\n                                <span>Guests</span>\n                                <span className=\"guest-placeholder\">Add guests</span>\n                            </label>\n                        </div>\n                        {guestModal && <GuestsModal adultNumber={adultNumber} kidsNumber={kidsNumber} infantsNumber={infantsNumber} onSelectAmount={this.onSelectAmount} />}\n                    </div>\n                    <div className=\"search-btn-container flex align-center justify-center\" onClick={() => { this.onSetFilter() }} >\n                        {isMiniHeader && < FaSearch size={13} />}\n                        {!isMiniHeader && < FaSearch size={20} />}\n                    </div>\n\n                </div>\n                <div className=\"search-dates-container \">\n                    {datesModal && <DatesPicker2 onSelectDates={this.onSelectDates} />}\n                </div>\n            </div>\n        )\n    }\n}\nexport const SearchBar = withRouter(_SearchBar)\n\n// export const SearchBar = withRouter(connect(mapStateToProps, mapDispatchToProps)(_SearchBar))\n","import React from 'react'\nimport { withRouter } from 'react-router'\nimport { connect } from 'react-redux'\nimport { NavLink } from 'react-router-dom'\nimport { onLogout, loadUser } from '../store/user.actions'\nimport NotificationsNoneIcon from '@mui/icons-material/NotificationsNone';\nimport { socketService } from '../services/socket.service'\nclass _UserMenu extends React.Component {\n    state = {\n        isLoginModalOn: false\n    }\n    componentDidMount() {\n        if (this.props.user) {\n            this.props.loadUser(this.props.user._id)\n        }\n    }\n\n    onLogout = () => {\n        this.props.onLogout()\n        this.props.onToggleSearchModals('menuModal')\n        socketService.off('getNotif')\n        socketService.terminate()\n        // this.props.history.push('/')\n    }\n\n    onCloseLogin = () => {\n        this.setState({ isLoginModalOn: false })\n        this.props.onToggleSearchModals('menuModal')\n    }\n    onOpenLogin = () => {\n        this.props.history.push('/login')\n        this.props.onOpenBotLogin()\n        this.props.onToggleSearchModals('menuModal')\n    }\n\n    render() {\n        const { user } = this.props\n        return (\n            <div className=\"user-menu-container flex column\" >\n                <section className=\"user-menu top-section \">\n                    <div >\n                        {user && <NavLink onClick={() => this.props.onToggleSearchModals('menuModal')} className=\"user-menu-line flex space-between\" to=\"/notifications\"><p>Notifications</p><span className={user.notifications.length ? 'user-notifications-icon' : 'user-notifications-icon hide'}>{user.notifications.some(notif => !notif.isRead) ? <NotificationsNoneIcon /> : ''}</span></NavLink>}\n                    </div>\n                    <div  >\n                        {user && <NavLink onClick={() => this.props.onToggleSearchModals('menuModal')} className=\"user-menu-line\" to=\"/trips\"><p >Trips</p></NavLink>}\n                        {!user && <p className=\"user-menu-line\"> Trips</p>}\n\n                    </div>\n                    {\n                        user && user.isHost && <div >\n                            <NavLink onClick={() => this.props.onToggleSearchModals('menuModal')} to=\"/host\" className=\"user-menu-line\" ><p>Host</p></NavLink>\n\n                        </div>\n                    }\n                    <div >\n                        {user ? <NavLink className=\"user-menu-line\" onClick={() => this.props.onToggleSearchModals('menuModal')} to=\"/wishlist\"> <p>Wishlist</p> </NavLink> : <p className=\"user-menu-line\">Wishlist</p>}\n                    </div>\n                    <div >\n                        {user ? user.isHost ? '' : <NavLink onClick={() => this.props.onToggleSearchModals('menuModal')} className=\"user-menu-line\" to=\"/become-a-host\"><p >Host a expirience</p></NavLink> : <p className=\"user-menu-line\">Host a expirience</p>}\n\n                    </div>\n                </section >\n                <section className=\"user-menu bottom-section\">\n                    {user && <NavLink className=\"user-menu-line\" to=\"/profile\">\n                        <p>Profile</p>\n                    </NavLink>}\n                    {user && <div className=\"user-menu-line\" onClick={this.onLogout}>\n                        <p>Logout</p>\n                    </div>}\n                    {!user && <div className=\"user-menu-line\" onClick={this.onOpenLogin}>\n                        <p>Login</p>\n                        {/* <Link to='/login'>Login</Link> */}\n                    </div>}\n                    {!user && <div className=\"user-menu-line\" onClick={this.onOpenLogin}>\n                        <p>Signup</p>\n                    </div>}\n\n                </section>\n            </div >\n        )\n    }\n}\nfunction mapStateToProps(state) {\n    return {\n        user: state.userModule.user\n    }\n}\nconst mapDispatchToProps = {\n    onLogout,\n    loadUser\n}\nexport const UserMenu = withRouter(connect(mapStateToProps, mapDispatchToProps)(_UserMenu))","import React from 'react'\nimport { connect } from 'react-redux'\nimport { NavLink } from 'react-router-dom'\nimport { FaAirbnb, FaBars, FaUserAlt } from 'react-icons/fa'\nimport { onLogin, onLogout, onSignup, loadUsers, removeUser, } from '../store/user.actions.js'\nimport { setFilter, setMiniHeader, loadStays } from '../store/stay.actions';\nimport { SearchBar } from './search-bar';\nimport { UserMenu } from './user-menu';\nclass _AppHeader extends React.Component {\n    state = {\n        isUserMenuOpen: false,\n        isLoginBotmodal: false,\n        isScreenOpen: false,\n        guestModal: false,\n        datesModal: false,\n        locModal: false,\n        isMiniInput: false,\n        isNotifRead: false\n\n    }\n    componentDidMount() {\n        window.scrollTo(0, 0)\n        window.addEventListener('scroll', this.onScrollCloseModals)\n    }\n    componentDidUpdate(prevProps, prevState) {\n        if (prevProps.isMiniHeader !== this.props.isMiniHeader && !this.props.isMiniHeader) {\n            this.closeAllModals()\n        }\n\n    }\n    componentWillUnmount() {\n        window.removeEventListener('scroll', this.onScrollCloseModals)\n    }\n\n    onScrollCloseModals = (ev) => {\n        if (ev.target.scrollingElement.scrollTop > 1) {\n            this.closeAllModals()\n            this.setState({ isMiniInput: false })\n        }\n    }\n    onOpenBotLogin = () => {\n        this.setState({ isLoginBotmodal: true })\n    }\n    onToggleScreen = (val) => {\n        this.setState({ isScreenOpen: val })\n    }\n    onToggleSearchModals = (modal) => {\n        this.closeAllModals()\n        switch (modal) {\n            case 'locModal':\n                this.onToggleScreen(!this.state.locModal)\n                this.setState({ locModal: !this.state.locModal })\n                break;\n            case 'guestModal':\n                this.onToggleScreen(!this.state.guestModal)\n                this.setState({ guestModal: !this.state.guestModal })\n                break;\n            case 'datesModal':\n                this.onToggleScreen(!this.state.datesModal)\n                this.setState({ datesModal: !this.state.datesModal })\n                break;\n            case 'menuModal':\n                this.onToggleScreen(!this.state.isUserMenuOpen)\n                this.setState({ isUserMenuOpen: !this.state.isUserMenuOpen })\n                break;\n            default:\n                break;\n\n        }\n    }\n\n    closeAllModals = () => {\n        this.onToggleScreen(false)\n        this.setState({ locModal: false, guestModal: false, datesModal: false, isUserMenuOpen: false })\n    }\n\n    onToggleMiniSearchBar = () => {\n        this.setState({ isMiniInput: !this.state.isMiniInput })\n    }\n    \n    render() {\n        const { user, setFilter, filterBy, isMiniHeader } = this.props\n        const { isUserMenuOpen, isLoginBotmodal, isScreenOpen, locModal, datesModal, guestModal, isMiniInput } = this.state\n        console.log('header userrrrr' ,  user);\n        return (\n            <header className={isMiniInput ? `app-header-conatiner main-container mini-header-with-input` : isMiniHeader ? `app-header-conatiner main-container mini-header full` : `app-header-conatiner main-container `}>\n                <div className={isScreenOpen ? \"screen screen-open full\" : \"screen full\"} onClick={() => { this.closeAllModals() }}></div>\n                <nav className=\"user-header-section flex space-between align-center\">\n                    <div className=\"logo-container flex align-center\">\n                        <NavLink to=\"/\" className=\"logo\"><FaAirbnb size={40} color={!isMiniHeader ? '#fff' : '#ff5a5f'} /><span>AnyGo</span></NavLink>\n                    </div>\n                    <div className=\"search-bar\">\n                        {isMiniHeader && <SearchBar loadStays={this.props.loadStays} closeAllModals={this.closeAllModals} setFilter={setFilter} isMiniHeader={isMiniHeader} filterBy={filterBy} datesModal={datesModal} guestModal={guestModal} locModal={locModal} onToggleSearchModals={this.onToggleSearchModals} onToggleMiniSearchBar={this.onToggleMiniSearchBar} />}\n                    </div>\n                    <div className=\"nav-bar-container flex \">\n                        <div className=\"flex align-center\">\n                            <NavLink to=\"/explore/\" className=\"nav-opt\">Explore</NavLink>\n                        </div>\n                        <div className=\"nav-options flex align-center\">\n                            {user && user.isHost ? <NavLink to=\"/host\" className=\"nav-opt\">Switch to hosting</NavLink> : <NavLink to=\"/become-a-host\" className=\"nav-opt\">Become a host</NavLink>}\n                        </div>\n                        <div className=\"user-img-container \" onClick={() => { this.onToggleSearchModals('menuModal') }}>\n                            <button className=\"user-btn flex align-center btn-section  \">\n                                <FaBars className=\"menu-btn\" />\n                                {!user?.imgUrl ? <div className=\"user-logo-container\">\n                                <div className=\" user-icon flex align-center justify-center\">\n                                    <FaUserAlt  />\n                                    </div>\n                                </div> : <div className=\"user-logo-container\">\n                                    <img src={user.imgUrl} alt=\"\" />\n                                </div>}\n                            </button>\n                            {(user?.notifications?.length && user.notifications.some(notif => !notif.isRead)) ? <div className=\"notif-icon-container\">\n                                <div className=\"notif-icon flex align-center justify-center\">{user.notifications.filter(notif => !notif.isRead).length}</div>\n                            </div> : ''}\n                        </div>\n                        <div className=\"user-menu\">\n                            {isUserMenuOpen && <UserMenu onCheckRead={this.onCheckRead} onToggleSearchModals={this.onToggleSearchModals} onOpenBotLogin={this.onOpenBotLogin} />}\n                        </div>\n                    </div>\n                </nav>\n                {!isMiniHeader && <SearchBar loadStays={this.props.loadStays} closeAllModals={this.closeAllModals} setFilter={setFilter} isMiniHeader={isMiniHeader} filterBy={filterBy} datesModal={datesModal} guestModal={guestModal} locModal={locModal} onToggleSearchModals={this.onToggleSearchModals} />}\n            </header>\n        )\n    }\n}\n\n\nfunction mapStateToProps(state) {\n    return {\n        users: state.userModule.users,\n        user: state.userModule.user,\n        count: state.userModule.count,\n        isLoading: state.systemModule.isLoading,\n        filterBy: state.stayModule.filterBy,\n        isMiniHeader: state.stayModule.isMiniHeader\n    }\n}\nconst mapDispatchToProps = {\n    onLogin,\n    onSignup,\n    onLogout,\n    loadUsers,\n    removeUser,\n    setFilter,\n    setMiniHeader,\n    loadStays\n}\n\nexport const AppHeader = connect(mapStateToProps, mapDispatchToProps)(_AppHeader)","import { Link } from \"react-router-dom\"\n\nexport function TopRatedStays({ stays}) {\n    return (\n        <section className=\"flex column top-rated-stays \">\n            <h4>Top rated stays</h4>\n            {\n                stays.map(stay =>\n                    \n                    <div  key={stay._id} className=\"flex column stay-links\">\n                        <Link to={`/stay/${stay._id}`}>{stay.name}</Link>\n                    </div>\n                )\n            }\n        </section>\n    )\n}","function on(eventName, listener) {\n\n    const callListener = ({ detail }) => {\n        listener(detail);\n    };\n\n    window.addEventListener(eventName, callListener);\n\n    return () => {\n        window.removeEventListener(eventName, callListener);\n    };\n}\n\nfunction emit(eventName, data) {\n    window.dispatchEvent(new CustomEvent(eventName, { detail: data }));\n}\n\nexport const eventBusService = { on, emit };\n\nexport function showUserMsg(txt, type = '') {\n    eventBusService.emit('show-user-msg', { txt, type })\n}\nexport function showSuccessMsg(txt) {\n    showUserMsg(txt, 'success')\n}\nexport function showErrorMsg(txt) {\n    showUserMsg(txt, 'danger')\n}\n\nwindow.myBus = eventBusService;\nwindow.showUserMsg = showUserMsg;\n\n\n\n// eventBusService.emit('baba', [5, 8, 11])\n// setTimeout(()=>{\n//     eventBusService.emit('baba', 17)\n// }, 2000)\n\n/* Listening Component...\n    import {eventBusService} from 'path...event-bus-service'\n    eventBusService.on('some-event', (dataFromEvent) => {\n    do something with dataFromEvent\n    })\n\n   Receiving Component...\n    eventBusService.emit('some-event', data)\n*/","import React from 'react'\n\nimport { eventBusService } from '../services/event-bus.service.js'\n\n\nexport class UserMsg extends React.Component {\n\n  removeEvent;\n\n  state = {\n    msg: null\n  }\n\n  componentDidMount() {\n    // Here we listen to the event that we emited, its important to remove the listener \n    this.removeEvent = eventBusService.on('show-user-msg', (msg) => {\n      this.setState({ msg })\n      setTimeout(() => {\n        this.setState({ msg: null })\n      }, 2500)\n    })\n  }\n\n  componentWillUnmount() {\n    this.removeEvent()\n  }\n\n  render() {\n    if (!this.state.msg) return <span></span>\n    const msgClass = this.state.msg.type || ''\n    return (\n      <section className={'user-msg ' + msgClass}>\n        <div className=\"content-msg\">\n        <h3> {this.state.msg.txt}</h3>\n        </div>\n        <div className=\"close-msg-btn\">\n        <button onClick={() => {\n          this.setState({ msg: null })\n        }}>x</button>\n        </div>\n      </section>\n    )\n  }\n}\n","const locations = [{ city: 'Porto', country: 'Portugal' }, { city: 'Barcelona', country: 'Spain' }, { city: 'Tel Aviv', country: 'Israel' }, { city: 'Paris', country: \"France\" }, { city: 'London', country: 'United Kingdom' }, { city: 'New York', country: 'United States' }, { city: 'Amsterdam', country: 'Netherlands' }, { city: 'Rome', country: 'Italy' }]\nexport function FooterLocations({onClickLoc}) {\n    return (\n        <div className='flex column footer-locations'>\n            <h4>Locations</h4>\n            {\n                locations.map((loc,idx) =><p key={idx} onClick={()=>onClickLoc(loc.city,'location')}>{loc.city},{loc.country}</p>)\n            }\n        </div>\n    )\n}","import { Link } from \"react-router-dom\"\n\nexport function NearbyStays({ stays }) {\n    return <div className='flex column nearby-stays'>\n        <h4>Nearby</h4>\n        {stays.map(stay => <Link key={stay._id} to={`/stay/${stay._id}`}>{stay.name}</Link>)}\n    </div>\n}","\nimport React from 'react'\nimport { connect } from 'react-redux'\nimport { Link, withRouter } from 'react-router-dom'\nimport { TopRatedStays } from './app-footer/top-rated-stays'\nimport { loadStays } from '../store/stay.actions'\nimport { removeFromCart, checkout, setFilter } from '../store/stay.actions'\nimport { onBookTrip, loadUser } from '../store/user.actions'\nimport { UserMsg } from './user-msg.jsx'\nimport { FooterLocations } from './app-footer/locations-footer'\nimport { NearbyStays } from './app-footer/nearby-stays'\nclass _AppFooter extends React.Component {\n\n    state = {\n        isCartShown: false,\n        topRatedStays: [],\n        nearbyStays: [],\n        stays: []\n    }\n\n    async componentDidMount() {\n        await this.props.loadStays(this.props.filterBy)\n        this.setState({ stays: this.props.stays })\n        await this.props.loadUser()\n        const topRatedStays = this.state.stays.slice(0, 8)\n        this.setState({ topRatedStays })\n        this.filterLocs(this.state.stays)\n    }\n    filterLocs =  (stays) => {\n        stays = stays.filter(stay => stay.loc.address.toLowerCase().includes('paris'))\n        stays = stays.slice(0, 8)\n         this.setState({ nearbyStays: stays })\n    }\n    removeFromCart = (stayId) => {\n        this.props.removeFromCart(stayId)\n    }\n    checkout = () => {\n        this.props.checkout();\n    }\n    getstaytTotal() {\n        return this.props.cart.reduce((acc, stay) => acc + stay.price, 0)\n    }\n    onClickLoc = (val, type) => {\n        const newFilter = { ...this.props.filterBy }\n        newFilter[type] = val\n        this.props.setFilter(newFilter)\n        this.props.history.push('/explore')\n    }\n\n    render() {\n        const { user } = this.props\n        return (\n            <footer className=\"app-footer main-container full\">\n                <h2>Insparation for future getaways</h2>\n                <div className='flex footer-link-headers'>\n\n\n                </div>\n                <div className=\"flex footer-links align-center space-between\">\n                    <TopRatedStays stays={this.state.topRatedStays} />\n                    <FooterLocations locations={this.locations} onClickLoc={this.onClickLoc} />\n                    <NearbyStays stays={this.state.nearbyStays} />\n\n                </div>\n                <div className=\"footer-info flex space-between align-center\">\n                    <div className=\"footer-first flex\">\n                        <p>\n                             2021 AnyGo ,Inc.,\n                        </p>\n                        <Link to='/login'>Login</Link>\n                        {user && <Link to={user.isHost ? '/host' : '/become-a-host'}>{user.isHost ? ' Host page' : ' Become a host'}</Link>}\n                    </div>\n                    <div className=\"footer-second flex\">\n                        <p>$US</p>\n                        <p>English(US)</p>\n                    </div>\n                </div>\n                <UserMsg />\n            </footer>\n        )\n    }\n}\n\n\nfunction mapStateToProps(state) {\n    return {\n        count: state.userModule.count,\n        cart: state.stayModule.cart,\n        user: state.userModule.user,\n        stays: state.stayModule.stays,\n        filterBy: state.stayModule.filterBy,\n    }\n}\n\nconst mapDispatchToProps = {\n    checkout,\n    onBookTrip,\n    removeFromCart,\n    loadStays,\n    loadUser,\n    setFilter\n}\n\n// export const AppFooter = connect(mapStateToProps, mapDispatchToProps)(_AppFooter)\nexport const AppFooter = withRouter(connect(mapStateToProps, mapDispatchToProps)(_AppFooter))","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport {loadAndWatchUser} from '../store/user.actions'\n\nexport class _UserDetails extends Component {\n  \n  async componentDidMount() {\n    this.props.loadAndWatchUser(this.props.match.params.id)\n  }\n\n  render() {\n    const {user} = this.props\n    return (\n      <section className=\"user-details\">\n        <h1>User Details</h1>\n        {user && <div>\n          <h3>\n            {user.fullname}\n          </h3>\n          <pre>\n            {JSON.stringify(user, null, 2)}\n          </pre>\n        </div>}\n      </section>\n    )\n  }\n}\n\n\n\nconst mapStateToProps = state => {\n  return {\n    user: state.userModule.watchedUser\n  }\n}\nconst mapDispatchToProps = {\n  loadAndWatchUser\n}\n\nexport const UserDetails = connect(mapStateToProps, mapDispatchToProps)(_UserDetails)\n","import React from 'react'\n\n// const { Switch, Route } = ReactRouterDOM\nimport { Switch, Route } from 'react-router-dom'\n\nimport routes from './routes'\n\nimport {AppHeader} from './cmps/app-header'\nimport {AppFooter} from './cmps/app-footer'\nimport {UserDetails} from './pages/user-details'\n\nexport class RootCmp extends React.Component {\n\n    render() {\n        return (\n            <div className=\"root-cmp\">\n                <AppHeader  />\n                <main>\n                    <Switch>\n                        {routes.map(route=> <Route key={route.path} exact component={route.component} path={route.path} /> )}\n                        <Route path=\"/user/:id\" component={UserDetails} />\n                    </Switch>\n                </main>\n                <AppFooter />\n            </div>\n        )\n    }\n}\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom'\nimport { Provider } from 'react-redux'\nimport { store } from './store/store'\nimport { RootCmp } from './root-cmp';\nimport './assets/styles/main.scss';\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <Router>\n        <RootCmp />\n      </Router>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}